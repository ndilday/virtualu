<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ORESX.H Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>ORESX.H</h1><a href="ORESX_8H.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : ORESX.H</span>
00002 <span class="comment">//Description : Header file of Object ResourceIdx</span>
00003 
00004 <span class="preprocessor">#ifndef __ORESX_H</span>
00005 <span class="preprocessor"></span><span class="preprocessor">#define __ORESX_H</span>
00006 <span class="preprocessor"></span>
00007 <span class="preprocessor">#ifndef __ALL_H</span>
00008 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="ALL_8H.html">ALL.H</a>&gt;</span>
00009 <span class="preprocessor">#endif</span>
00010 <span class="preprocessor"></span>
00011 <span class="comment">//--------- Define structure ResIndex ----------//</span>
00012 
<a name="l00015"></a><a class="code" href="structResIndex.html">00015</a> <span class="keyword">struct </span><a class="code" href="structResIndex.html">ResIndex</a> {
<a name="l00016"></a><a class="code" href="structResIndex.html#m0">00016</a>     <span class="keywordtype">char</span> <a class="code" href="structResIndex.html#m0">name</a>[9];
<a name="l00017"></a><a class="code" href="structResIndex.html#m1">00017</a>     <span class="keywordtype">long</span> <a class="code" href="structResIndex.html#m1">pointer</a>;
00018 };
00019 
00020 <span class="comment">//--------- Define class ResourceIdx ----------//</span>
00021 
<a name="l00024"></a><a class="code" href="classResourceIdx.html">00024</a> <span class="keyword">class </span><a class="code" href="classResourceIdx.html">ResourceIdx</a> : <span class="keyword">public</span> <a class="code" href="classFile.html">File</a> {
00025 <span class="keyword">public</span>:
00026     <span class="keyword">enum</span> {                                        <span class="comment">// default buffer size : 5K</span>
00027         <a class="code" href="classResourceIdx.html#s1s0">DEF_BUF_SIZE</a> = 5120
00028     };
00029 
<a name="l00030"></a><a class="code" href="classResourceIdx.html#m0">00030</a>     <a class="code" href="structResIndex.html">ResIndex</a> *<a class="code" href="classResourceIdx.html#m0">index_buf</a>;                          <span class="comment">// index buffer pointer</span>
<a name="l00031"></a><a class="code" href="classResourceIdx.html#m1">00031</a>     <span class="keywordtype">char</span>     *<a class="code" href="classResourceIdx.html#m1">data_buf</a>;                           <span class="comment">// data buffer pointer</span>
<a name="l00032"></a><a class="code" href="classResourceIdx.html#m2">00032</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classResourceIdx.html#m2">data_buf_size</a>;                       <span class="comment">// size of the data buffer</span>
00033 
<a name="l00034"></a><a class="code" href="classResourceIdx.html#m3">00034</a>     <span class="keywordtype">char</span>     <a class="code" href="classResourceIdx.html#m3">init_flag</a>;
<a name="l00035"></a><a class="code" href="classResourceIdx.html#m4">00035</a>     <span class="keywordtype">char</span>     <a class="code" href="classResourceIdx.html#m4">read_all</a>;                            <span class="comment">// read all data from resource file to memory</span>
<a name="l00036"></a><a class="code" href="classResourceIdx.html#m5">00036</a>     <span class="keywordtype">char</span>     <a class="code" href="classResourceIdx.html#m5">use_common_buf</a>;                      <span class="comment">// use vga's buffer as data buffer or not</span>
<a name="l00037"></a><a class="code" href="classResourceIdx.html#m6">00037</a>     <span class="keywordtype">int</span>      <a class="code" href="classResourceIdx.html#m6">rec_count</a>;                           <span class="comment">// total no. of records</span>
<a name="l00038"></a><a class="code" href="classResourceIdx.html#m7">00038</a>     <span class="keywordtype">int</span>      <a class="code" href="classResourceIdx.html#m7">cur_rec_no</a>;                          <span class="comment">// current record no</span>
00039 
<a name="l00040"></a><a class="code" href="classResourceIdx.html#m8">00040</a>     <span class="keywordtype">char</span>*   <a class="code" href="classResourceIdx.html#m8">user_data_buf</a>;
<a name="l00041"></a><a class="code" href="classResourceIdx.html#m9">00041</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classResourceIdx.html#m9">user_data_buf_size</a>;
<a name="l00042"></a><a class="code" href="classResourceIdx.html#m10">00042</a>     <span class="keywordtype">int</span>   <a class="code" href="classResourceIdx.html#m10">user_start_read_pos</a>;                    <span class="comment">// the starting position of the data to be read into the buffer</span>
00043 
00044 <span class="keyword">public</span>:
<a name="l00045"></a><a class="code" href="classResourceIdx.html#a0">00045</a>     <a class="code" href="classResourceIdx.html#a0">ResourceIdx</a>()   { <a class="code" href="classResourceIdx.html#m3">init_flag</a>=0; }
<a name="l00046"></a><a class="code" href="classResourceIdx.html#a1">00046</a>     <a class="code" href="classResourceIdx.html#a1">~ResourceIdx</a>()  { <a class="code" href="classResourceIdx.html#a4">deinit</a>(); }
00047 
<a name="l00048"></a><a class="code" href="classResourceIdx.html#a2">00048</a>     <a class="code" href="classResourceIdx.html#a0">ResourceIdx</a>(<span class="keywordtype">char</span>* resFile, <span class="keywordtype">int</span> readAll, <span class="keywordtype">int</span> useCommonBuf=0)
00049         { <a class="code" href="classResourceIdx.html#m3">init_flag</a>=0; <a class="code" href="classResourceIdx.html#a3">init</a>(resFile, readAll, useCommonBuf); }
00050 
00051     <span class="keywordtype">void</span>  <a class="code" href="classResourceIdx.html#a3">init</a>(<span class="keywordtype">char</span>* resFile, <span class="keywordtype">int</span> readAll, <span class="keywordtype">int</span> useCommonBuf=0);
00052     <span class="keywordtype">void</span>  <a class="code" href="classResourceIdx.html#a4">deinit</a>();
00053 
<a name="l00054"></a><a class="code" href="classResourceIdx.html#a5">00054</a>     <span class="keywordtype">int</span>   <a class="code" href="classResourceIdx.html#a5">is_inited</a>()   { <span class="keywordflow">return</span> <a class="code" href="classResourceIdx.html#m3">init_flag</a>; }
00055 
00056     <span class="keywordtype">void</span>  <a class="code" href="classResourceIdx.html#a6">set_user_buf</a>(<span class="keywordtype">char</span>* userDataBuf, <span class="keywordtype">int</span> bufSize, <span class="keywordtype">int</span> userStartReadPos=0);
00057     <span class="keywordtype">void</span>  <a class="code" href="classResourceIdx.html#a7">reset_user_buf</a>();
00058 
00059     <span class="keywordtype">char</span>* <a class="code" href="classResourceIdx.html#a8">read</a>(<span class="keywordtype">char</span>*);
00060     <span class="keywordtype">int</span> <a class="code" href="classResourceIdx.html#a9">read_into_user_buf</a>(<span class="keywordtype">char</span>* dataName, <span class="keywordtype">char</span>* userDataBuf, <span class="keywordtype">int</span> bufSize, <span class="keywordtype">int</span> userStartReadPos=0);
00061 
00062     <span class="keywordtype">int</span>   <a class="code" href="classResourceIdx.html#a10">get_index</a>(<span class="keywordtype">char</span>*);
00063     <span class="keywordtype">char</span>* <a class="code" href="classResourceIdx.html#a11">get_data</a>(<span class="keywordtype">int</span>);
00064     <span class="keywordtype">char</span>  *<a class="code" href="classResourceIdx.html#a12">data_name</a>(<span class="keywordtype">int</span>);
00065 
00066     <a class="code" href="classFile.html">File</a>* <a class="code" href="classResourceIdx.html#a13">get_file</a>(<span class="keywordtype">char</span>*, <span class="keywordtype">int</span>&amp;);
00067     <a class="code" href="classFile.html">File</a>* <a class="code" href="classResourceIdx.html#a13">get_file</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>&amp;);
00068 };
00069 
00070 <span class="comment">//--------------------------------------------//</span>
00071 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:38:18 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
