<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Oathl_if.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Oathl_if.cpp</h1><a href="Oathl__if_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : OATHL_IF.CPP</span>
00002 <span class="comment">//Description : Athletics (Athletics Office) class</span>
00003 <span class="comment">// owner                        : Kevin(Ho)</span>
00004 <span class="comment">// Notes:       Steps to introduce a new class of user interface</span>
00005 <span class="comment">//                              1.      construct the new class</span>
00006 <span class="comment">//                              2.      in sys.h, add the new MODE, e.g. MODE_ADMISSIONS_AND_FINANCIAL_OFFICE</span>
00007 <span class="comment">//                              3.      include the new header file in cc.cpp, osysdisp.cpp, osysdet.cpp</span>
00008 <span class="comment">//                              4.      in cc.cpp, declare a global object of the new class, with the name matching the 'extern' statement in the header file</span>
00009 <span class="comment">//                              5.      in osysdisp.cpp, under switch(view_mode), add the redirection to the display function</span>
00010 <span class="comment">//                              6.      in osysdet.cpp, under Sys::detect_view, add the redirection to the detect function</span>
00011 <span class="comment">//                              7.      in osysdet.cpp, under Sys::process_key, add the new hot key (optional)</span>
00012 <span class="comment">//                              8.      in osysdet.cpp, under Sys::detect_button, modify if necessary (see the comments there)</span>
00013 <span class="comment">//                              9.      the deinit function (AdmOffice::deinit()) can be called when the view_mode in 'sys' object is switched</span>
00014 <span class="comment">//                                      the function frees memory occupied by this object</span>
00015 <span class="comment">//                                      the report function would re-allocate memory when it is called (note the report_init_flag)</span>
00016 <span class="comment">//                                      notice the beginning section of Sys::disp_frame()</span>
00017 <span class="comment">// Kevin 0723</span>
00018 
00019 <span class="preprocessor">#include &lt;OSYS.H&gt;</span>
00020 <span class="preprocessor">#include &lt;<a class="code" href="OSTR_8H.html">OSTR.H</a>&gt;</span>
00021 <span class="preprocessor">#include &lt;<a class="code" href="OGAMESET_8H.html">OGAMESET.H</a>&gt;</span>
00022 <span class="preprocessor">#include &lt;OWORLDMT.H&gt;</span>
00023 <span class="preprocessor">#include &lt;OATHLETI.H&gt;</span>
00024 <span class="preprocessor">#include &lt;<a class="code" href="OVGA_8H.html">OVGA.H</a>&gt;</span>
00025 <span class="preprocessor">#include &lt;OINFO.H&gt;</span>
00026 <span class="preprocessor">#include &lt;OENROLL.H&gt;</span>
00027 <span class="preprocessor">#include &lt;OIFACE.H&gt;</span>
00028 <span class="preprocessor">#include &lt;<a class="code" href="COLOR_8H.html">COLOR.H</a>&gt;</span>
00029 <span class="preprocessor">#include &lt;OFONT.H&gt;</span>
00030 <span class="preprocessor">#include &lt;OGAMESTR.H&gt;</span>
00031 <span class="preprocessor">#include &lt;OMOUSE.H&gt;</span>
00032 <span class="preprocessor">#include &lt;OBUTTON.H&gt;</span>
00033 <span class="preprocessor">#include &lt;<a class="code" href="ORADIOV_8H.html">ORADIOV.H</a>&gt;</span>
00034 <span class="preprocessor">#include &lt;<a class="code" href="ORADIO_8H.html">ORADIO.H</a>&gt;</span>
00035 <span class="preprocessor">#include &lt;OFINANCE.H&gt;</span>
00036 <span class="preprocessor">#include &lt;<a class="code" href="OVALSLDR_8H.html">OVALSLDR.H</a>&gt;</span>
00037 <span class="preprocessor">#include &lt;OSPINNER.H&gt;</span>
00038 <span class="preprocessor">#include &lt;<a class="code" href="OGRPHYR_8H.html">OGRPHYR.H</a>&gt;</span>
00039 <span class="preprocessor">#include &lt;<a class="code" href="OGRPAREA_8H.html">OGRPAREA.H</a>&gt;</span>
00040 <span class="preprocessor">#include &lt;<a class="code" href="OGRPDYR_8H.html">OGRPDYR.H</a>&gt;</span>
00041 <span class="preprocessor">#include &lt;OPSCHOOL.H&gt;</span>                             <span class="comment">//#### fred 1021</span>
00042 <span class="preprocessor">#include &lt;<a class="code" href="OHELP_8H.html">OHELP.H</a>&gt;</span>                                <span class="comment">//#### fred 1021</span>
00043 <span class="preprocessor">#include &lt;OCHANCE.H&gt;</span>
00044 <span class="comment">//------- Define constants -------//</span>
00045 
00046 <span class="keyword">enum</span> {                                            <span class="comment">// the 'sub' view-modes</span>
00047     <a class="code" href="Oathl__if_8cpp.html#a88a36">MODE_ATHLETICS</a> = 0,
00048     <a class="code" href="Oathl__if_8cpp.html#a88a37">MODE_FINANCIAL</a> = 1,
00049 };
00050 
00051 <span class="keyword">enum</span> {                                            <span class="comment">// the bg image id</span>
00052     <a class="code" href="Oathl__if_8cpp.html#a89a38">BG_PIC_ID</a> = 2
00053 };
00054 
00055 <span class="keyword">enum</span> {                                            <span class="comment">// screen coordinates</span>
00056     <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a> = <a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>+15,
00057     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a> = <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>+25,
00058     <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a> = <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>-15,
00059     <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a> = <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>-55
00060 };
00061 
00062 <span class="keyword">enum</span> {
00063     <a class="code" href="Oathl__if_8cpp.html#a91a43">BOTTOM_BUTTON_X1</a> = <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+200,
00064     <a class="code" href="Oathl__if_8cpp.html#a91a44">BOTTOM_BUTTON_Y1</a> = <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>+15,
00065     <a class="code" href="Oathl__if_8cpp.html#a91a45">BOTTOM_BUTTON_X2</a> = <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>-80,
00066     <a class="code" href="Oathl__if_8cpp.html#a91a46">BOTTOM_BUTTON_Y2</a> = <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>+40
00067 };
00068 
00069 <span class="keyword">enum</span> {
00070     <a class="code" href="Oathl__if_8cpp.html#a92a47">BOTTOM_BUTTON_WIDTH</a> = 125,
00071     <a class="code" href="Oathl__if_8cpp.html#a92a48">BOTTOM_BUTTON_HEIGHT</a> = 25,
00072     <a class="code" href="Oathl__if_8cpp.html#a92a49">BOTTOM_BUTTON_DISTANCE</a>
00073     = (<a class="code" href="Oathl__if_8cpp.html#a91a45">BOTTOM_BUTTON_X2</a>-<a class="code" href="Oathl__if_8cpp.html#a91a43">BOTTOM_BUTTON_X1</a>-<a class="code" href="Oathl__if_8cpp.html#a92a47">BOTTOM_BUTTON_WIDTH</a>*2)/3
00074 };
00075 
00076 <span class="comment">// begin kevin 0723</span>
00077 <span class="keyword">enum</span> {
00078     <a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a> = 120,
00079     <a class="code" href="Oathl__if_8cpp.html#a93a51">MODE_ATHLETICS_BOX2_HEIGHT</a> = 215,
00080     <a class="code" href="Oathl__if_8cpp.html#a93a52">MODE_ATHLETICS_BOX_WIDTH</a> = 650,
00081     <a class="code" href="Oathl__if_8cpp.html#a93a53">MODE_ATHLETICS_TAB0</a> = 15,
00082     <a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a> = 100,
00083     <a class="code" href="Oathl__if_8cpp.html#a93a55">MODE_ATHLETICS_TAB2</a> = 455,
00084 };
00085 
00086 <span class="keyword">enum</span> {
00087     <a class="code" href="Oathl__if_8cpp.html#a94a56">MODE_ATHLETICS_GRAPH_WIDTH</a> = 370,
00088     <a class="code" href="Oathl__if_8cpp.html#a94a57">MODE_ATHLETICS_GRAPH_HEIGHT</a> = 160,
00089     <a class="code" href="Oathl__if_8cpp.html#a94a58">MODE_ATHLETICS_LEGEND_HEIGHT</a> = 26,
00090     <a class="code" href="Oathl__if_8cpp.html#a94a59">MODE_ATHLETICS_LEGEND_WIDTH</a> = 370,
00091 };
00092 
00093 <span class="comment">// end kevin 0723</span>
00094 
00095 <span class="keyword">enum</span> {
00096     <a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a> = 125,
00097     <a class="code" href="Oathl__if_8cpp.html#a95a61">MODE_FINANCIAL_BOX2_HEIGHT</a> = 210,
00098     <a class="code" href="Oathl__if_8cpp.html#a95a62">MODE_FINANCIAL_GRAPH_WIDTH</a> = 400,
00099     <a class="code" href="Oathl__if_8cpp.html#a95a63">MODE_FINANCIAL_GRAPH_HEIGHT</a> = 160,
00100     <a class="code" href="Oathl__if_8cpp.html#a95a64">MODE_FINANCIAL_LEGEND_HEIGHT</a> = 26,
00101     <a class="code" href="Oathl__if_8cpp.html#a95a65">MODE_FINANCIAL_LEGEND_WIDTH</a> = 400,
00102 
00103     <a class="code" href="Oathl__if_8cpp.html#a95a66">MODE_FINANCIAL_TAB1</a> = 15,
00104     <a class="code" href="Oathl__if_8cpp.html#a95a67">MODE_FINANCIAL_TAB2</a> = 280,
00105     <a class="code" href="Oathl__if_8cpp.html#a95a68">MODE_FINANCIAL_TAB3</a> = 360,
00106     <a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a> = 440,
00107     <a class="code" href="Oathl__if_8cpp.html#a95a70">MODE_FINANCIAL_TAB5</a> = 520,
00108     <a class="code" href="Oathl__if_8cpp.html#a95a71">MODE_FINANCIAL_TAB6</a> = 600,
00109 };
00110 
00111 <span class="keyword">enum</span> {
00112     <a class="code" href="Oathl__if_8cpp.html#a96a72">FINANCIAL_BUTTON_X1</a> = <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>+30,
00113     <a class="code" href="Oathl__if_8cpp.html#a96a73">FINANCIAL_BUTTON_Y1</a> = <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>+120,
00114     <a class="code" href="Oathl__if_8cpp.html#a96a74">FINANCIAL_BUTTON_X2</a> = <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00115     <a class="code" href="Oathl__if_8cpp.html#a96a75">FINANCIAL_BUTTON_Y2</a> = <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>
00116 };
00117 
00118 <span class="keyword">enum</span> {
00119     <a class="code" href="Oathl__if_8cpp.html#a97a76">FINANCIAL_BUTTON_WIDTH</a> = 200,
00120     <a class="code" href="Oathl__if_8cpp.html#a97a77">FINANCIAL_BUTTON_HEIGHT</a> = 25,
00121     <a class="code" href="Oathl__if_8cpp.html#a97a78">FINANCIAL_BUTTON_DISTANCE</a>
00122     = (<a class="code" href="Oathl__if_8cpp.html#a96a75">FINANCIAL_BUTTON_Y2</a>-<a class="code" href="Oathl__if_8cpp.html#a96a73">FINANCIAL_BUTTON_Y1</a>-<a class="code" href="Oathl__if_8cpp.html#a97a77">FINANCIAL_BUTTON_HEIGHT</a>*3)/4
00123 };
00124 
00125 <span class="keyword">enum</span> {                                            <span class="comment">// the 'sub' view-modes</span>
00126     <a class="code" href="Oathl__if_8cpp.html#a98a79">MODE_FINANCIAL_IMPLEMENT</a> = 2,
00127     <a class="code" href="Oathl__if_8cpp.html#a98a80">MODE_FINANCIAL_ANNOUNCE</a> = 1,
00128     <a class="code" href="Oathl__if_8cpp.html#a98a81">MODE_FINANCIAL_CONSIDER</a> = 0,
00129 };
00130 
00131 <span class="comment">//-------- define static vars -----------//</span>
00132 
00133 <span class="keyword">static</span> <span class="keywordtype">char</span> report_init_flag = 0;
00134 <span class="keyword">static</span> <span class="keywordtype">char</span> mode_init_flag = -1;                  <span class="comment">// -1: non of the mode was init'ed</span>
00135 
00136 <span class="keyword">static</span> <a class="code" href="classButtonGroup.html">ButtonGroup</a> bottom_button_group(2);
00137 <span class="keyword">static</span> <span class="keywordtype">short</span> *bottom_button_up_bitmap[2];
00138 <span class="keyword">static</span> <span class="keywordtype">short</span> *bottom_button_down_bitmap[2];
00139 <span class="keyword">static</span> <span class="keywordtype">char</span> *bottom_button_label[] = {
00140     <span class="stringliteral">"Overview"</span>, <span class="stringliteral">"Finance"</span>
00141 };
00142 
00143 <span class="comment">// Notes:       the strings could be moved to Ogamestr.cpp</span>
00144 <span class="comment">// Begin Athletics Mode Setting</span>
00145 <span class="keyword">static</span> <a class="code" href="classGraphDoubleBarYear.html">GraphDoubleBarYear</a> mode_athletics_graphdbar_winloss;
00146 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_athletics_graph_title=<span class="stringliteral">"Win/loss records"</span>;
00147 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_athletics_legend_label[] = {
00148     <span class="stringliteral">"Wins"</span>,<span class="stringliteral">"Losses"</span>,
00149 };
00150 <span class="keyword">static</span> <a class="code" href="classRadioButtonVert.html">RadioButtonVert</a> mode_athletics_radio_button_football;
00151 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_athletics_radio_button_participation;
00152 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_athletics_radio_button_adm_treatment;
00153 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_athletics_radio_button_fin_treatment;
00154 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_athletics_str1[] = {
00155     <span class="stringliteral">"Division III"</span>, <span class="stringliteral">"Division II"</span>, <span class="stringliteral">"Division I"</span>
00156 };
00157 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_athletics_str2[] = {
00158     <span class="stringliteral">"Low"</span>, <span class="stringliteral">"Medium"</span>, <span class="stringliteral">"High"</span>
00159 };
00160 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_athletics_str3[] = {
00161     <span class="stringliteral">"Men's football team record (Fall semester)"</span>,
00162     <span class="stringliteral">"Women's basketball team record \r\n(Spring semester)"</span>
00163 };
00164 
00165 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_athletics_str4[] = {
00166     <span class="stringliteral">"Number of top athletes currently enrolled"</span>,
00167     <span class="stringliteral">"Current intercollegiate level of competition"</span>,
00168     <span class="stringliteral">"Special admission treatment for top athletes"</span>,
00169     <span class="stringliteral">"Special financial aid treatment for top athletes"</span>,
00170 };
00171 
00172 <span class="keyword">static</span> <span class="keywordtype">short</span> *mode_athletics_no_top_athletes_bitmap;
00173 
00174 <span class="comment">// End Athletics Mode Setting</span>
00175 
00176 <span class="comment">// Begin Financial Mode Setting</span>
00177 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_financial_str[] = {
00178     <span class="stringliteral">"Intercollegiate athletic revenue"</span>,
00179     <span class="stringliteral">"Athletic expenditure"</span>,
00180     <span class="stringliteral">"Balance"</span>,
00181     <span class="stringliteral">""</span>,
00182     <span class="stringliteral">"Change"</span>,
00183     <span class="stringliteral">"Change in athletic expenditure budget"</span>
00184 };
00185 
00186 <span class="keyword">static</span> <span class="keywordtype">short</span> *mode_financial_stats_bitmap;
00187 <span class="keyword">static</span> <a class="code" href="classSpinner.html">Spinner</a> financial_spinner_budget;
00188 <span class="keyword">static</span> <a class="code" href="classValueSlider.html">ValueSlider</a> mode_financial_slider_budget;
00189 <span class="keyword">static</span> <a class="code" href="classButtonGroup.html">ButtonGroup</a> financial_button_group(3);
00190 <span class="keyword">static</span> <span class="keywordtype">short</span> *financial_button_up_bitmap[3];
00191 <span class="keyword">static</span> <span class="keywordtype">short</span> *financial_button_down_bitmap[3];
00192 <span class="keyword">static</span> <span class="keywordtype">char</span> *financial_button_label[] = {
00193     <span class="stringliteral">"Consider for next year"</span>, <span class="stringliteral">"Promise for next year"</span>, <span class="stringliteral">"Implement now"</span>
00194 };
00195 <span class="keyword">static</span> <span class="keywordtype">char</span> financial_current_mode = <a class="code" href="Oathl__if_8cpp.html#a98a81">MODE_FINANCIAL_CONSIDER</a>;
00196 
00197 <span class="keyword">static</span> <a class="code" href="classGraphArea.html">GraphArea</a> mode_financial_graph_profitloss;
00198 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_financial_graph_title=<span class="stringliteral">""</span>;
00199 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_financial_legend_label[] = {
00200     <span class="stringliteral">"Revenue"</span>,<span class="stringliteral">"Expenditure"</span>,
00201     <span class="stringliteral">"Profit"</span>,<span class="stringliteral">"Loss"</span>,
00202 };
00203 
00204 <span class="comment">// End Financial Mode Setting</span>
00205 
00206 <span class="comment">//-------- define static functions ------//</span>
00207 
00208 <span class="comment">// Notes:       the deinit_x functions should deallocate memory used by the</span>
00209 <span class="comment">//                              GraphDoubleBar, ValueSlider, RadioButton, etc. objects</span>
00210 <span class="comment">//                              the functions are called when a mode-switching is triggered</span>
00211 <span class="comment">//      Norris 0716</span>
00212 
00213 <span class="keyword">static</span> <span class="keywordtype">void</span> report_athletics(<span class="keywordtype">int</span>);
00214 <span class="keyword">static</span> <span class="keywordtype">void</span> report_financial(<span class="keywordtype">int</span>);
00215 <span class="keyword">static</span> <span class="keywordtype">int</span> detect_athletics();
00216 <span class="keyword">static</span> <span class="keywordtype">int</span> detect_financial();
00217 <span class="keyword">static</span> <span class="keywordtype">void</span> deinit_athletics();
00218 <span class="keyword">static</span> <span class="keywordtype">void</span> deinit_financial();
00219 
<a name="l00220"></a><a class="code" href="Oathl__if_8cpp.html#a30">00220</a> <span class="keyword">typedef</span> void (*<a class="code" href="Oathl__if_8cpp.html#a30">ReportFP</a>)(<span class="keywordtype">int</span> refreshFlag);
<a name="l00221"></a><a class="code" href="Oathl__if_8cpp.html#a31">00221</a> <span class="keyword">typedef</span> int (*<a class="code" href="Oathl__if_8cpp.html#a31">DetectFP</a>)();
<a name="l00222"></a><a class="code" href="Oathl__if_8cpp.html#a32">00222</a> <span class="keyword">typedef</span> void (*<a class="code" href="Oathl__if_8cpp.html#a32">DeinitFP</a>)();
00223 
00224 <span class="keyword">static</span> <a class="code" href="Oathl__if_8cpp.html#a30">ReportFP</a> report_func_ptr[] = {
00225     &amp;report_athletics,
00226     &amp;report_financial
00227 };
00228 
00229 <span class="keyword">static</span> <a class="code" href="Oathl__if_8cpp.html#a31">DetectFP</a> detect_func_ptr[] = {
00230     &amp;detect_athletics,
00231     &amp;detect_financial
00232 };
00233 
00234 <span class="keyword">static</span> <a class="code" href="Oathl__if_8cpp.html#a32">DeinitFP</a> deinit_func_ptr[] = {
00235     &amp;deinit_athletics,
00236     &amp;deinit_financial,
00237 };
00238 
00239 <span class="comment">//------- Begin of function Athletics::Athletics -----------//</span>
<a name="l00241"></a><a class="code" href="classAthletics.html#a0">00241</a> <span class="comment">Athletics::Athletics() {</span>
00242     init();
00243 }
00244 
00245 <span class="comment">//--------- End of function Athletics::Athletics -----------//</span>
00246 
00247 <span class="comment">//------- Begin of function Athletics::~Athletics -----------//</span>
<a name="l00249"></a><a class="code" href="classAthletics.html#a1">00249</a> <span class="comment">Athletics::~Athletics() {</span>
00250     deinit();
00251 }
00252 
00253 <span class="comment">//--------- End of function Athletics::~Athletics -----------//</span>
00254 
00255 <span class="comment">//------- Begin of function Athletics::deinit ---------------//</span>
<a name="l00257"></a><a class="code" href="classAthletics.html#a3">00257</a> <span class="comment">void Athletics::deinit() {</span>
00258     <span class="comment">//--------- deallocate memory -------------//</span>
00259     <span class="comment">// ##### begin Gilbert 28/4/2001 ######//</span>
00260     bottom_button_group.<a class="code" href="classButtonGroup.html#a2">deinit_buttons</a>();
00261     <span class="comment">// ##### end Gilbert 28/4/2001 ######//</span>
00262     <span class="keywordflow">if</span> (*bottom_button_up_bitmap) {
00263         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; i++) {
00264             <a class="code" href="ALL_8H.html#a8">mem_del</a>(bottom_button_up_bitmap[i]);
00265             <a class="code" href="ALL_8H.html#a8">mem_del</a>(bottom_button_down_bitmap[i]);
00266             bottom_button_up_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00267             bottom_button_down_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00268         }
00269     }
00270 
00271     (*deinit_func_ptr[current_mode])();
00272 
00273     report_init_flag = 0;
00274 }
00275 
00276 <span class="comment">//--------- End of function Athletics::deinit ---------------//</span>
00277 
00278 <span class="comment">//------- Begin of function Athletics::init -----------------//</span>
<a name="l00280"></a><a class="code" href="classAthletics.html#a2">00280</a> <span class="comment">void Athletics::init() {</span>
00281 
00282     memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(<a class="code" href="classAthletics.html">Athletics</a>));
00283 
00284     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; i++) {
00285         bottom_button_up_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00286         bottom_button_down_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00287     }
00288 
00289     current_mode = <a class="code" href="Oathl__if_8cpp.html#a88a36">MODE_ATHLETICS</a>;
00290 }
00291 
00292 <span class="comment">//--------- End of function Athletics::init -----------------//</span>
00293 
00294 <span class="comment">//------- Begin of function Athletics::report ---------------//</span>
<a name="l00296"></a><a class="code" href="classAthletics.html#a4">00296</a> <span class="comment">void Athletics::report(int refreshFlag) {</span>
00297     vga.use_back();
00298 
00299 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00300 <span class="preprocessor"></span>    <span class="comment">// fix in version 2</span>
00301     sys.is_institution_report = 1;
00302 <span class="preprocessor">#endif</span>
00303 <span class="preprocessor"></span>
00304     <span class="keywordflow">if</span> (refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a>) {
00305         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
00306             deinit();
00307 
00308         <span class="comment">//------------- paint the background ----------------//</span>
00309         user_interface.bg_img(<a class="code" href="Oathl__if_8cpp.html#a89a38">BG_PIC_ID</a>, &amp;vga_back);
00310 
00311         <span class="comment">//----- initialize the bottom sub-menus buttons -----//</span>
00312         <span class="keywordflow">if</span> (!report_init_flag) {
00313             <span class="keywordtype">short</span> x = <a class="code" href="Oathl__if_8cpp.html#a91a43">BOTTOM_BUTTON_X1</a>;
00314             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; i++, x+=<a class="code" href="Oathl__if_8cpp.html#a92a47">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Oathl__if_8cpp.html#a92a49">BOTTOM_BUTTON_DISTANCE</a>) {
00315                 user_interface.create_button_bitmap(x, <a class="code" href="Oathl__if_8cpp.html#a91a44">BOTTOM_BUTTON_Y1</a>,
00316                                                     x+<a class="code" href="Oathl__if_8cpp.html#a92a47">BOTTOM_BUTTON_WIDTH</a>, <a class="code" href="Oathl__if_8cpp.html#a91a44">BOTTOM_BUTTON_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a92a48">BOTTOM_BUTTON_HEIGHT</a>,
00317                                                     bottom_button_label[i], &amp;bottom_button_up_bitmap[i],
00318                                                     &amp;bottom_button_down_bitmap[i], &amp;vga_back);
00319 
00320                 bottom_button_group[i].create_bitmapW(x, <a class="code" href="Oathl__if_8cpp.html#a91a44">BOTTOM_BUTTON_Y1</a>,
00321                                                       x+<a class="code" href="Oathl__if_8cpp.html#a92a47">BOTTOM_BUTTON_WIDTH</a>, <a class="code" href="Oathl__if_8cpp.html#a91a44">BOTTOM_BUTTON_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a92a48">BOTTOM_BUTTON_HEIGHT</a>,
00322                                                       ((i == current_mode) ? bottom_button_down_bitmap[i] : bottom_button_up_bitmap[i])+4);
00323             }
00324             report_init_flag = 1;
00325         }
00326 
00327         <span class="comment">//----------- paint the bottom button group ---------//</span>
00328         bottom_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(current_mode);
00329     }
00330 
00331     <span class="comment">//---- repaint/refresh the display of the current mode ----//</span>
00332     (*report_func_ptr[current_mode])(refreshFlag);
00333 
00334     <span class="comment">// Comments:        blt buffer only if repaint, because the</span>
00335     <span class="comment">//                                  report_x functions would handle blt_buf</span>
00336     <span class="comment">//                                  when refresh</span>
00337     <span class="comment">//                                  equivalently, in the report_x functions,</span>
00338     <span class="comment">//                                  only blt buffer when refresh</span>
00339 
00340     <span class="keywordflow">if</span> (refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a>) {
00341         <span class="comment">//------- blt the back buffer to front buffer -------//</span>
00342         vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
00343     }
00344 
00345     <span class="comment">//##trevor 2807</span>
00346     vga.use_front();
00347     <span class="comment">//##trevor 2807</span>
00348 }
00349 
00350 <span class="comment">//---------- End of function Athletics::report ------------//</span>
00351 
00352 <span class="comment">//-------- Begin of function Athletics::detect ------------//</span>
<a name="l00356"></a><a class="code" href="classAthletics.html#a5">00356</a> <span class="comment">int Athletics::detect() {</span>
00357     vga.use_back();
00358 
00359     <span class="keywordtype">int</span> rc = detect2();
00360 
00361     vga.use_front();
00362 
00363     <span class="keywordflow">return</span> rc;
00364 }
00365 
00366 <span class="comment">//---------- End of function Athletics::detect ------------//</span>
00367 
00368 <span class="comment">//-------- Begin of function Athletics::detect2 ------------//</span>
<a name="l00372"></a><a class="code" href="classAthletics.html#a6">00372</a> <span class="comment">int Athletics::detect2() {</span>
00373     <span class="keywordflow">if</span> (!report_init_flag)
00374         <span class="keywordflow">return</span> 0;
00375 
00376     <span class="keywordtype">int</span> bottomButtonGroupDetect;
00377     <span class="keywordflow">if</span> ((bottomButtonGroupDetect = bottom_button_group.<a class="code" href="classButtonGroup.html#a4">detect</a>()) &gt;= 0) {
00378         <span class="comment">//---- deinit the modes to free memory ----//</span>
00379         (*deinit_func_ptr[current_mode])();
00380 
00381         <span class="comment">//-------- change display mode ------------//</span>
00382         bottom_button_group[current_mode].body_ptr = (<span class="keywordtype">void</span> *) (bottom_button_up_bitmap[current_mode] + 4);
00383         current_mode = bottomButtonGroupDetect;
00384         bottom_button_group[current_mode].body_ptr = (<span class="keywordtype">void</span> *) (bottom_button_down_bitmap[current_mode] + 4);
00385 
00386         <span class="comment">//-------- post display redraw flag -------//</span>
00387         sys.redraw_all_flag = 1;
00388 
00389         <span class="keywordflow">return</span> 1;
00390     }
00391 
00392     <span class="keywordflow">if</span> ((*detect_func_ptr[current_mode])())
00393         <span class="keywordflow">return</span> 1;
00394 
00395     <span class="keywordflow">return</span> 0;
00396 }
00397 
00398 <span class="comment">//---------- End of function AdmOffice::detect ------------//</span>
00399 
00400 <span class="comment">//-------- Begin of function report_athletics -------------//</span>
00402 <span class="comment">static void report_athletics(int refreshFlag) {</span>
00403     <span class="comment">// begin Kevin 0723</span>
00404 
00405     <span class="comment">//*** temporary ***//</span>
00406     <span class="keyword">static</span> <span class="keywordtype">int</span> radioVar1 = 1, radioVar2 = 1, radioVar3 = 1, radioVar4 = 0;
00407     <span class="keyword">static</span> <span class="keywordtype">int</span> top_athletes = 99;
00408     <span class="keyword">static</span> <span class="keywordtype">int</span> numSeriesData = 8;                   <span class="comment">//*** temporary ***//</span>
00409     <span class="keyword">static</span> <span class="keywordtype">int</span> *dataArray;
00410 
00411     <span class="comment">//  Communicate with Sim Engine's Output</span>
00412 
00413     <span class="comment">// ##### Begin MArco #### //</span>
00414 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00415 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">int</span> initial_top_athletes = 99;
00416     <span class="comment">// marco</span>
00417     initial_top_athletes=enroll_res.initial_matrics_top_athletes;
00418 <span class="preprocessor">#endif</span>
00419 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00420 
00421     top_athletes=enroll_res.matrics_top_athletes;
00422     radioVar1 = athletics_office.ncaa_level_input;  <span class="comment">//### fred 1021</span>
00423     radioVar2 = enroll_res.athlete_offers_special;
00424     radioVar3 = enroll_res.athlete_aid_special;
00425 
00426     <span class="keywordflow">if</span>(radioVar4==0) {
00427         dataArray = (<span class="keywordtype">int</span>*)(athletics_office.football_graph);
00428         mode_athletics_graphdbar_winloss.<a class="code" href="classGraphDoubleBarYear.html#m29">data_array</a>=dataArray;
00429     }
00430     <span class="keywordflow">else</span> {
00431         dataArray = (<span class="keywordtype">int</span>*)(athletics_office.basketball_graph);
00432         mode_athletics_graphdbar_winloss.<a class="code" href="classGraphDoubleBarYear.html#m29">data_array</a>=dataArray;
00433     }
00434 
00435     <span class="comment">//</span>
00436 
00437     <span class="keywordflow">if</span> (refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a>) {
00438         <span class="comment">//              //--------- draw the brightened boxes ------------//</span>
00439         user_interface.brighten(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,<a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>);
00440         user_interface.rect(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00441                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+3);
00442         user_interface.rect(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>-<a class="code" href="Oathl__if_8cpp.html#a93a51">MODE_ATHLETICS_BOX2_HEIGHT</a>-2,
00443                             <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,<a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>);
00444 
00445         <span class="comment">// top title</span>
00446         user_interface.brighten(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+150,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>-23,<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+575,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>-3);
00447         user_interface.rect(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+150,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>-23,<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+575,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>-3,1);
00448         font_charts.put(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+290,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>-18,<span class="stringliteral">"Athletics Program"</span>);
00449 
00450         <span class="keywordflow">if</span> (mode_init_flag != <a class="code" href="Oathl__if_8cpp.html#a88a36">MODE_ATHLETICS</a>) {
00451             <span class="comment">//---------  initialization  -----------//</span>
00452             mode_init_flag= <a class="code" href="Oathl__if_8cpp.html#a88a36">MODE_ATHLETICS</a>;
00453             mode_athletics_no_top_athletes_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00454 
00455             image_mascot.put_back(
00456                 <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+20,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+30,player_school.mascot);
00457 
00458             mode_athletics_no_top_athletes_bitmap=
00459                 vga_back.save_area(
00460                     <a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>+320,
00461                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15,
00462                     <a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>+320+3*font_chartsm.max_font_width,
00463                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15+font_chartsm.max_font_height,
00464                     mode_athletics_no_top_athletes_bitmap);
00465 
00466             mode_athletics_radio_button_participation.<a class="code" href="classRadioButton.html#a2">init</a>(
00467                 <a class="code" href="Oathl__if_8cpp.html#a93a55">MODE_ATHLETICS_TAB2</a>-10,
00468                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40,
00469                 <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00470                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40+font_chartsm.max_font_height,
00471                 3, &amp;radioVar1, mode_athletics_str1);
00472 
00473             mode_athletics_radio_button_adm_treatment.<a class="code" href="classRadioButton.html#a2">init</a>(
00474                 <a class="code" href="Oathl__if_8cpp.html#a93a55">MODE_ATHLETICS_TAB2</a>-10,
00475                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+65,
00476                 <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00477                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+65+font_chartsm.max_font_height,
00478                 3, &amp;radioVar2, mode_athletics_str2);
00479 
00480             mode_athletics_radio_button_fin_treatment.<a class="code" href="classRadioButton.html#a2">init</a>(
00481                 <a class="code" href="Oathl__if_8cpp.html#a93a55">MODE_ATHLETICS_TAB2</a>-10,
00482                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+90,
00483                 <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00484                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+90+font_chartsm.max_font_height,
00485                 3, &amp;radioVar3, mode_athletics_str2);
00486 
00487             mode_athletics_radio_button_football.<a class="code" href="classRadioButtonVert.html#a2">init</a>(
00488                 <a class="code" href="Oathl__if_8cpp.html#a93a55">MODE_ATHLETICS_TAB2</a>,
00489                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>/2,
00490                 <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00491                 <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>,
00492                 2, &amp;radioVar4, mode_athletics_str3);
00493 
00494             <span class="comment">//-------- graph title --------------//</span>
00495             mode_athletics_graphdbar_winloss.<a class="code" href="classGraphDoubleBarYear.html#a2">init</a>(
00496                 <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a53">MODE_ATHLETICS_TAB0</a>,
00497                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+30,
00498                 <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a53">MODE_ATHLETICS_TAB0</a>+<a class="code" href="Oathl__if_8cpp.html#a94a56">MODE_ATHLETICS_GRAPH_WIDTH</a>,
00499                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+30+<a class="code" href="Oathl__if_8cpp.html#a94a57">MODE_ATHLETICS_GRAPH_HEIGHT</a>,
00500 #<span class="keywordflow">if</span>(<a class="code" href="Gamedef_8h.html#a0">GAME_VERSION</a>&gt;=200)
00501                 2, &amp;numSeriesData, dataArray, 1,          <span class="comment">// 1 - show this indicator</span>
00502 #<span class="keywordflow">else</span>
00503                 2, &amp;numSeriesData, dataArray, 0,          <span class="comment">// 0 - don't show this indicator</span>
00504 #endif
00505                 <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 4);
00506             mode_athletics_graphdbar_winloss.<a class="code" href="classGraphDoubleBarYear.html#a8">paint</a>();
00507         }
00508         <span class="keywordflow">else</span> {
00509             <span class="comment">//-------- repaint -----------//</span>
00510             mode_athletics_radio_button_participation.<a class="code" href="classRadioButton.html#a4">paint</a>();
00511             mode_athletics_radio_button_adm_treatment.<a class="code" href="classRadioButton.html#a4">paint</a>();
00512             mode_athletics_radio_button_fin_treatment.<a class="code" href="classRadioButton.html#a4">paint</a>();
00513             mode_athletics_radio_button_football.<a class="code" href="classRadioButtonVert.html#a4">paint</a>();
00514             mode_athletics_graphdbar_winloss.<a class="code" href="classGraphDoubleBarYear.html#a8">paint</a>();
00515         }
00516 
00517         <span class="comment">//-------- graph title --------------//</span>
00518         font_chartsm.center_put(
00519             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a53">MODE_ATHLETICS_TAB0</a>,
00520             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+10,
00521             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a53">MODE_ATHLETICS_TAB0</a>+<a class="code" href="Oathl__if_8cpp.html#a94a56">MODE_ATHLETICS_GRAPH_WIDTH</a>,
00522             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+30,
00523             mode_athletics_graph_title);
00524 
00525         <span class="comment">//-------- graph text --------------//</span>
00526         font_chartsm.put(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>,
00527                          <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15, mode_athletics_str4[0]);
00528         font_chartsm.put(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>,
00529                          <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40, mode_athletics_str4[1]);
00530         font_chartsm.put(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>,
00531                          <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+65, mode_athletics_str4[2]);
00532         font_chartsm.put(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>,
00533                          <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+90, mode_athletics_str4[3]);
00534 
00535         <span class="comment">//-------- draw the legend --------------//</span>
00536         font_chartsm.put(
00537             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a94a59">MODE_ATHLETICS_LEGEND_WIDTH</a>/3+25,
00538             (<a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>*2-<a class="code" href="Oathl__if_8cpp.html#a94a58">MODE_ATHLETICS_LEGEND_HEIGHT</a>-font_chartsm.max_font_height)/2+4,
00539             mode_athletics_legend_label[0]);
00540         font_chartsm.put(
00541             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+2*<a class="code" href="Oathl__if_8cpp.html#a94a59">MODE_ATHLETICS_LEGEND_WIDTH</a>/3+25,
00542             (<a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>*2-<a class="code" href="Oathl__if_8cpp.html#a94a58">MODE_ATHLETICS_LEGEND_HEIGHT</a>-font_chartsm.max_font_height)/2+4,
00543             mode_athletics_legend_label[1]);
00544         user_interface.bar(
00545             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a94a59">MODE_ATHLETICS_LEGEND_WIDTH</a>/3+4,
00546             (<a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>*2-<a class="code" href="Oathl__if_8cpp.html#a94a58">MODE_ATHLETICS_LEGEND_HEIGHT</a>)/2-6,
00547             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a94a59">MODE_ATHLETICS_LEGEND_WIDTH</a>/3+16,
00548             (<a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>*2-<a class="code" href="Oathl__if_8cpp.html#a94a58">MODE_ATHLETICS_LEGEND_HEIGHT</a>)/2+6,
00549             (mode_athletics_graphdbar_winloss.<a class="code" href="classGraphDoubleBarYear.html#m17">series_color</a>)[0]);
00550         user_interface.bar(
00551             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+2*<a class="code" href="Oathl__if_8cpp.html#a94a59">MODE_ATHLETICS_LEGEND_WIDTH</a>/3+4,
00552             (<a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>*2-<a class="code" href="Oathl__if_8cpp.html#a94a58">MODE_ATHLETICS_LEGEND_HEIGHT</a>)/2-6,
00553             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+2*<a class="code" href="Oathl__if_8cpp.html#a94a59">MODE_ATHLETICS_LEGEND_WIDTH</a>/3+16,
00554             (<a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>*2-<a class="code" href="Oathl__if_8cpp.html#a94a58">MODE_ATHLETICS_LEGEND_HEIGHT</a>)/2+6,
00555             (mode_athletics_graphdbar_winloss.<a class="code" href="classGraphDoubleBarYear.html#m17">series_color</a>)[1]);
00556     }
00557     <span class="keywordflow">else</span> {                                          <span class="comment">// refreshFlag == INFO_REFRESH</span>
00558         <span class="comment">// -------- refresh the stats ----------- //</span>
00559 
00560         mode_athletics_radio_button_football.<a class="code" href="classRadioButtonVert.html#a5">refresh</a>();
00561         mode_athletics_radio_button_participation.<a class="code" href="classRadioButton.html#a5">refresh</a>();
00562         mode_athletics_graphdbar_winloss.<a class="code" href="classGraphDoubleBarYear.html#a9">refresh</a>();
00563 
00564         vga.blt_buf(
00565             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a53">MODE_ATHLETICS_TAB0</a>,
00566             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+30,
00567             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a53">MODE_ATHLETICS_TAB0</a>+<a class="code" href="Oathl__if_8cpp.html#a94a56">MODE_ATHLETICS_GRAPH_WIDTH</a>,
00568             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+30+<a class="code" href="Oathl__if_8cpp.html#a94a57">MODE_ATHLETICS_GRAPH_HEIGHT</a>);
00569 
00570         mode_athletics_radio_button_adm_treatment.<a class="code" href="classRadioButton.html#a5">refresh</a>();
00571         mode_athletics_radio_button_fin_treatment.<a class="code" href="classRadioButton.html#a5">refresh</a>();
00572 
00573     }
00574     <span class="comment">// end Kevin 0723</span>
00575     vga_back.rest_area(mode_athletics_no_top_athletes_bitmap,0,0);
00576     font_chartsm.center_put( <a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>+320,
00577                              <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15,
00578                              <a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>+320+3*font_chartsm.max_font_width,
00579                              <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15+font_chartsm.max_font_height,
00580                              m.format(top_athletes, 4));
00581 
00582     <span class="comment">// ##### Begin Marco ##### //</span>
00583 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00584 <span class="preprocessor"></span>    font_chart_purple_sm.put(
00585         <a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>+380,
00586         <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15,
00587         m.format(initial_top_athletes, 13));
00588 <span class="preprocessor">#endif</span>
00589 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00590 
00591     vga.blt_buf(<a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>+320,
00592                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15,
00593                 <a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>+320+3*font_chartsm.max_font_width,
00594                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15+font_chartsm.max_font_height);
00595 }
00596 
00597 <span class="comment">//-------- Begin of function report_FINANCIAL ---------//</span>
00599 <span class="comment">static void report_financial(int refreshFlag) {</span>
00600     <span class="comment">// Notes:   temporary variables for debugging</span>
00601     <span class="comment">//                          to be interfaced with game engine</span>
00602 
00603     <span class="keyword">static</span> <span class="keywordtype">int</span> v11=1000,v12=1999,v13=8888;
00604     <span class="keyword">static</span> <span class="keywordtype">double</span> v21=663.23,v22=123.23,v23=17.23,v24=723.23,v25=13.23;
00605     <span class="keyword">static</span> <span class="keywordtype">double</span> v31=813.83,v32=888.23,v33=13.83,v34=188.23,v35=183.23;
00606     <span class="keyword">static</span> <span class="keywordtype">double</span> v41=88.28,v42=777.23,v43=166.27,v44=777.23,v45=173.23;
00607     <span class="keyword">static</span> <span class="keywordtype">int</span> sliderVar1=0;
00608     <span class="comment">//  static float spinnerVar1=0.0;</span>
00609     <span class="keyword">static</span> <span class="keywordtype">int</span> numSeriesData = 8;                   <span class="comment">//*** temporary ***//</span>
00610     <span class="keyword">static</span> <span class="keywordtype">float</span> *dataArray;                        <span class="comment">//*** temporary ***//</span>
00611     <span class="keyword">static</span> <span class="keywordtype">int</span> xStart = 1991, xEnd = 1998;          <span class="comment">//*** temporary ***//</span>
00612 
00613     <span class="comment">// ##### Begin MArco #### //</span>
00614 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00615 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">double</span> initialv21=663.23;
00616     <span class="keyword">static</span> <span class="keywordtype">double</span> initialv31=813.83;
00617 <span class="preprocessor">#endif</span>
00618 <span class="preprocessor"></span>    <span class="comment">// ##### End MArco #### //</span>
00619 
00620   <span class="comment">//    Communicate with Sim Engine's Output</span>
00621     dataArray = (<span class="keywordtype">float</span>*)(athletics_office.history_value);
00622     xStart = (int)(info.game_year+(info.game_month-9.0)/12+2-info.graph_year);
00623     xEnd = xStart+numSeriesData-1;
00624 
00625     v12=info.financial_year();
00626     v11=v12-1;
00627     v13=v12+1;
00628     <span class="keyword">const</span> <span class="keywordtype">char</span> ix=<a class="code" href="Ofinance_8h.html#a101a38">AC_INTERCOLLEGIATE_ATHLETICS</a>;
00629     v21=finance.revenue_array[ix].total;
00630     v22=finance.projected_revenue_array[ix].change_last_year.total;
00631     v23=finance.projected_revenue_array[ix].this_year.total;
00632     v24=finance.projected_revenue_array[ix].change_next_year.total;
00633     v25=finance.projected_revenue_array[ix].next_year.total;
00634     <span class="keyword">const</span> <span class="keywordtype">char</span> iy=<a class="code" href="Ofinance_8h.html#a104a50">AC_ATHLETICS</a>;
00635     v31=finance.expense_array[iy].total;
00636     v32=finance.projected_expense_array[iy].change_last_year.total;
00637     v33=finance.projected_expense_array[iy].this_year.total;
00638     v34=finance.projected_expense_array[iy].change_next_year.total;
00639     v35=finance.projected_expense_array[iy].next_year.total;
00641 
00642     <span class="comment">// ##### Begin MArco #### //</span>
00643 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00644 <span class="preprocessor"></span>    initialv21=finance.initial_revenue_array[<a class="code" href="Ofinance_8h.html#a101a38">AC_INTERCOLLEGIATE_ATHLETICS</a>].total;
00645     initialv31=finance.initial_expense_array[<a class="code" href="Ofinance_8h.html#a104a50">AC_ATHLETICS</a>].total;
00646 <span class="preprocessor">#endif</span>
00647 <span class="preprocessor"></span>    <span class="comment">// ##### End MArco #### //</span>
00648 
00649     <span class="keywordtype">int</span> field_space=5*font_chartsm.max_font_width;
00650 
00651     <span class="keywordflow">if</span> (refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a>) {
00652         user_interface.brighten(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+150,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>-23,<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+575,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>-3);
00653         user_interface.rect(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+150,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>-23,<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+575,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>-3,1);
00654         font_charts.put(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+240,<a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>-18,<span class="stringliteral">"Athletics Revenue and Expenditure"</span>);
00655 
00656         <span class="keywordflow">if</span> (mode_init_flag != <a class="code" href="Oathl__if_8cpp.html#a88a37">MODE_FINANCIAL</a>) {
00657             mode_init_flag = <a class="code" href="Oathl__if_8cpp.html#a88a37">MODE_FINANCIAL</a>;
00658             <span class="comment">//                  spinnerVar1=(float)finance.get_policy_var(false, AC_ATHLETICS)-&gt;target_value;</span>
00659             <span class="comment">//                  spinnerVar1=0.0;</span>
00660             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++) {
00661                 financial_button_up_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00662                 financial_button_down_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00663             }
00664 
00665             <span class="comment">//--------- draw the brightened boxes ------------//</span>
00666             user_interface.brighten(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>);
00667             user_interface.rect(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>+3);
00668             user_interface.rect(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>-<a class="code" href="Oathl__if_8cpp.html#a95a61">MODE_FINANCIAL_BOX2_HEIGHT</a>-3, <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>);
00669             user_interface.rect(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>-2, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>-<a class="code" href="Oathl__if_8cpp.html#a95a61">MODE_FINANCIAL_BOX2_HEIGHT</a>-3, <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>);
00670 
00671             <span class="keywordtype">short</span> y = <a class="code" href="Oathl__if_8cpp.html#a96a73">FINANCIAL_BUTTON_Y1</a>;
00672             <span class="keywordflow">for</span> (i = 0; i &lt; 3; i++, y+=<a class="code" href="Oathl__if_8cpp.html#a97a77">FINANCIAL_BUTTON_HEIGHT</a>+<a class="code" href="Oathl__if_8cpp.html#a97a78">FINANCIAL_BUTTON_DISTANCE</a>) {
00673 
00674                 user_interface.create_button_bitmap(<a class="code" href="Oathl__if_8cpp.html#a96a72">FINANCIAL_BUTTON_X1</a>,y,
00675                                                     <a class="code" href="Oathl__if_8cpp.html#a96a72">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a97a76">FINANCIAL_BUTTON_WIDTH</a>,y+<a class="code" href="Oathl__if_8cpp.html#a97a77">FINANCIAL_BUTTON_HEIGHT</a>,
00676                                                     financial_button_label[i], &amp;financial_button_up_bitmap[i],
00677                                                     &amp;financial_button_down_bitmap[i], &amp;vga_back);
00678 
00679                 financial_button_group[i].create_bitmapW(<a class="code" href="Oathl__if_8cpp.html#a96a72">FINANCIAL_BUTTON_X1</a>,y,
00680                                                          <a class="code" href="Oathl__if_8cpp.html#a96a72">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a97a76">FINANCIAL_BUTTON_WIDTH</a>,y+<a class="code" href="Oathl__if_8cpp.html#a97a77">FINANCIAL_BUTTON_HEIGHT</a>,
00681                                                          (financial_button_up_bitmap[i])+4,0);
00682             }
00683 
00684             financial_spinner_budget.<a class="code" href="classSpinner.html#a2">init</a>(
00685                 <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a70">MODE_FINANCIAL_TAB5</a>-10,
00686                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>+70,
00687                 <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a70">MODE_FINANCIAL_TAB5</a>+110,
00688                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>+100,
00689                 <span class="comment">//### begin zhoubin 02/25/99</span>
00690                 &amp;athletics_office.spinner_var1,
00691                 <span class="comment">//### end zhoubin 02/25/99</span>
00692                 <span class="comment">//                              -100.0f,100.0f,0.1f,0,NULL,23);  //## chea 200899 the min &amp; max val should between -5% to 5% format should in %</span>
00693                 -5.0f,5.0f,0.1f,0,<a class="code" href="OHELP_8H.html#a0">NULL</a>,25);
00694             <span class="comment">//-------- graph title --------------//</span>
00695             mode_financial_graph_profitloss.<a class="code" href="classGraphArea.html#a2">init</a>(
00696                 <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>-<a class="code" href="Oathl__if_8cpp.html#a95a61">MODE_FINANCIAL_BOX2_HEIGHT</a>-3, <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>,
00697                 2, &amp;numSeriesData, dataArray, 1,
00698                 <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, mode_financial_legend_label, 1, 1, 1, 2);
00699             financial_spinner_budget.<a class="code" href="classSpinner.html#a4">paint</a>();
00700         }
00701         <span class="keywordflow">else</span> {
00702             <span class="comment">//--------- draw the brightened boxes ------------//</span>
00703             user_interface.brighten(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>);
00704             user_interface.brighten(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>-<a class="code" href="Oathl__if_8cpp.html#a95a61">MODE_FINANCIAL_BOX2_HEIGHT</a>, <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>-2, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>);
00705             user_interface.brighten(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>-<a class="code" href="Oathl__if_8cpp.html#a95a61">MODE_FINANCIAL_BOX2_HEIGHT</a>, <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>);
00706             user_interface.rect(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>);
00707             user_interface.rect(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>-<a class="code" href="Oathl__if_8cpp.html#a95a61">MODE_FINANCIAL_BOX2_HEIGHT</a>, <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>-2, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>);
00708             user_interface.rect(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>-<a class="code" href="Oathl__if_8cpp.html#a95a61">MODE_FINANCIAL_BOX2_HEIGHT</a>, <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>);
00709 
00710             <span class="comment">//-------- paint the buttons -----------//</span>
00711             <span class="comment">//                  mode_financial_slider_budget.paint();</span>
00712             financial_spinner_budget.<a class="code" href="classSpinner.html#a4">paint</a>();
00713             mode_financial_graph_profitloss.<a class="code" href="classGraphArea.html#a8">paint</a>();
00714         }
00715 
00716         <span class="comment">//-------- display static strings -----------//</span>
00717         font_chartsm.put(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a66">MODE_FINANCIAL_TAB1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40, mode_financial_str[0]);
00718         font_chartsm.put(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a66">MODE_FINANCIAL_TAB1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+60, mode_financial_str[1]);
00719         user_interface.bar(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+10, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+82, <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>-10, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+84, <a class="code" href="COLOR_8H.html#a23">V_BROWN</a>);
00720         font_chartsm.put(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a66">MODE_FINANCIAL_TAB1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95, mode_financial_str[2]);
00721         font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a68">MODE_FINANCIAL_TAB3</a>+field_space,
00722                                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15,
00723                                 <span class="comment">//                                      REPORT_X1+MODE_FINANCIAL_TAB3+field_space,</span>
00724                                 <span class="comment">//                                      REPORT_Y1+15+font_chartsm.max_font_height,</span>
00725                                 mode_financial_str[4]);
00726         font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a70">MODE_FINANCIAL_TAB5</a>+field_space,
00727                                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15,
00728                                 <span class="comment">//                                      REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
00729                                 <span class="comment">//                                      REPORT_Y1+15+font_chartsm.max_font_height,</span>
00730                                 mode_financial_str[4]);
00731         font_chartsm.put_paragraph(
00732             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>+30,
00733             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+30+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>,
00734             <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00735             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+60+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>,
00736             mode_financial_str[5]);
00737         mode_financial_stats_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00738         mode_financial_stats_bitmap=vga_back.save_area(
00739             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a67">MODE_FINANCIAL_TAB2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>,
00740             <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>,
00741             mode_financial_stats_bitmap);
00742 
00743         mode_financial_graph_profitloss.<a class="code" href="classGraphArea.html#a8">paint</a>();
00744     }
00745     <span class="keywordflow">else</span> {                                          <span class="comment">// refreshFlag == INFO_REFRESH</span>
00746         <span class="comment">//-------- refresh dynamic data --------------//</span>
00747         <span class="comment">// refresh() == 1. rest()</span>
00748         <span class="comment">//                                              2. draw()</span>
00749         <span class="comment">//                                              3. blit buffer()</span>
00750         mode_financial_graph_profitloss.<a class="code" href="classGraphArea.html#a9">refresh</a>();
00751 
00752         vga.blt_buf(
00753             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>-<a class="code" href="Oathl__if_8cpp.html#a95a61">MODE_FINANCIAL_BOX2_HEIGHT</a>,
00754             <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>-2, <a class="code" href="Oathl__if_8cpp.html#a90a42">REPORT_Y2</a>
00755             );
00756 
00757     }
00758 
00759     financial_spinner_budget.<a class="code" href="classSpinner.html#a5">refresh</a>();
00760     <span class="comment">// show buttons</span>
00761     <span class="keywordtype">int</span> pressed=finance.get_policy_var(<span class="keyword">false</span>, <a class="code" href="Ofinance_8h.html#a104a50">AC_ATHLETICS</a>)-&gt;applied_flag;
00762     <span class="keywordflow">if</span>(pressed==<a class="code" href="Ofinanc2_8h.html#a38a5">P_NONE</a>)
00763         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++)
00764             financial_button_group[i].<a class="code" href="classButtonGroup.html#a3">paint</a>();
00765     <span class="keywordflow">else</span>
00766         financial_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(pressed-1);
00767     <span class="keywordtype">short</span> y = <a class="code" href="Oathl__if_8cpp.html#a96a73">FINANCIAL_BUTTON_Y1</a>;
00768     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++, y+=<a class="code" href="Oathl__if_8cpp.html#a97a77">FINANCIAL_BUTTON_HEIGHT</a>+<a class="code" href="Oathl__if_8cpp.html#a97a78">FINANCIAL_BUTTON_DISTANCE</a>) {
00769         vga.blt_buf(<a class="code" href="Oathl__if_8cpp.html#a96a72">FINANCIAL_BUTTON_X1</a>,y,
00770                     <a class="code" href="Oathl__if_8cpp.html#a96a72">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a97a76">FINANCIAL_BUTTON_WIDTH</a>,y+<a class="code" href="Oathl__if_8cpp.html#a97a77">FINANCIAL_BUTTON_HEIGHT</a>
00771             );
00772     }
00773 
00774     vga_back.rest_area(mode_financial_stats_bitmap,0,0);
00775     <a class="code" href="classString.html">String</a> *s1,*s2;
00776 
00777     <span class="comment">//show years</span>
00778     s1=<span class="keyword">new</span> <a class="code" href="classString.html">String</a>(m.format(v11,16));
00779     s2=<span class="keyword">new</span> <a class="code" href="classString.html">String</a>(m.format(v11+1,16));
00780     <span class="comment">//          (*s1)+="-";                             //## chea 061199 2.5.1</span>
00781     <span class="comment">//          (*s1)+=(*s2);                           //## chea 061199 2.5.1</span>
00782 
00783     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a67">MODE_FINANCIAL_TAB2</a>+field_space,
00784                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15,
00785                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
00786                             <span class="comment">//                                  REPORT_Y1+15+font_chartsm.max_font_height,</span>
00787                             s1-&gt;<a class="code" href="classString.html#m0">str_buf</a>);
00788 
00789     (*s1)=m.format(v12,16);
00790     (*s2)=m.format(v12+1,16);
00791     <span class="comment">//          (*s1)+="-";                     //## chea 061199 2.5.1</span>
00792     <span class="comment">//          (*s1)+=(*s2);           //## chea 061199 2.5.1</span>
00793 
00794     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>+field_space,
00795                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15,
00796                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
00797                             <span class="comment">//                                  REPORT_Y1+15+font_chartsm.max_font_height,</span>
00798                             s1-&gt;<a class="code" href="classString.html#m0">str_buf</a>);
00799 
00800     (*s1)=m.format(v13,16);
00801     (*s2)=m.format(v13+1,16);
00802     <span class="comment">//          (*s1)+="-";                     //## chea 061199 2.5.1</span>
00803     <span class="comment">//          (*s1)+=(*s2);           //## chea 061199 2.5.1</span>
00804     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a71">MODE_FINANCIAL_TAB6</a>+field_space,
00805                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15,
00806                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
00807                             <span class="comment">//                                  REPORT_Y1+15+font_chartsm.max_font_height,</span>
00808                             s1-&gt;<a class="code" href="classString.html#m0">str_buf</a>);
00809     <span class="keyword">delete</span> s1,s2;
00810 
00811   <span class="comment">// ##### Begin Marco ##### //</span>
00812 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00813 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (info.financial_year() &gt; 1 ) {
00814         font_chart_purple_sm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+200+field_space,
00815                                         <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+15,
00816                                         <span class="stringliteral">"Yr. 0 (Initial)"</span>);
00817         font_chart_purple_sm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+200+field_space,
00818                                         <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40,
00819                                         m.format(initialv21, 2));
00820         font_chart_purple_sm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+200+field_space,
00821                                         <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+60,
00822                                         m.format(initialv31, 2));
00823         font_chart_purple_sm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+200+field_space,
00824                                         <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00825                                         m.format(initialv21-initialv31, 2));
00826     }
00827 <span class="preprocessor">#endif</span>
00828 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00829 
00830     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a67">MODE_FINANCIAL_TAB2</a>+field_space,
00831                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40,
00832                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
00833                             <span class="comment">//                                  REPORT_Y1+40+font_chartsm.max_font_height,</span>
00834                             m.format(v21, 2));
00835     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a67">MODE_FINANCIAL_TAB2</a>+field_space,
00836                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+60,
00837                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
00838                             <span class="comment">//                                  REPORT_Y1+60+font_chartsm.max_font_height,</span>
00839                             m.format(v31, 2));
00840     <span class="keywordflow">if</span>((v21-v31)&gt;=0)
00841         font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a67">MODE_FINANCIAL_TAB2</a>+field_space,
00842                                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00843                                 <span class="comment">//                                      REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
00844                                 <span class="comment">//                                      REPORT_Y1+95+font_chartsm.max_font_height,</span>
00845                                 m.format(v21-v31, 2));
00846     <span class="keywordflow">else</span>
00847         font_chart_red_sm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a67">MODE_FINANCIAL_TAB2</a>+field_space,
00848                                      <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00849                                      <span class="comment">//                                 REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
00850                                      <span class="comment">//                                 REPORT_Y1+95+font_chartsm.max_font_height,</span>
00851                                      m.format(v21-v31, 2));
00852 
00853     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a68">MODE_FINANCIAL_TAB3</a>+field_space,
00854                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40,
00855                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB3+field_space,</span>
00856                             <span class="comment">//                                  REPORT_Y1+40+font_chartsm.max_font_height,</span>
00857                             m.format(v22, 24));
00858     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a68">MODE_FINANCIAL_TAB3</a>+field_space,
00859                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+60,
00860                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB3+field_space,</span>
00861                             <span class="comment">//                                  REPORT_Y1+60+font_chartsm.max_font_height,</span>
00862                             m.format(v32, 24));
00863     <span class="keywordflow">if</span>((v22-v32)&gt;=0)
00864         font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a68">MODE_FINANCIAL_TAB3</a>+field_space,
00865                                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00866                                 <span class="comment">//                                      REPORT_X1+MODE_FINANCIAL_TAB3+field_space,</span>
00867                                 <span class="comment">//                                      REPORT_Y1+95+font_chartsm.max_font_height,</span>
00868                                 m.format(v22-v32, 24));
00869     <span class="keywordflow">else</span>
00870         font_chart_red_sm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a68">MODE_FINANCIAL_TAB3</a>+field_space,
00871                                      <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00872                                      <span class="comment">//                                 REPORT_X1+MODE_FINANCIAL_TAB3+field_space,</span>
00873                                      <span class="comment">//                                 REPORT_Y1+95+font_chartsm.max_font_height,</span>
00874                                      m.format(v22-v32, 24));
00875 
00876     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>+field_space,
00877                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40,
00878                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
00879                             <span class="comment">//                                  REPORT_Y1+40+font_chartsm.max_font_height,</span>
00880                             m.format(v23, 2));
00881     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>+field_space,
00882                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+60,
00883                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
00884                             <span class="comment">//                                  REPORT_Y1+60+font_chartsm.max_font_height,</span>
00885                             m.format(v33, 2));
00886     <span class="keywordflow">if</span>((v23-v33)&gt;=0)
00887         font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>+field_space,
00888                                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00889                                 <span class="comment">//                                      REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
00890                                 <span class="comment">//                                      REPORT_Y1+95+font_chartsm.max_font_height,</span>
00891                                 m.format(v23-v33, 2));
00892     <span class="keywordflow">else</span>
00893         font_chart_red_sm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>+field_space,
00894                                      <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00895                                      <span class="comment">//                                 REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
00896                                      <span class="comment">//                                 REPORT_Y1+95+font_chartsm.max_font_height,</span>
00897                                      m.format(v23-v33, 2));
00898 
00899     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a70">MODE_FINANCIAL_TAB5</a>+field_space,
00900                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40,
00901                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
00902                             <span class="comment">//                                  REPORT_Y1+40+font_chartsm.max_font_height,</span>
00903                             m.format(v24, 24));
00904     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a70">MODE_FINANCIAL_TAB5</a>+field_space,
00905                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+60,
00906                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
00907                             <span class="comment">//                                  REPORT_Y1+60+font_chartsm.max_font_height,</span>
00908                             m.format(v34, 24));
00909     <span class="keywordflow">if</span>((v24-v34)&gt;=0)
00910         font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a70">MODE_FINANCIAL_TAB5</a>+field_space,
00911                                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00912                                 <span class="comment">//                                      REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
00913                                 <span class="comment">//                                      REPORT_Y1+95+font_chartsm.max_font_height,</span>
00914                                 m.format(v24-v34, 24));
00915     <span class="keywordflow">else</span>
00916         font_chart_red_sm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a70">MODE_FINANCIAL_TAB5</a>+field_space,
00917                                      <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00918                                      <span class="comment">//                                 REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
00919                                      <span class="comment">//                                 REPORT_Y1+95+font_chartsm.max_font_height,</span>
00920                                      m.format(v24-v34, 24));
00921 
00922     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a71">MODE_FINANCIAL_TAB6</a>+field_space,
00923                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40,
00924                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
00925                             <span class="comment">//                                  REPORT_Y1+40+font_chartsm.max_font_height,</span>
00926                             m.format(v25, 2));
00927     font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a71">MODE_FINANCIAL_TAB6</a>+field_space,
00928                             <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+60,
00929                             <span class="comment">//                                  REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
00930                             <span class="comment">//                                  REPORT_Y1+60+font_chartsm.max_font_height,</span>
00931                             m.format(v35, 2));
00932 
00933     <span class="keywordflow">if</span>((v25-v35)&gt;=0)
00934         font_chartsm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a71">MODE_FINANCIAL_TAB6</a>+field_space,
00935                                 <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00936                                 <span class="comment">//                                      REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
00937                                 <span class="comment">//                                      REPORT_Y1+95+font_chartsm.max_font_height,</span>
00938                                 m.format(v25-v35, 2));
00939     <span class="keywordflow">else</span>
00940         font_chart_red_sm.right_put( <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a71">MODE_FINANCIAL_TAB6</a>+field_space,
00941                                      <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+95,
00942                                      <span class="comment">//                                 REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
00943                                      <span class="comment">//                                 REPORT_Y1+95+font_chart_red_sm.max_font_height,</span>
00944                                      m.format(v25-v35, 2));
00945 
00946     vga.blt_buf(<a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a67">MODE_FINANCIAL_TAB2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>,
00947                 <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>, <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>);
00948 
00949     <span class="keywordflow">for</span>(i=0;i&lt;3;i++) {
00950         financial_button_group[i].pop();
00951         financial_button_group[i].body_ptr=
00952             (<span class="keywordtype">void</span>*)(financial_button_up_bitmap[i]+4);
00953     }
00954 }
00955 
00956 <span class="comment">//---------- End of function report_FINANCIAL ---------//</span>
00957 
00958 <span class="comment">//-------- Begin of function detect_athletics ---------//</span>
00960 <span class="comment">static int detect_athletics() {</span>
00961     <span class="keywordflow">if</span> (mode_init_flag != <a class="code" href="Oathl__if_8cpp.html#a88a36">MODE_ATHLETICS</a>)
00962         <span class="keywordflow">return</span> 0;
00963 
00964     vga.use_front();
00965 
00966     help.set_help(  <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>,
00967                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+40,
00968                     <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00969                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+60,<span class="stringliteral">"H5.1.1."</span>);
00970 
00971     help.set_help(  <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>,
00972                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+65,
00973                     <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00974                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+85,<span class="stringliteral">"H5.1.2."</span>);
00975 
00976     help.set_help(  <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a54">MODE_ATHLETICS_TAB1</a>,
00977                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+90,
00978                     <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00979                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+110,<span class="stringliteral">"H5.1.3."</span>);
00980 
00981     <span class="keywordtype">char</span>* helpCode1[] = {                           <span class="comment">// different ncaa level have different number of games, thus we have to separate the help file.</span>
00982         <span class="stringliteral">"H5.1.4a"</span>, <span class="stringliteral">"H5.1.4b"</span>, <span class="stringliteral">"H5.1.4c"</span>
00983     };
00984     <span class="keywordtype">char</span>* helpCode2[] = { <span class="stringliteral">"H5.1.5a"</span>, <span class="stringliteral">"H5.1.5b"</span>, <span class="stringliteral">"H5.1.5c"</span> };
00985 
00986     help.set_help(  <a class="code" href="Oathl__if_8cpp.html#a93a55">MODE_ATHLETICS_TAB2</a>,
00987                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>/2,
00988                     <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00989                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>/2+30,
00990                     helpCode1[athletics_office.ncaa_level_input] );
00991 
00992     help.set_help(  <a class="code" href="Oathl__if_8cpp.html#a93a55">MODE_ATHLETICS_TAB2</a>,
00993                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>/2+70,
00994                     <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
00995                     <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>+<a class="code" href="Oathl__if_8cpp.html#a93a50">MODE_ATHLETICS_BOX1_HEIGHT</a>/2+100,
00996                     helpCode2[athletics_office.ncaa_level_input] );
00997 
00998     <span class="keywordflow">if</span> (mode_athletics_radio_button_participation.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
00999         <span class="comment">//### fred 1021 ####//</span>
01000         athletics_office.input_2_ncaa_level( *(mode_athletics_radio_button_participation.<a class="code" href="classRadioButton.html#m8">sel_num</a>) );
01001         <span class="comment">//### fred 1021 ####//</span>
01002         <span class="keywordflow">return</span> 1;
01003     }
01004 
01005     <span class="comment">//## chea 160699 change for chance card</span>
01006     <span class="keywordflow">if</span>(chance_event.athlete_special_ban_year&lt;=0) {
01007         <span class="keywordflow">if</span> (mode_athletics_radio_button_adm_treatment.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
01008             enroll_res.athlete_offers_special=*(mode_athletics_radio_button_adm_treatment.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
01009             <span class="keywordflow">return</span> 1;
01010         }
01011 
01012         <span class="keywordflow">if</span> (mode_athletics_radio_button_fin_treatment.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
01013             enroll_res.athlete_aid_special=*(mode_athletics_radio_button_fin_treatment.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
01014             <span class="keywordflow">return</span> 1;
01015         }
01016     }
01017     <span class="keywordflow">if</span> (mode_athletics_radio_button_football.<a class="code" href="classRadioButtonVert.html#a6">detect</a>()) {
01018         sys.redraw_all_flag=1;
01019         <span class="keywordflow">return</span> 1;
01020     }
01021 
01022     <span class="keywordflow">return</span> 0;
01023 }
01024 
01025 <span class="comment">//---------- End of function detect_athletics ---------//</span>
01026 
01027 <span class="comment">//-------- Begin of function detect_FINANCIAL ---------//</span>
01029 <span class="comment">static int detect_financial() {</span>
01030     <span class="keywordflow">if</span> (mode_init_flag != <a class="code" href="Oathl__if_8cpp.html#a88a37">MODE_FINANCIAL</a>)
01031         <span class="keywordflow">return</span> 0;
01032 
01033     vga.use_front();
01034 
01035     help.set_help(
01036         <a class="code" href="Oathl__if_8cpp.html#a90a39">REPORT_X1</a>+<a class="code" href="Oathl__if_8cpp.html#a95a69">MODE_FINANCIAL_TAB4</a>+30,
01037         <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+30+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01038         <a class="code" href="Oathl__if_8cpp.html#a90a41">REPORT_X2</a>,
01039         <a class="code" href="Oathl__if_8cpp.html#a90a40">REPORT_Y1</a>+60+<a class="code" href="Oathl__if_8cpp.html#a95a60">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01040         <span class="stringliteral">"A.8.8.1."</span>
01041         );
01042 
01043     <span class="keywordflow">if</span>(financial_spinner_budget.<a class="code" href="classSpinner.html#a6">detect</a>())
01044         <span class="keywordflow">return</span> 1;
01045 
01046     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++)
01047         <span class="keywordflow">if</span>(financial_button_group[i].<a class="code" href="classButtonGroup.html#a4">detect</a>()) {
01048             financial_button_group[i].body_ptr =
01049                 (<span class="keywordtype">void</span> *) (financial_button_down_bitmap[i] + 4);
01050             <span class="comment">//  Communicate with Sim Engine</span>
01051             finance.change_budget(i,<span class="keyword">false</span>, <a class="code" href="Ofinance_8h.html#a104a50">AC_ATHLETICS</a>,(*financial_spinner_budget.<a class="code" href="classSpinner.html#m7">var_ptr</a>));
01052             <span class="comment">//##        begin zhoubin 000329</span>
01053             *financial_spinner_budget.<a class="code" href="classSpinner.html#m7">var_ptr</a>=0;
01054             <span class="comment">//##        end zhoubin 000329</span>
01055         }
01056     <span class="keywordflow">if</span>(mode_financial_slider_budget.<a class="code" href="classValueSlider.html#a8">detect</a>())
01057         <span class="keywordflow">return</span> 1;
01058 
01059     <span class="keywordflow">return</span> 0;
01060 }
01061 
01062 <span class="comment">//---------- End of function detect_FINANCIAL ---------//</span>
01063 
01064 <span class="comment">//-------- Begin of function deinit_athletics ---------//</span>
01066 <span class="comment">static void deinit_athletics() {</span>
01067     <span class="keywordflow">if</span> (mode_init_flag == <a class="code" href="Oathl__if_8cpp.html#a88a36">MODE_ATHLETICS</a>) {
01068 
01069         mode_athletics_radio_button_football.<a class="code" href="classRadioButtonVert.html#a3">deinit</a>();
01070         mode_athletics_radio_button_participation.<a class="code" href="classRadioButton.html#a3">deinit</a>();
01071         mode_athletics_radio_button_adm_treatment.<a class="code" href="classRadioButton.html#a3">deinit</a>();
01072         mode_athletics_radio_button_fin_treatment.<a class="code" href="classRadioButton.html#a3">deinit</a>();
01073         mode_athletics_graphdbar_winloss.<a class="code" href="classGraphDoubleBarYear.html#a7">deinit</a>();
01074 
01075         <span class="keywordflow">if</span>(mode_athletics_no_top_athletes_bitmap) {
01076             <a class="code" href="ALL_8H.html#a8">mem_del</a>(mode_athletics_no_top_athletes_bitmap);
01077             mode_athletics_no_top_athletes_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
01078         }
01079 
01080         <span class="comment">// reset flag</span>
01081         mode_init_flag = -1;
01082     }
01083 }
01084 
01085 <span class="comment">//---------- End of function deinit_athletics ---------//</span>
01086 
01087 <span class="comment">//-------- Begin of function deinit_financial ------//</span>
01089 <span class="comment">static void deinit_financial() {</span>
01090     <span class="keywordflow">if</span> (mode_init_flag == <a class="code" href="Oathl__if_8cpp.html#a88a37">MODE_FINANCIAL</a>) {
01091         <span class="comment">// deallocate memory used by the radio buttons and the value sliders</span>
01092         <span class="keywordflow">if</span>(mode_financial_stats_bitmap) {
01093             <a class="code" href="ALL_8H.html#a8">mem_del</a>(mode_financial_stats_bitmap);
01094             mode_financial_stats_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
01095         }
01096 
01097         <span class="comment">// #### begin Gilbert 28/04/2001 #####//</span>
01098         financial_button_group.<a class="code" href="classButtonGroup.html#a2">deinit_buttons</a>();
01099         <span class="comment">// #### end Gilbert 28/04/2001 #####//</span>
01100         <span class="keywordflow">if</span> (*financial_button_up_bitmap) {
01101             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++) {
01102                 <a class="code" href="ALL_8H.html#a8">mem_del</a>(financial_button_up_bitmap[i]);
01103                 <a class="code" href="ALL_8H.html#a8">mem_del</a>(financial_button_down_bitmap[i]);
01104                 financial_button_up_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
01105                 financial_button_down_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
01106             }
01107         }
01108 
01109         <span class="comment">//              mode_financial_slider_budget.deinit();</span>
01110         financial_spinner_budget.<a class="code" href="classSpinner.html#a3">deinit</a>();
01111         mode_financial_graph_profitloss.<a class="code" href="classGraphArea.html#a7">deinit</a>();
01112 
01113         <span class="comment">// reset flag</span>
01114         mode_init_flag = -1;
01115     }
01116 }
01117 
01118 <span class="comment">//---------- End of function deinit_financial ------//</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:37:13 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
