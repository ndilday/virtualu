<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Ocoursea.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Ocoursea.cpp</h1><a href="Ocoursea_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : OCOURSEA.CPP</span>
00002 <span class="comment">//Description : CourseArray Class Definition</span>
00003 
00004 <span class="preprocessor">#include &lt;<a class="code" href="ALL_8H.html">ALL.H</a>&gt;</span>
00005 <span class="preprocessor">#include &lt;OMATH.H&gt;</span>
00006 <span class="preprocessor">#include &lt;OSYS.H&gt;</span>
00007 <span class="preprocessor">#include &lt;OFINANCE.H&gt;</span>
00008 <span class="preprocessor">#include &lt;OINFO.H&gt;</span>
00009 <span class="preprocessor">#include &lt;OCOURSE.H&gt;</span>
00010 
00011 <span class="comment">//--------- Define static variables ---------//</span>
00012 
00013 <span class="keyword">static</span> <span class="keywordtype">char</span> depthArray[] =
00014 { <a class="code" href="Ocourse_8h.html#a36a14">DEPTH_D1</a>, <a class="code" href="Ocourse_8h.html#a36a14">DEPTH_D1</a>, <a class="code" href="Ocourse_8h.html#a36a14">DEPTH_D1</a>, <a class="code" href="Ocourse_8h.html#a36a15">DEPTH_D2</a>, <a class="code" href="Ocourse_8h.html#a36a15">DEPTH_D2</a>, <a class="code" href="Ocourse_8h.html#a36a16">DEPTH_D3</a>, <a class="code" href="Ocourse_8h.html#a36a17">DEPTH_GR</a> };
00015 
00016 <span class="keyword">static</span> <span class="keywordtype">char</span> focusArray[] =
00017 { <a class="code" href="Ocourse_8h.html#a37a18">FOCUS_LD</a>, <a class="code" href="Ocourse_8h.html#a37a19">FOCUS_M</a>, <a class="code" href="Ocourse_8h.html#a37a20">FOCUS_UD</a>, <a class="code" href="Ocourse_8h.html#a37a19">FOCUS_M</a>, <a class="code" href="Ocourse_8h.html#a37a20">FOCUS_UD</a>, <a class="code" href="Ocourse_8h.html#a37a20">FOCUS_UD</a>, <a class="code" href="Ocourse_8h.html#a37a21">FOCUS_GR</a> };
00018 
00019 <span class="comment">//----------- Begin of function CourseArray Constructor -----//</span>
<a name="l00021"></a><a class="code" href="classCourseArray.html#a0">00021</a> <span class="comment">CourseArray::CourseArray() : DynArrayB(sizeof(Course), 100, DEFAULT_REUSE_INTERVAL_DAYS) {</span>
00022     <span class="comment">//## fred 1019 ##//</span>
00023     memset(course_enrollments, 0, <span class="keyword">sizeof</span>(course_enrollments));
00024 
00025     <span class="comment">// 1218</span>
00026     memset(experienced_class_size, 0, <span class="keyword">sizeof</span>(experienced_class_size));
00027 
00028 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00029 <span class="preprocessor"></span>    memset(outsourcing_credits_history, 0, <span class="keyword">sizeof</span>(outsourcing_credits_history));
00030 <span class="preprocessor">#endif</span>
00031 <span class="preprocessor"></span>}
00032 
00033 <span class="comment">//------------- End of function CourseArray Constructor -----//</span>
00034 
00035 <span class="comment">//----------- Begin of function CourseArray Destructor ------//</span>
<a name="l00037"></a><a class="code" href="classCourseArray.html#a1">00037</a> <span class="comment">CourseArray::~CourseArray() {</span>
00038 }
00039 
00040 <span class="comment">//------------- End of function CourseArray Destructor ------//</span>
00041 
00042 <span class="comment">//--------- Begin of function CourseArray::add ---------//</span>
00043 
<a name="l00044"></a><a class="code" href="classCourseArray.html#a4">00044</a> <span class="keywordtype">void</span> <a class="code" href="classCourseArray.html#a4">CourseArray::add</a>(<a class="code" href="classCourse.html">Course</a> *newCourse) {
00045     <a class="code" href="classDynArrayB.html#a4">linkin</a>(newCourse);
00046 
00047     ((<a class="code" href="classCourse.html">Course</a>*)<a class="code" href="classDynArray.html#a13">get</a>())-&gt;course_recno = <a class="code" href="classDynArray.html#a27">recno</a>();
00048 }
00049 
00050 <span class="comment">//----------- End of function CourseArray::add -----------//</span>
00051 
00052 <span class="comment">//--------- Begin of function CourseArray::del ---------//</span>
00053 
<a name="l00054"></a><a class="code" href="classCourseArray.html#a5">00054</a> <span class="keywordtype">void</span> <a class="code" href="classCourseArray.html#a5">CourseArray::del</a>(<span class="keywordtype">int</span> recNo) {
00055     <a class="code" href="classDynArrayB.html#a5">linkout</a>(recNo);
00056 }
00057 
00058 <span class="comment">//----------- End of function CourseArray::del -----------//</span>
00059 
00060 <span class="comment">//--------- Begin of function CourseArray::get_depth ---------//</span>
<a name="l00064"></a><a class="code" href="classCourseArray.html#a10">00064</a> <span class="comment">int CourseArray::get_depth(int depthFocusId) {</span>
00065     <span class="keywordflow">return</span> depthArray[depthFocusId];
00066 }
00067 
00068 <span class="comment">//----------- End of function CourseArray::get_depth -----------//</span>
00069 
00070 <span class="comment">//--------- Begin of function CourseArray::get_focus ---------//</span>
<a name="l00074"></a><a class="code" href="classCourseArray.html#a11">00074</a> <span class="comment">int CourseArray::get_focus(int depthFocusId) {</span>
00075     <span class="keywordflow">return</span> focusArray[depthFocusId];
00076 }
00077 
00078 <span class="comment">//----------- End of function CourseArray::get_focus -----------//</span>
00079 
00080 <span class="comment">//--------- Begin of function CourseArray::get_course ---------//</span>
<a name="l00084"></a><a class="code" href="classCourseArray.html#a9">00084</a> <span class="comment">Course* CourseArray::get_course(int courseDepth, int courseFocus, int teachingMethod) {</span>
00085     <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0 ; i&lt;<a class="code" href="Ocourse_8h.html#a13">MAX_COURSE_DEPTH_FOCUS</a> ; i++ ) {
00086         <span class="keywordflow">if</span>( depthArray[i] == courseDepth &amp;&amp; focusArray[i] == courseFocus ) {
00087             <span class="keywordtype">int</span> courseRecno = i * <a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a> + teachingMethod + 1;
00088 
00089             <span class="keywordflow">return</span> operator[](courseRecno);
00090         }
00091     }
00092 
00093     <a class="code" href="ALL_8H.html#a1">err_here</a>();
00094 
00095     <span class="keywordflow">return</span> <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00096 }
00097 
00098 <span class="comment">//----------- End of function CourseArray::get_course -----------//</span>
00099 
00100 <span class="comment">//--------- Begin of function CourseArray::next_trimester ---------//</span>
<a name="l00105"></a><a class="code" href="classCourseArray.html#a7">00105</a> <span class="comment">void CourseArray::next_trimester() {</span>
00106     <span class="comment">//--- reset course variables in a new trimester ---//</span>
00107 
00108     <a class="code" href="classCourse.html">Course</a>* coursePtr;
00109 
00110     <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=size() ; i&gt;0 ; i-- ) {
00111         coursePtr = operator[](i);
00112 
00113         coursePtr-&gt;<a class="code" href="classCourse.html#a3">next_trimester</a>();
00114     }
00115 }
00116 
00117 <span class="comment">//----------- End of function CourseArray::next_trimester -----------//</span>
00118 
00119 <span class="comment">//#### begin fred 1019 ####//</span>
00120 <span class="comment">//--------- Begin of function CourseArray::next_day ---------//</span>
00124 <span class="comment">#if(GAME_VERSION&gt;=200)</span>
00125 <span class="keywordtype">void</span> <a class="code" href="classCourseArray.html#a6">CourseArray::next_day</a>(<span class="keywordtype">int</span> initial)
00126 #<span class="keywordflow">else</span>
<a name="l00127"></a><a class="code" href="classCourseArray.html#a6">00127</a>     <span class="keywordtype">void</span> <a class="code" href="classCourseArray.html#a6">CourseArray::next_day</a>()
00128 #endif
00129 {
00130     <span class="keywordflow">if</span> ( info.game_day == 1 ) {
00131         <span class="comment">// start of a year</span>
00132         <span class="keywordflow">if</span> ( info.game_month == finance.fiscal_year_start_month )
00133             memset(course_enrollments, 0, <span class="keyword">sizeof</span>(course_enrollments));
00134     }
00135 
00136     <span class="comment">// start of a trimester</span>
00137     <span class="keywordflow">if</span> ( info.is_begin_trimester() ) {
00138         <span class="comment">//--------  calc course enrollments for facility office --------//</span>
00139 
00140         <span class="keywordtype">int</span> i, enrollments[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>];
00141 
00142         memset(enrollments, 0, <span class="keyword">sizeof</span>(enrollments));
00143 
00144         <span class="keywordflow">for</span> (i=size(); i&gt;0; i--) {
00145             <a class="code" href="classCourse.html">Course</a>* cPtr = this-&gt;operator[](i);
00146             enrollments[cPtr-&gt;<a class="code" href="classCourse.html#m4">teaching_method</a>] = cPtr-&gt;<a class="code" href="classCourse.html#m6">convention_student_count</a>;
00147         }
00148 
00149         <span class="comment">// should be the maximum trimestrer enrollment over the three trimesters last year</span>
00150 
00151         <span class="keywordflow">for</span> ( i=0; i&lt;<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>; i++) {
00152             <span class="keywordflow">if</span> ( course_enrollments[i] &lt; enrollments[i] ) {
00153                 course_enrollments[i] = enrollments[i];
00154             }
00155         }
00156 
00157 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00158 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( !initial )
00159 <span class="preprocessor">#endif</span>
00160 <span class="preprocessor"></span>            update_history();
00161     }
00162 }
00163 
00164 <span class="comment">//----------- End of function CourseArray::next_day -----------//</span>
00165 
00166 <span class="comment">//------- Begin of function CourseArray::update_history -----//</span>
00167 
<a name="l00168"></a><a class="code" href="classCourseArray.html#a8">00168</a> <span class="keywordtype">void</span> <a class="code" href="classCourseArray.html#a8">CourseArray::update_history</a>() {
00169     <span class="keywordtype">int</span> sz = <span class="keyword">sizeof</span>(class_section_count);
00170 
00171     memset(<a class="code" href="classCourseArray.html#m2">class_section_count</a>, 0, sz);
00172     memset(<a class="code" href="classCourseArray.html#m3">convention_student_count</a>, 0, sz);
00173     memset(<a class="code" href="classCourseArray.html#m4">average_class_size</a>, 0, sz);
00174     memset(<a class="code" href="classCourseArray.html#m5">normal_class_size</a>, 0, sz);
00175 
00176     memset(<a class="code" href="classCourseArray.html#m6">size_deviation</a>, 0, sz);
00177     memset(<a class="code" href="classCourseArray.html#m7">admission_denied_count</a>, 0, sz);
00178     memset(<a class="code" href="classCourseArray.html#m8">failure_count</a>, 0, sz);
00179 
00180 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00181 <span class="preprocessor"></span>    memset(outsourcing_credits, 0 ,sz);
00182 <span class="preprocessor">#endif</span>
00183 <span class="preprocessor"></span>
00184     <span class="comment">/*</span>
00185 <span class="comment">      Re: Q37a. hiring;and Q38</span>
00186 <span class="comment">      Date: Wed, 9 Dec 1998 19:14:12 -0700</span>
00187 <span class="comment"></span>
00188 <span class="comment">      Q38</span>
00189 <span class="comment"></span>
00190 <span class="comment">      Q1. Re "How to calculate the item "experienced class size" on the screen Course</span>
00191 <span class="comment">      for both "department" and "institution"?" This is just the average of the</span>
00193 <span class="comment">      class sizes for the individual courses in the department or the</span>
00194 <span class="comment">      institution. I.e, calculate (enrollment/number of primary sections) for</span>
00195 <span class="comment">      each course and take the average. By "primary section" I mean to ignore the</span>
00196 <span class="comment">      breakout sections for classes with breakouts: the breakouts don't enter the</span>
00197 <span class="comment">      average. The "institution" number is the average for all courses in the</span>
00198 <span class="comment">      instituion, not the average of the departmental averages.</span>
00199 <span class="comment">    */</span>
00200 
00201     <a class="code" href="Gamedef_8h.html#a14">shift_history</a>(<a class="code" href="classCourseArray.html#m9">experienced_class_size</a>, HISTORY_TRIMESTER_COUNT);
00202 
00203     <span class="comment">//float total = 0;</span>
00204     <span class="comment">//int count = 0;</span>
00205 
00206     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=<a class="code" href="classDynArray.html#a28">size</a>(); i&gt;0; i--) {
00207         <a class="code" href="classCourse.html">Course</a>* cPtr = this-&gt;<a class="code" href="classCourseArray.html#a13">operator[]</a>(i);
00208         <span class="keywordtype">int</span> tm = cPtr-&gt;<a class="code" href="classCourse.html#m4">teaching_method</a>;
00209         <a class="code" href="ALL_8H.html#a0">err_when</a>(tm &gt;= <a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>);
00210 
00211         <a class="code" href="classCourseArray.html#m2">class_section_count</a>[tm] += cPtr-&gt;<a class="code" href="classCourse.html#m10">class_section_count</a>;
00212         <a class="code" href="classCourseArray.html#m3">convention_student_count</a>[tm] += cPtr-&gt;<a class="code" href="classCourse.html#m6">convention_student_count</a>;
00213         <span class="comment">// 0308 use = instead of +=</span>
00214         <a class="code" href="classCourseArray.html#m5">normal_class_size</a>[tm] = cPtr-&gt;<a class="code" href="classCourse.html#a0">normal_class_size</a>();
00215         <a class="code" href="classCourseArray.html#m7">admission_denied_count</a>[tm] += cPtr-&gt;<a class="code" href="classCourse.html#m8">admission_denied_count</a>;
00216         <a class="code" href="classCourseArray.html#m8">failure_count</a>[tm] += cPtr-&gt;<a class="code" href="classCourse.html#m9">failure_count</a>;
00217 
00218 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00219 <span class="preprocessor"></span>        outsourcing_credits[tm] += cPtr-&gt;outsourcing_credits;
00220 <span class="preprocessor">#endif</span>
00221 <span class="preprocessor"></span>
00222         <span class="keywordflow">if</span> ( tm != <a class="code" href="Ocourse_8h.html#a40a34">BREAKOUT_LAB</a> ) {
00223             <span class="comment">//                  total += math.safe_divide(cPtr-&gt;convention_student_count, cPtr-&gt;class_section_count);</span>
00224             <span class="comment">//                  count++;</span>
00225         }
00226     }
00227 
00228     <span class="comment">//experienced_class_size[THIS_TRIMESTER] = (int) math.safe_divide(total, (float) count);</span>
00229 
00230     <span class="keywordflow">for</span>(<span class="keywordtype">char</span> t=0; t&lt;<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>; t++) {
00231 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00232 <span class="preprocessor"></span>        outsourcing_credits[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] += outsourcing_credits[t];
00233 <span class="preprocessor">#endif</span>
00234 <span class="preprocessor"></span>
00235 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00236 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( t == <a class="code" href="Ocourse_8h.html#a40a32">DISTANCE_LEARN_COURSE</a> )             <span class="comment">// Kenneth</span>
00237             <span class="keywordflow">continue</span>;
00238 <span class="preprocessor">#endif</span>
00239 <span class="preprocessor"></span>
00240         <a class="code" href="classCourseArray.html#m4">average_class_size</a>[t] = (int) math.safe_divide(<a class="code" href="classCourseArray.html#m3">convention_student_count</a>[t], <a class="code" href="classCourseArray.html#m2">class_section_count</a>[t]);
00241 
00242         <span class="keywordflow">if</span>( <a class="code" href="classCourseArray.html#m2">class_section_count</a>[t] &gt; 0 )
00243             <a class="code" href="classCourseArray.html#m6">size_deviation</a>[t] = (int) math.safe_divide(100 * (<a class="code" href="classCourseArray.html#m4">average_class_size</a>[t]-<a class="code" href="classCourseArray.html#m5">normal_class_size</a>[t]), <a class="code" href="classCourseArray.html#m5">normal_class_size</a>[t]);
00244         <span class="keywordflow">else</span>
00245             <a class="code" href="classCourseArray.html#m6">size_deviation</a>[t] = 0;                      <span class="comment">// no deviation if there is no section.</span>
00246 
00247         <span class="comment">//0405</span>
00248         <a class="code" href="classCourseArray.html#m9">experienced_class_size</a>[THIS_TRIMESTER] += <a class="code" href="classCourseArray.html#m4">average_class_size</a>[t];
00249 
00250         <span class="comment">//----//</span>
00251 
00252         <a class="code" href="classCourseArray.html#m2">class_section_count</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] += <a class="code" href="classCourseArray.html#m2">class_section_count</a>[t];
00253         <a class="code" href="classCourseArray.html#m3">convention_student_count</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] += <a class="code" href="classCourseArray.html#m3">convention_student_count</a>[t];
00254         <span class="comment">//0405 average_class_size[MAX_TEACHING_METHOD] += average_class_size[t];</span>
00255         <a class="code" href="classCourseArray.html#m5">normal_class_size</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] += <a class="code" href="classCourseArray.html#m5">normal_class_size</a>[t];
00256         <span class="comment">// size_deviation[MAX_TEACHING_METHOD] += size_deviation[t];</span>
00257         <span class="comment">// fix in version 2 use weighted average (weight is class_section_count)</span>
00258         <a class="code" href="classCourseArray.html#m6">size_deviation</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] += <a class="code" href="classCourseArray.html#m6">size_deviation</a>[t] * <a class="code" href="classCourseArray.html#m2">class_section_count</a>[t];
00259         <a class="code" href="classCourseArray.html#m7">admission_denied_count</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] += <a class="code" href="classCourseArray.html#m7">admission_denied_count</a>[t];
00260         <a class="code" href="classCourseArray.html#m8">failure_count</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] += <a class="code" href="classCourseArray.html#m8">failure_count</a>[t];
00261     }
00262 
00263     <span class="comment">//## chea begin 990525</span>
00264 
00265     <span class="comment">// 0405</span>
00266     <a class="code" href="classCourseArray.html#m4">average_class_size</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] = (int) math.safe_divide(<a class="code" href="classCourseArray.html#m3">convention_student_count</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>], <a class="code" href="classCourseArray.html#m2">class_section_count</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>]);
00267 
00268     <span class="keywordflow">if</span> ( <a class="code" href="classCourseArray.html#m4">average_class_size</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] &lt;= 0)
00269         <a class="code" href="classCourseArray.html#m9">experienced_class_size</a>[THIS_TRIMESTER] = <a class="code" href="classCourseArray.html#m9">experienced_class_size</a>[THIS_TRIMESTER-1];
00270     <span class="keywordflow">else</span>
00271         <a class="code" href="classCourseArray.html#m9">experienced_class_size</a>[THIS_TRIMESTER] = <a class="code" href="classCourseArray.html#m4">average_class_size</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>];
00272 
00273     <span class="comment">//## chea end 990525</span>
00274 
00275     <a class="code" href="classCourseArray.html#m5">normal_class_size</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] /= (<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>-1);
00276 
00277     <span class="comment">// size_deviation[MAX_TEACHING_METHOD] /= (MAX_TEACHING_METHOD-1);</span>
00278     <span class="comment">// fix in version 2 use weighted average (weight is class_section_count)</span>
00279     <span class="keywordflow">if</span>( <a class="code" href="classCourseArray.html#m2">class_section_count</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] &gt; 0 )
00280         <a class="code" href="classCourseArray.html#m6">size_deviation</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] = (int)math.safe_divide( <a class="code" href="classCourseArray.html#m6">size_deviation</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>], <a class="code" href="classCourseArray.html#m2">class_section_count</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] );
00281     <span class="keywordflow">else</span>
00282         <a class="code" href="classCourseArray.html#m6">size_deviation</a>[<a class="code" href="Ocourse_8h.html#a39a29">MAX_TEACHING_METHOD</a>] = 0;
00283 
00284 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00285 <span class="preprocessor"></span>    <span class="comment">// after updating</span>
00286     <span class="keywordflow">for</span>(t=0; t&lt;<a class="code" href="Ocourse_8h.html#a39a30">MAX_TEACHING_METHOD_N_TOTAL</a>; t++) {
00287         <a class="code" href="Gamedef_8h.html#a14">shift_history</a>(class_section_count_history[t], HISTORY_TRIMESTER_COUNT);
00288         class_section_count_history[t][THIS_TRIMESTER] = <a class="code" href="classCourseArray.html#m2">class_section_count</a>[t];
00289         <a class="code" href="Gamedef_8h.html#a14">shift_history</a>(convention_student_count_history[t], HISTORY_TRIMESTER_COUNT);
00290         convention_student_count_history[t][THIS_TRIMESTER] = <a class="code" href="classCourseArray.html#m3">convention_student_count</a>[t];
00291         <a class="code" href="Gamedef_8h.html#a14">shift_history</a>(size_deviation_history[t], HISTORY_TRIMESTER_COUNT);
00292         size_deviation_history[t][THIS_TRIMESTER] = <a class="code" href="classCourseArray.html#m6">size_deviation</a>[t];
00293         <a class="code" href="Gamedef_8h.html#a14">shift_history</a>(admission_denied_count_history[t], HISTORY_TRIMESTER_COUNT);
00294         admission_denied_count_history[t][THIS_TRIMESTER] = <a class="code" href="classCourseArray.html#m7">admission_denied_count</a>[t];
00295         <a class="code" href="Gamedef_8h.html#a14">shift_history</a>(failure_count_history[t], HISTORY_TRIMESTER_COUNT);
00296         failure_count_history[t][THIS_TRIMESTER] = <a class="code" href="classCourseArray.html#m8">failure_count</a>[t];
00297 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00298 <span class="preprocessor"></span>        <a class="code" href="Gamedef_8h.html#a14">shift_history</a>( outsourcing_credits_history[t], HISTORY_TRIMESTER_COUNT);
00299         outsourcing_credits_history[t][THIS_TRIMESTER] = outsourcing_credits[t];
00300 <span class="preprocessor">#endif</span>
00301 <span class="preprocessor"></span>    }
00302 <span class="preprocessor">#endif</span>
00303 <span class="preprocessor"></span>
00304 }
00305 
00306 <span class="comment">//------- End of function CourseArray::update_history -----//</span>
00307 
00308 <span class="comment">// ##### Begin Marco ##### //</span>
00309 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00310 <span class="preprocessor"></span><span class="comment">//--------- Begin of function CourseArray::save_initial_data ---------//</span>
00311 <span class="keywordtype">void</span> CourseArray::save_initial_data() {
00312     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="Ocourse_8h.html#a39a30">MAX_TEACHING_METHOD_N_TOTAL</a>; i++) {
00313         initial_class_section_count[i] = <a class="code" href="classCourseArray.html#m2">class_section_count</a>[i];
00314         initial_convention_student_count[i] = <a class="code" href="classCourseArray.html#m3">convention_student_count</a>[i];
00315         initial_average_class_size[i] = <a class="code" href="classCourseArray.html#m4">average_class_size</a>[i];
00316         initial_size_deviation[i] = <a class="code" href="classCourseArray.html#m6">size_deviation</a>[i];
00317         initial_admission_denied_count[i] = <a class="code" href="classCourseArray.html#m7">admission_denied_count</a>[i];
00318         initial_failure_count[i] = <a class="code" href="classCourseArray.html#m8">failure_count</a>[i];
00319         initial_normal_class_size[i] = <a class="code" href="classCourseArray.html#m5">normal_class_size</a>[i];
00320     }
00321 
00322     initial_experienced_class_size = <a class="code" href="classCourseArray.html#m9">experienced_class_size</a>[HISTORY_TRIMESTER_COUNT-1];
00323 }
00324 
00325 <span class="comment">//--------- End of function CourseArray::save_initial_data ---------//</span>
00326 <span class="preprocessor">#endif</span>
00327 <span class="preprocessor"></span><span class="comment">// ##### End Marco ##### //</span>
00328 
00329 <span class="preprocessor">#ifdef DEBUG</span>
00330 <span class="preprocessor"></span>
00331 <span class="comment">//------- Begin of function CourseArray::operator[] -----//</span>
00332 
00333 <a class="code" href="classCourse.html">Course</a>* <a class="code" href="classCourseArray.html#a13">CourseArray::operator[]</a>(<span class="keywordtype">int</span> recNo) {
00334     <a class="code" href="classCourse.html">Course</a>* coursePtr = (<a class="code" href="classCourse.html">Course</a>*) <a class="code" href="classDynArray.html#a13">get</a>(recNo);
00335 
00336     <span class="keywordflow">if</span>( !coursePtr )
00337         err.run( <span class="stringliteral">"CourseArray[] is deleted"</span> );
00338 
00339     <span class="keywordflow">return</span> coursePtr;
00340 }
00341 
00342 <span class="comment">//--------- End of function CourseArray::operator[] ----//</span>
00343 <span class="preprocessor">#endif</span>
00344 <span class="preprocessor"></span>
00345 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00346 <span class="preprocessor"></span><span class="keywordtype">int</span> <a class="code" href="classCourseArray.html#a12">CourseArray::is_deleted</a>(<span class="keywordtype">int</span> recNo) {
00347     <a class="code" href="classCourse.html">Course</a>* coursePtr = (<a class="code" href="classCourse.html">Course</a>*) <a class="code" href="classDynArray.html#a13">get</a>(recNo);
00348 
00349     <span class="keywordflow">if</span>(!coursePtr || !coursePtr-&gt;<a class="code" href="classCourse.html#m0">course_recno</a>)
00350         <span class="keywordflow">return</span> 1;
00351 
00352     <span class="keywordflow">return</span> 0;
00353 }
00354 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:37:20 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
