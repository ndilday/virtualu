<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Ostd_sum.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Ostd_sum.cpp</h1><a href="Ostd__sum_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : OSTD_SUM.CPP</span>
00002 <span class="comment">//Description : Faculty Report</span>
00003 
00004 <span class="preprocessor">#include &lt;<a class="code" href="KEY_8H.html">KEY.H</a>&gt;</span>
00005 <span class="preprocessor">#include &lt;<a class="code" href="OVGA_8H.html">OVGA.H</a>&gt;</span>
00006 <span class="preprocessor">#include &lt;OMATH.H&gt;</span>
00007 <span class="preprocessor">#include &lt;OFONT.H&gt;</span>
00008 <span class="preprocessor">#include &lt;<a class="code" href="OWORLD_8H.html">OWORLD.H</a>&gt;</span>
00009 <span class="preprocessor">#include &lt;OSYS.H&gt;</span>
00010 <span class="preprocessor">#include &lt;OINFO.H&gt;</span>
00011 <span class="preprocessor">#include &lt;OFINANCE.H&gt;</span>
00012 <span class="preprocessor">#include &lt;OENROLL.H&gt;</span>
00013 <span class="preprocessor">#include &lt;OIFACE.H&gt;</span>
00014 <span class="preprocessor">#include &lt;OBUTTON.H&gt;</span>
00015 <span class="preprocessor">#include &lt;<a class="code" href="OVALSLDR_8H.html">OVALSLDR.H</a>&gt;</span>
00016 <span class="preprocessor">#include &lt;ODEPT.H&gt;</span>
00017 <span class="preprocessor">#include &lt;OPSCHOOL.H&gt;</span>
00018 <span class="preprocessor">#include &lt;<a class="code" href="OSTUOFF_8H.html">OSTUOFF.H</a>&gt;</span>
00019 <span class="preprocessor">#include &lt;OSTUDENT.H&gt;</span>
00020 <span class="preprocessor">#include &lt;OGAMESTR.H&gt;</span>
00021 <span class="preprocessor">#include &lt;OSPINNER.H&gt;</span>
00022 <span class="preprocessor">#include &lt;<a class="code" href="OGRPHYR_8H.html">OGRPHYR.H</a>&gt;</span>
00023 <span class="preprocessor">#include &lt;<a class="code" href="OGRPNFYR_8H.html">OGRPNFYR.H</a>&gt;</span>                             <span class="comment">// Large Performance Indicator</span>
00024 <span class="preprocessor">#include &lt;<a class="code" href="OPIECHRT_8H.html">OPIECHRT.H</a>&gt;</span>
00025 <span class="preprocessor">#include &lt;<a class="code" href="OGRPH__PY_8H.html">OGRPH_PY.H</a>&gt;</span>
00026 <span class="preprocessor">#include &lt;<a class="code" href="OGRPH__PT_8H.html">OGRPH_PT.H</a>&gt;</span>
00027 <span class="preprocessor">#include &lt;<a class="code" href="OGRPH__PM_8H.html">OGRPH_PM.H</a>&gt;</span>
00028 <span class="preprocessor">#include &lt;<a class="code" href="OGRPNFT_8H.html">OGRPNFT.H</a>&gt;</span>
00029 <span class="preprocessor">#include &lt;<a class="code" href="OTEXT_8H.html">OTEXT.H</a>&gt;</span>
00030 <span class="preprocessor">#include &lt;<a class="code" href="OHELP_8H.html">OHELP.H</a>&gt;</span>
00031 
00032 <span class="comment">//---------- Define constant ------------//</span>
00033 
00034 <span class="keyword">enum</span> {
00035     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a> = <a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>+15,
00036     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a> = <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>+15,
00037     <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a> = <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>-15,
00038     <a class="code" href="Ostd__sum_8cpp.html#a109a47">REPORT_Y2</a> = <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>-40,
00039 };
00040 
00041 <span class="keyword">enum</span> { <a class="code" href="Ostd__sum_8cpp.html#a110a48">FACULTY_REC_HEIGHT</a> = 84, <a class="code" href="Ostd__sum_8cpp.html#a110a49">RESEARCH_REC_HEIGHT</a> = 16 };
00042 
00043 <span class="comment">//--------- Define report modes ----------//</span>
00044 
00045 <span class="keyword">enum</span> {                                            <span class="comment">// the bg image id</span>
00046     <a class="code" href="Ostd__sum_8cpp.html#a111a50">BG_PIC_ID</a> = 8
00047 };
00048 
00049 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00050 <span class="preprocessor"></span><span class="keyword">enum</span> { <a class="code" href="Ostd__sum_8cpp.html#a112a51">STD_SUM_REPORT_TYPE_COUNT</a> = 10};
00051 <span class="keyword">enum</span> {
00052     <a class="code" href="Ostd__sum_8cpp.html#a113a52">REPORT_TYPE_DEPARTMENT_PROFILE1</a>, <a class="code" href="Ostd__sum_8cpp.html#a113a53">REPORT_TYPE_DEPARTMENT_PROFILE2</a>,
00053     <a class="code" href="Ostd__sum_8cpp.html#a113a54">REPORT_TYPE_DEPARTMENT_ACTIVITIES</a>, REPORT_TYPE_TURNOVER,
00054     <a class="code" href="Ostd__sum_8cpp.html#a113a55">REPORT_TYPE_INSTITUTION_PROFILE1</a>, <a class="code" href="Ostd__sum_8cpp.html#a113a56">REPORT_TYPE_INSTITUTION_PROFILE2</a>,
00055     <a class="code" href="Ostd__sum_8cpp.html#a113a57">REPORT_TYPE_INSTITUTION_ACTIVITIES</a>, <a class="code" href="Ostd__sum_8cpp.html#a113a58">REPORT_TYPE_INSTITUTION_UNDERGRADUATE</a>,
00056     <a class="code" href="Ostd__sum_8cpp.html#a113a59">REPORT_TYPE_FINANCE</a>,
00057     <a class="code" href="Ostd__sum_8cpp.html#a113a60">REPORT_TYPE_RESIDENCE_HALL</a>,
00058 };
00059 <span class="preprocessor">#else</span>
00060 <span class="preprocessor"></span><span class="keyword">enum</span> { <a class="code" href="Ostd__sum_8cpp.html#a112a51">STD_SUM_REPORT_TYPE_COUNT</a> = 9};
00061 <span class="keyword">enum</span> {
00062     <a class="code" href="Ostd__sum_8cpp.html#a113a52">REPORT_TYPE_DEPARTMENT_PROFILE1</a>, <a class="code" href="Ostd__sum_8cpp.html#a113a53">REPORT_TYPE_DEPARTMENT_PROFILE2</a>,
00063     <a class="code" href="Ostd__sum_8cpp.html#a113a54">REPORT_TYPE_DEPARTMENT_ACTIVITIES</a>,
00064     <a class="code" href="Ostd__sum_8cpp.html#a113a55">REPORT_TYPE_INSTITUTION_PROFILE1</a>, <a class="code" href="Ostd__sum_8cpp.html#a113a56">REPORT_TYPE_INSTITUTION_PROFILE2</a>,
00065     <a class="code" href="Ostd__sum_8cpp.html#a113a57">REPORT_TYPE_INSTITUTION_ACTIVITIES</a>, <a class="code" href="Ostd__sum_8cpp.html#a113a58">REPORT_TYPE_INSTITUTION_UNDERGRADUATE</a>,
00066     <a class="code" href="Ostd__sum_8cpp.html#a113a59">REPORT_TYPE_FINANCE</a>,
00067     <a class="code" href="Ostd__sum_8cpp.html#a113a60">REPORT_TYPE_RESIDENCE_HALL</a>,
00068 };
00069 <span class="preprocessor">#endif</span>
00070 <span class="preprocessor"></span>
00071 <span class="keyword">enum</span> { <a class="code" href="Ostd__sum_8cpp.html#a114a61">REPORT_MODE_COUNT</a> = 2 };
00072 <span class="keyword">enum</span> { <a class="code" href="Ostd__sum_8cpp.html#a115a62">REPORT_MODE_INSTITUTION</a>, <a class="code" href="Ostd__sum_8cpp.html#a115a63">REPORT_MODE_DEPARTMENT</a>};
00073 
00074 <span class="keyword">enum</span> { <a class="code" href="Ostd__sum_8cpp.html#a116a64">BUTTON_Y1</a>=<a class="code" href="Ostd__sum_8cpp.html#a109a47">REPORT_Y2</a>+10 };
00075 
00076 <span class="keyword">enum</span> {
00077     <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a> = <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+68,
00078     <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a> = <a class="code" href="Ostd__sum_8cpp.html#a109a47">REPORT_Y2</a>-20,
00079     <a class="code" href="Ostd__sum_8cpp.html#a117a67">BOTTOM_BUTTON_TAB1</a> = 400,
00080     <a class="code" href="Ostd__sum_8cpp.html#a117a68">BOTTOM_BUTTON_X2</a> = <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,
00081     <a class="code" href="Ostd__sum_8cpp.html#a117a69">BOTTOM_BUTTON_Y2</a> = <a class="code" href="Ostd__sum_8cpp.html#a109a47">REPORT_Y2</a>+10
00082 };
00083 <span class="keyword">enum</span> {
00084     <a class="code" href="Ostd__sum_8cpp.html#a118a70">TAB1</a>=20,
00085     <a class="code" href="Ostd__sum_8cpp.html#a118a71">TAB2</a>=200,
00086     <a class="code" href="Ostd__sum_8cpp.html#a118a72">TAB3</a>=210,
00087     <a class="code" href="Ostd__sum_8cpp.html#a118a73">TAB4</a>=450,
00088     <a class="code" href="Ostd__sum_8cpp.html#a118a74">TAB5</a>=500,
00089     <a class="code" href="Ostd__sum_8cpp.html#a118a75">TAB6</a>=610,
00090     <a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>=5,
00091     <a class="code" href="Ostd__sum_8cpp.html#a118a77">VTAB2</a>=160,
00092     <a class="code" href="Ostd__sum_8cpp.html#a118a78">VTAB3</a>=180,
00093     <a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>=310,
00094     <a class="code" href="Ostd__sum_8cpp.html#a118a80">VTAB5</a>=420,
00095 };
00096 
00097 <span class="keyword">enum</span> {
00098     <a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a> = 104,
00099     <a class="code" href="Ostd__sum_8cpp.html#a119a82">BOTTOM_BUTTON_WIDTH2</a> = 85,
00100     <a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a> = 22,
00101     <a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a> = 2
00102 };
00103 
00104 <span class="keyword">enum</span> {
00105     <a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a> = 65,
00106     <a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a> = 260,
00107     <a class="code" href="Ostd__sum_8cpp.html#a120a87">MODE_FINANCIAL_GRAPH_WIDTH</a> = 400,
00108     <a class="code" href="Ostd__sum_8cpp.html#a120a88">MODE_FINANCIAL_GRAPH_HEIGHT</a> = 150,
00109     <a class="code" href="Ostd__sum_8cpp.html#a120a89">MODE_FINANCIAL_LEGEND_HEIGHT</a> = 26,
00110     <a class="code" href="Ostd__sum_8cpp.html#a120a90">MODE_FINANCIAL_LEGEND_WIDTH</a> = 400,
00111 
00112     <a class="code" href="Ostd__sum_8cpp.html#a120a91">MODE_FINANCIAL_TAB1</a> = 15,
00113     <a class="code" href="Ostd__sum_8cpp.html#a120a92">MODE_FINANCIAL_TAB2</a> = 280,
00114     <a class="code" href="Ostd__sum_8cpp.html#a120a93">MODE_FINANCIAL_TAB3</a> = 360,
00115     <a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a> = 400,
00116     <a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a> = 520,
00117     <a class="code" href="Ostd__sum_8cpp.html#a120a96">MODE_FINANCIAL_TAB6</a> = 600,
00118 };
00119 
00120 <span class="keyword">enum</span> {
00121     <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a> = <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+60,
00122     <a class="code" href="Ostd__sum_8cpp.html#a121a98">FINANCIAL_BUTTON_Y1</a> = <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+132,
00123     <a class="code" href="Ostd__sum_8cpp.html#a121a99">FINANCIAL_BUTTON_X2</a> = <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,
00124     <a class="code" href="Ostd__sum_8cpp.html#a121a100">FINANCIAL_BUTTON_Y2</a> = <a class="code" href="Ostd__sum_8cpp.html#a109a47">REPORT_Y2</a>-30
00125 };
00126 
00127 <span class="keyword">enum</span> {
00128     <a class="code" href="Ostd__sum_8cpp.html#a122a101">FINANCIAL_BUTTON2_Y1</a> = <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+262,
00129     <a class="code" href="Ostd__sum_8cpp.html#a122a102">FINANCIAL_BUTTON2_Y2</a> = <a class="code" href="Ostd__sum_8cpp.html#a109a47">REPORT_Y2</a>-30
00130 };
00131 
00132 <span class="keyword">enum</span> {
00133     <a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a> = 200,
00134     <a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a> = 20,
00135     <a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a> = 3
00136 };
00137 
00138 <span class="keyword">enum</span> {                                            <span class="comment">// the 'sub' view-modes</span>
00139     <a class="code" href="Ostd__sum_8cpp.html#a124a106">MODE_FINANCIAL_IMPLEMENT</a> = 2,
00140     <a class="code" href="Ostd__sum_8cpp.html#a124a107">MODE_FINANCIAL_ANNOUNCE</a> = 1,
00141     <a class="code" href="Ostd__sum_8cpp.html#a124a108">MODE_FINANCIAL_CONSIDER</a> = 0,
00142 };
00143 
00144 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00145 <span class="preprocessor"></span><span class="keyword">static</span> <a class="code" href="classButtonGroup.html">ButtonGroup</a> type_button_group(10);
00146 <span class="preprocessor">#else</span>
00147 <span class="preprocessor"></span><span class="keyword">static</span> <a class="code" href="classButtonGroup.html">ButtonGroup</a> type_button_group(9);
00148 <span class="preprocessor">#endif</span>
00149 <span class="preprocessor"></span><span class="comment">//static short *type_button_up_bitmap[9];</span>
00150 <span class="comment">//static short *type_button_down_bitmap[9];</span>
00151 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00152 <span class="preprocessor"></span><span class="keyword">static</span> <a class="code" href="classButton.html">Button</a> mode_turnover_button;
00153 <span class="keyword">static</span> <a class="code" href="classButton.html">Button</a> mode_turnover_next_button;
00154 <span class="preprocessor">#endif</span>
00155 <span class="preprocessor"></span>
00156 <span class="keyword">static</span> <span class="keywordtype">short</span> *text_refresh_bitmap1;
00157 
00158 <span class="comment">// Begin Financial Mode Setting</span>
00159 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_financial_str[] = {
00160     <span class="stringliteral">"Gross tuition income"</span>,
00161     <span class="stringliteral">"Student life spending"</span>,
00162     <span class="stringliteral">"Student life satisfaction"</span>,
00163     <span class="stringliteral">""</span>,
00164     <span class="stringliteral">"Change"</span>,
00165     <span class="stringliteral">"Change in tuition rate"</span>,
00166     <span class="stringliteral">"Change in student life \r\nexpenditures"</span>
00167 };
00168 
00169 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_financial_label[] = {
00170     <span class="stringliteral">"Revenue"</span>, <span class="stringliteral">"Expenditure"</span>,<span class="stringliteral">"Profit"</span>, <span class="stringliteral">"Loss"</span>,
00171 };
00172 
00173 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00174 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">char</span>* mode_turnover_label1[] = {
00175     <span class="stringliteral">"Prior year's"</span>,<span class="stringliteral">"Admissions"</span>,<span class="stringliteral">""</span>,<span class="stringliteral">""</span>,<span class="stringliteral">"Current"</span>,
00176 };
00177 
00178 <span class="keyword">static</span> <span class="keywordtype">char</span>* mode_turnover_label2[] = {
00179     <span class="stringliteral">"enrollment"</span>,<span class="stringliteral">"target"</span>,<span class="stringliteral">"Graduations"</span>,<span class="stringliteral">"Dropouts"</span>,<span class="stringliteral">"enrollment"</span>,
00180 };
00181 
00182 <span class="keyword">static</span> <span class="keywordtype">char</span>* mode_turnover_row_label[] = {
00183     <span class="stringliteral">"Student level"</span>,<span class="stringliteral">"Undergraduate traditional"</span>,<span class="stringliteral">"Undergraduates nontraditional"</span>,
00184     <span class="stringliteral">"Graduate: Master's"</span>,<span class="stringliteral">"Graduate: Doctoral"</span>,<span class="stringliteral">"Total"</span>,
00185 };
00186 <span class="preprocessor">#endif</span>
00187 <span class="preprocessor"></span>
00188 <span class="keyword">static</span> <span class="keywordtype">short</span> *mode_financial_stats_bitmap;
00189 <span class="keyword">static</span> <a class="code" href="classSpinner.html">Spinner</a> financial_spinner_budget1;
00190 <span class="keyword">static</span> <a class="code" href="classSpinner.html">Spinner</a> financial_spinner_budget2;
00191 <span class="keyword">static</span> <a class="code" href="classButtonGroup.html">ButtonGroup</a> financial_button_group1(3);
00192 <span class="keyword">static</span> <span class="keywordtype">short</span> *financial_button1_up_bitmap[3];
00193 <span class="keyword">static</span> <span class="keywordtype">short</span> *financial_button1_down_bitmap[3];
00194 <span class="keyword">static</span> <a class="code" href="classButtonGroup.html">ButtonGroup</a> financial_button_group2(3);
00195 <span class="keyword">static</span> <span class="keywordtype">short</span> *financial_button2_up_bitmap[3];
00196 <span class="keyword">static</span> <span class="keywordtype">short</span> *financial_button2_down_bitmap[3];
00197 <span class="keyword">static</span> <span class="keywordtype">char</span> *financial_button_label[] = {
00198     <span class="stringliteral">"Consider for next year"</span>, <span class="stringliteral">"Promise for next year"</span>, <span class="stringliteral">"Implement now"</span>
00199 };
00200 <span class="keyword">static</span> <span class="keywordtype">char</span> financial_current_mode = <a class="code" href="Ostd__sum_8cpp.html#a124a108">MODE_FINANCIAL_CONSIDER</a>;
00201 
00202 <span class="keyword">static</span> <a class="code" href="classGraphYear.html">GraphYear</a> mode_financial_graph_profitloss1;
00203 <span class="keyword">static</span> <a class="code" href="classGraphYear.html">GraphYear</a> mode_financial_graph_profitloss2;
00204 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorMonth.html">GraphPerformanceIndicatorMonth</a> mode_financial_graphicon;
00205 <span class="keyword">static</span> <a class="code" href="classText.html">Text</a> mode_financial_text;
00206 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_financial_graph_title=<span class="stringliteral">""</span>;
00207 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_financial_legend_label[] = {
00208     <span class="stringliteral">"Gross tuition revenue"</span>,<span class="stringliteral">"Student life spending"</span>,
00209 };
00210 
00211 <span class="comment">// End Financial Mode Setting</span>
00212 
00213 <span class="comment">// Begin Residence Hall Mode Setting</span>
00214 <span class="keyword">static</span> <a class="code" href="classText.html">Text</a> mode_hall_text;
00215 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_hall_str[] = {
00216     <span class="stringliteral">"Occupied beds/ Available beds"</span>,
00217     <span class="stringliteral">"Percentage of traditional undergraduate students in residence halls"</span>
00218 };
00219 
00220 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_hall_legend1[] = {
00221     <span class="stringliteral">"Available beds"</span>,<span class="stringliteral">"Occupied beds"</span>
00222 };
00223 
00224 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_hall_legend2[] = {
00225     <span class="stringliteral">"Tuition rate"</span>,<span class="stringliteral">"Room &amp; board rate"</span>
00226 };
00227 
00228 <span class="keyword">static</span> <a class="code" href="classGraphNonFinancialYear.html">GraphNonFinancialYear</a> mode_hall_graph1;
00229 <span class="keyword">static</span> <a class="code" href="classGraphNonFinancialYear.html">GraphNonFinancialYear</a> mode_hall_graph2;
00230 <span class="keyword">static</span> <a class="code" href="classValueSlider.html">ValueSlider</a> mode_hall_value_slider;
00231 <span class="comment">// End Residence Hall Mode Setting</span>
00232 
00233 <span class="keyword">static</span> <a class="code" href="classDepartment.html">Department</a>*  cur_dept_ptr;
00234 <span class="comment">// the department whose faculty we are looking at</span>
00235 
00236 <span class="comment">//static char* reportModeStrArray[]</span>
00237 <span class="comment">// = { "Institution", "Department" };</span>
00238 
00239 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00240 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">char</span>* reportTypeStrArray[]
00241 = {
00242     <span class="stringliteral">"Levels"</span>, <span class="stringliteral">"Profiles"</span>,<span class="stringliteral">"Activities"</span>,           <span class="stringliteral">"Turnover"</span>,
00243     <span class="stringliteral">"Levels"</span>, <span class="stringliteral">"Profiles"</span>,<span class="stringliteral">"Activities"</span>,<span class="stringliteral">"Undergraduate"</span>,<span class="stringliteral">"Finance"</span>,<span class="stringliteral">"Tuition &amp;\nResidence halls"</span>,
00244 };
00245 <span class="preprocessor">#else</span>
00246 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">char</span>* reportTypeStrArray[]
00247 = {
00248     <span class="stringliteral">"Levels"</span>, <span class="stringliteral">"Profiles"</span>,<span class="stringliteral">"Activities"</span>,
00249     <span class="stringliteral">"Levels"</span>, <span class="stringliteral">"Profiles"</span>,<span class="stringliteral">"Activities"</span>,<span class="stringliteral">"Undergraduate"</span>,<span class="stringliteral">"Finance"</span>,<span class="stringliteral">"Residence halls"</span>,
00250 };
00251 <span class="preprocessor">#endif</span>
00252 <span class="preprocessor"></span>
00253 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00254 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">char</span>* std_sum_rank_label[] = {
00255     <span class="stringliteral">"Undergraduate traditional"</span>,
00256     <span class="stringliteral">"Undergraduate nontraditional"</span>,
00257     <span class="stringliteral">"Graduate : master's"</span>,
00258     <span class="stringliteral">"Graduate : doctoral"</span>,
00259     <span class="stringliteral">""</span>,
00260     <span class="stringliteral">"Total"</span>,
00261 };
00262 <span class="preprocessor">#else</span>
00263 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">char</span>* std_sum_rank_label[] = {
00264     <span class="stringliteral">"Undergraduate traditional"</span>,
00265     <span class="stringliteral">"Undergraduate nontraditional"</span>,
00266     <span class="stringliteral">"Graduate : master's"</span>,
00267     <span class="stringliteral">"Graduate : doctoral"</span>,
00268     <span class="stringliteral">"Distance learners\r\n(Undergraduates)"</span>,
00269     <span class="stringliteral">"Total"</span>,
00270 };
00271 <span class="preprocessor">#endif</span>
00272 <span class="preprocessor"></span>
00273 <span class="keyword">static</span> <span class="keywordtype">char</span>* std_sum_ge_label[] = {
00274     <span class="stringliteral">"Nonminority male"</span>,
00275     <span class="stringliteral">"Nonminority female"</span>,
00276     <span class="stringliteral">"Minority male"</span>,
00277     <span class="stringliteral">"Minority female"</span>,
00278     <span class="stringliteral">"Total"</span>,
00279 };
00280 <span class="keyword">static</span> <span class="keywordtype">char</span>* std_sum_title[] = {
00281     <span class="stringliteral">"Student Distribution by Student Level"</span>,
00282     <span class="stringliteral">"Student Distribution by Gender and Ethnicity"</span>,
00283 };
00284 
00285 <span class="keyword">static</span> <span class="keywordtype">char</span>* std_sum_title2[] = {
00286     <span class="stringliteral">"Academic talent"</span>,
00287     <span class="stringliteral">"Academic performance"</span>,
00288     <span class="stringliteral">"Number of degrees awarded"</span>,
00289     <span class="stringliteral">"Undergraduate talent"</span>,
00290     <span class="stringliteral">"Undergraduate satisfaction"</span>
00291 };
00292 
00293 <span class="keyword">static</span> <span class="keywordtype">char</span>* std_sum_title3[] = {
00294     <span class="stringliteral">"Academic talent"</span>,
00295     <span class="stringliteral">"Academic performance"</span>,
00296     <span class="stringliteral">"Number of degrees awarded"</span>,
00297     <span class="stringliteral">"Time to degree (years)"</span>,
00298     <span class="stringliteral">"Number of dropouts"</span>,
00299 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00300 <span class="preprocessor"></span>    <span class="stringliteral">"Morale"</span>,
00301 <span class="preprocessor">#endif</span>
00302 <span class="preprocessor"></span>};
00303 
00304 <span class="keyword">static</span> <span class="keywordtype">char</span>* std_sum_label2[] = {
00305     <span class="stringliteral">"Undergraduate students"</span>,<span class="stringliteral">"Master's and professional students"</span>,<span class="stringliteral">"Doctoral students"</span>,
00306     <span class="stringliteral">"Academic"</span>,<span class="stringliteral">"Extracurricular"</span>,<span class="stringliteral">"Athletics"</span>,
00307     <span class="stringliteral">"Academic"</span>,<span class="stringliteral">"Student life"</span>,<span class="stringliteral">"Athletics"</span>,<span class="stringliteral">"Morale\r\n(overall satisfaction)"</span>
00308 };
00309 
00310 <span class="keyword">static</span> <a class="code" href="classPieChart.html">PieChart</a> std_sum_rank_piechart;
00311 <span class="keyword">static</span> <a class="code" href="classPieChart.html">PieChart</a> std_sum_gender_ethnic_piechart;
00312 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorTrimester.html">GraphPerformanceIndicatorTrimester</a> mode_std_sum_graphicon_t[14];
00313 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorMonth.html">GraphPerformanceIndicatorMonth</a> mode_std_sum_graphicon_m[14];
00314 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorYear.html">GraphPerformanceIndicatorYear</a> mode_std_sum_graphicon_y[14];
00315 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00316 <span class="preprocessor"></span><span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorTrimester.html">GraphPerformanceIndicatorTrimester</a> mode_std_sum_student_morale;
00317 <span class="preprocessor">#endif</span>
00318 <span class="preprocessor"></span><span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00319 <span class="preprocessor"></span><span class="keyword">static</span> <a class="code" href="classText.html">Text</a> std_sum_text[15];
00320 <span class="preprocessor">#else</span>
00321 <span class="preprocessor"></span><span class="keyword">static</span> <a class="code" href="classText.html">Text</a> std_sum_text[14];
00322 <span class="preprocessor">#endif</span>
00323 <span class="preprocessor"></span><span class="keyword">static</span> <a class="code" href="classText.html">Text</a> std_sum_text2[14];
00324 <span class="keyword">static</span> <span class="keywordtype">char</span> report_init_flag=0;
00325 
00327 <span class="comment">//----- Begin of Summary Report 1 ------//</span>
00328 
<a name="l00329"></a><a class="code" href="classPlayerSchool.html#a19">00329</a> <span class="keywordtype">void</span> <a class="code" href="classPlayerSchool.html#a19">PlayerSchool::summary_student_report_1</a>(<span class="keywordtype">int</span> refreshFlag) {
00330     <span class="keyword">static</span> <span class="keywordtype">int</span> percentDataArray[<a class="code" href="Ostudent_8h.html#a0">MAX_STUDENT_LEVEL</a>+1];
00331     <span class="keyword">static</span> <span class="keywordtype">int</span> xStart = 1991, xEnd = 1998;          <span class="comment">//*** temporary ***//</span>
00332 
00333     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num=HISTORY_YEAR_COUNT;
00334     <span class="keyword">static</span> <span class="keywordtype">int</span> data_numT=HISTORY_TRIMESTER_COUNT;
00335     <span class="comment">//  static int *dataArray[MAX_STUDENT_LEVEL];   //## chea 270999 change this and try org.</span>
00336     <span class="keyword">static</span> <span class="keywordtype">int</span> *dataArray[<a class="code" href="Ostudent_8h.html#a0">MAX_STUDENT_LEVEL</a>+1];     <span class="comment">//## chea 270999 change this and try org.</span>
00337 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00338 <span class="preprocessor"></span>    <span class="comment">//  static int *initialDataArray[MAX_STUDENT_LEVEL+1];   //Marco</span>
00339     <span class="keywordtype">int</span> initialDataArray[<a class="code" href="Ostudent_8h.html#a0">MAX_STUDENT_LEVEL</a>+1];      <span class="comment">//Marco new</span>
00340 <span class="preprocessor">#endif</span>
00341 <span class="preprocessor"></span>
00342     <span class="keywordtype">int</span> rankLevelCount[<a class="code" href="Ostudent_8h.html#a0">MAX_STUDENT_LEVEL</a>+1];
00343 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00344 <span class="preprocessor"></span>    <span class="keywordtype">int</span> initialRankLevelCount[<a class="code" href="Ostudent_8h.html#a0">MAX_STUDENT_LEVEL</a>+1]; <span class="comment">//marco</span>
00345 <span class="preprocessor">#endif</span>
00346 <span class="preprocessor"></span>    <span class="keywordtype">int</span> deptRecno;
00347 
00348     memset( rankLevelCount,0, <span class="keyword">sizeof</span>(rankLevelCount) );
00349 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00350 <span class="preprocessor"></span>    <span class="comment">//marco</span>
00351     memset( initialRankLevelCount,0, <span class="keyword">sizeof</span>(initialRankLevelCount) );
00352 <span class="preprocessor">#endif</span>
00353 <span class="preprocessor"></span>
00354     <span class="comment">//---- determine the department for display the faculty records ----//</span>
00355     <span class="keywordflow">if</span>(<a class="code" href="classPlayerSchool.html#m78">current_report_mode</a>==<a class="code" href="Ostd__sum_8cpp.html#a115a63">REPORT_MODE_DEPARTMENT</a>) {
00356         <span class="keywordflow">if</span>( department_array.selected_recno )
00357             deptRecno = department_array.selected_recno;
00358         cur_dept_ptr = department_array[deptRecno];
00359         <span class="comment">//-- department wide --//</span>
00360         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00361             <span class="comment">//                  dataArray[i] = cur_dept_ptr-&gt;student_level_history[i];  //## chea 270999 org</span>
00362             dataArray[i] = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m48">dept_student_level_history</a>[i];
00363 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00364 <span class="preprocessor"></span>            <span class="comment">//marco</span>
00365             initialDataArray[i] = cur_dept_ptr-&gt;initial_dept_student_level_history[i];
00366 <span class="preprocessor">#endif</span>
00367 <span class="preprocessor"></span>
00368             rankLevelCount[i]=dataArray[i][data_numT-1];<span class="comment">//## chea 270999  org</span>
00369             <span class="comment">//                  rankLevelCount[i]=dataArray[i];</span>
00370 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00371 <span class="preprocessor"></span>            <span class="comment">//initialRankLevelCount[i]=initialDataArray[i][data_numT-1];                        //marco</span>
00372             <span class="comment">//marco     new</span>
00373             initialRankLevelCount[i]=initialDataArray[i];
00374 <span class="preprocessor">#endif</span>
00375 <span class="preprocessor"></span>        }
00376     }
00377     <span class="keywordflow">else</span> {
00378         <span class="comment">//-- Institution wide --//</span>
00379         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00380             <span class="comment">//## chea 270999 update tri.</span>
00381             <span class="comment">//                  dataArray[i]=department_array.student_level_history[i];  //## chea 270999//org.</span>
00382             <span class="comment">//                  rankLevelCount[i]=dataArray[i][data_num-1];              //## chea 270999//org.</span>
00383 
00384             <span class="comment">//## chea 270999//org.</span>
00385             dataArray[i]=player_school.ins_student_level_history[i];
00386             <span class="comment">//## chea added the gen_dept_student back in  //## chea 270999//org.</span>
00387             rankLevelCount[i]=dataArray[i][data_numT-1] + department_res.general_dept.<a class="code" href="classDepartment.html#m47">dept_student_level_no</a>[i];
00388 
00389             <span class="comment">// ##### Begin Marco ##### //</span>
00390 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00391 <span class="preprocessor"></span>            initialDataArray[i]=player_school.initial_ins_student_level_history[i];
00392             <span class="comment">//                  initialRankLevelCount[i]=initialDataArray[i][data_numT-1] + department_res.general_dept.initial_dept_student_level_no[i];</span>
00393             <span class="comment">//NEW</span>
00394             initialRankLevelCount[i]=initialDataArray[i] + department_res.general_dept.initial_dept_student_level_no[i];
00395 <span class="preprocessor">#endif</span>
00396 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
00397 
00398         }
00399     }
00400 
00401     <span class="comment">//  if(rankLevelCount[MAX_STUDENT_LEVEL_N_TOTAL-1]&gt;1e-9)</span>
00402     <span class="comment">//          for(int i=0;i&lt;MAX_STUDENT_LEVEL_N_TOTAL;i++)</span>
00403     <span class="comment">//                          percentDataArray[i]=(rankLevelCount[i]*100)/rankLevelCount[MAX_STUDENT_LEVEL_N_TOTAL-1];</span>
00404 
00405     <span class="keywordtype">int</span> sum=0;
00406     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Ostudent_8h.html#a0">MAX_STUDENT_LEVEL</a>;i++) {
00407 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00408 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( i == <a class="code" href="Ostudent_8h.html#a32a7">DISTANCE_LEARN</a> )                    <span class="comment">// don't count distance learning in ver2</span>
00409             <span class="keywordflow">continue</span>;
00410 <span class="preprocessor">#endif</span>
00411 <span class="preprocessor"></span>        sum+=rankLevelCount[i];
00412     }
00413     rankLevelCount[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1]=sum;
00414 
00415     <span class="comment">// ##### Begin Marco ##### //</span>
00416 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00417 <span class="preprocessor"></span>    <span class="keywordtype">int</span> initialSum=0;
00418     <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1;i++) {
00419         <span class="keywordflow">if</span> ( i == 4 )
00420             <span class="keywordflow">continue</span>;
00421         initialSum+=initialRankLevelCount[i];
00422     }
00423     initialRankLevelCount[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1]=initialSum;
00424 <span class="preprocessor">#endif</span>
00425 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00426     <span class="keywordflow">if</span>(sum!=0) {
00427         <span class="keywordtype">int</span> diff=200;
00428         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00429             percentDataArray[i]=(rankLevelCount[i]*100)/sum;
00430             diff-=percentDataArray[i];
00431         }
00432         <span class="keywordtype">int</span> maxpercent=percentDataArray[0],maxi=0;
00433         <span class="keywordflow">for</span>(i=1;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1;i++) {
00434             <span class="keywordflow">if</span>(percentDataArray[i]&gt;maxpercent) {
00435                 maxpercent=percentDataArray[i];
00436                 maxi=i;
00437             }
00438         }
00439         percentDataArray[maxi]+=diff;
00440     }
00441     <span class="keywordflow">else</span>
00442         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++)
00443             percentDataArray[i]=0;
00444 
00445     <span class="comment">//------ paint the background -------//</span>
00446     vga.use_back();
00447     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
00448         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
00449             <a class="code" href="classPlayerSchool.html#a27">summary_student_report_deinit</a>();
00450 
00451         report_init_flag = 1;
00452 
00453         user_interface.bg_img(<a class="code" href="Ostd__sum_8cpp.html#a111a50">BG_PIC_ID</a>, &amp;vga_back);
00454         user_interface.brighten(
00455             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a70">TAB1</a>,
00456             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+20,
00457             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a71">TAB2</a>,
00458             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>
00459             );
00460         user_interface.brighten(
00461             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a71">TAB2</a>,
00462             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+20,
00463             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,
00464             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>);
00465 
00466         user_interface.rect(
00467             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a71">TAB2</a>-2,
00468             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+20,
00469             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,
00470             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>,1);
00471         <span class="comment">/*</span>
00472 <span class="comment">          user_interface.brighten(</span>
00473 <span class="comment">          REPORT_X1+TAB2+45,</span>
00474 <span class="comment">          REPORT_Y1+VTAB1-15,</span>
00475 <span class="comment">          REPORT_X1+TAB2+325,</span>
00476 <span class="comment">          REPORT_Y1+VTAB1+8);</span>
00477 <span class="comment"></span>
00478 <span class="comment">          user_interface.rect(</span>
00479 <span class="comment">          REPORT_X1+TAB2+45,</span>
00480 <span class="comment">          REPORT_Y1+VTAB1-15,</span>
00481 <span class="comment">          REPORT_X1+TAB2+325,</span>
00482 <span class="comment">          REPORT_Y1+VTAB1+8);</span>
00483 <span class="comment"></span>
00484 <span class="comment">          font_charts.put(</span>
00485 <span class="comment">          REPORT_X1+TAB2+60,</span>
00486 <span class="comment">          REPORT_Y1+VTAB1-15,</span>
00487 <span class="comment">          std_sum_title[0]);</span>
00488 <span class="comment">        */</span>
00489         <span class="comment">// top title</span>
00490         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+10);
00491         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+10,1);
00492         font_charts.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+230,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-8,std_sum_title[0]);
00493 
00494         <span class="comment">//----- initialize the bottom sub-menus buttons -----//</span>
00495 
00496         text_refresh_bitmap1=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00497         text_refresh_bitmap1=vga_back.save_area(
00498             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a73">TAB4</a>,
00499             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>,
00500             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-100,
00501             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>,
00502             text_refresh_bitmap1);
00503 
00504         <span class="keywordtype">short</span> x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
00505         <span class="keywordtype">short</span> y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
00506         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+2,<span class="stringliteral">"Department :"</span>);
00507         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+30,<span class="stringliteral">"  Institution :"</span>);
00508         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
00509             type_button_group[i].create_text(x, y,
00510                                              x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
00511                                              reportTypeStrArray[i]);
00512 <span class="preprocessor">#if(GAME_VERSION&gt;=200)                        //  Turnover</span>
00513 <span class="preprocessor"></span>        type_button_group[i].create_text(x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y,
00514                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
00515                                          reportTypeStrArray[i]);
00516 <span class="preprocessor">#endif</span>
00517 <span class="preprocessor"></span>        x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
00518         y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>+28;
00519 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00520 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 4; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
00521 <span class="preprocessor">#else</span>
00522 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 3; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
00523 <span class="preprocessor">#endif</span>
00524 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,
00525                                                  x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
00526                                                  reportTypeStrArray[i]);
00527 
00528 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00529 <span class="preprocessor"></span>        y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
00530         type_button_group[i].create_text(x, y,
00531                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+10, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>+28,
00532                                          reportTypeStrArray[i]);
00533 <span class="preprocessor">#endif</span>
00534 <span class="preprocessor"></span>
00535         <span class="comment">/*              for (int i = 0; i &lt; 3; i++, x+=BOTTOM_BUTTON_WIDTH+BOTTOM_BUTTON_DISTANCE)</span>
00536 <span class="comment">                        {</span>
00537 <span class="comment">                        user_interface.create_button_bitmap(x, y,</span>
00538 <span class="comment">                        x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
00539 <span class="comment">                        reportTypeStrArray[i], &amp;type_button_up_bitmap[i],</span>
00540 <span class="comment">                        &amp;type_button_down_bitmap[i], &amp;vga_back);</span>
00541 <span class="comment">                        type_button_group[i].create_bitmapW(x, y,</span>
00542 <span class="comment">                        x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
00543 <span class="comment">                        ((i == current_report_type) ? type_button_down_bitmap[i] : type_button_up_bitmap[i])+4);</span>
00544 <span class="comment">                        }</span>
00545 <span class="comment"></span>
00546 <span class="comment">                        x = BOTTOM_BUTTON_X1;</span>
00547 <span class="comment">                        y = BOTTOM_BUTTON_Y1+28;</span>
00548 <span class="comment"></span>
00549 <span class="comment">                        for (i = 3; i &lt; 9; i++, x+=BOTTOM_BUTTON_WIDTH+BOTTOM_BUTTON_DISTANCE)</span>
00550 <span class="comment">                        {</span>
00551 <span class="comment">                        user_interface.create_button_bitmap(x, y,</span>
00552 <span class="comment">                        x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
00553 <span class="comment">                        reportTypeStrArray[i], &amp;type_button_up_bitmap[i],</span>
00554 <span class="comment">                        &amp;type_button_down_bitmap[i], &amp;vga_back);</span>
00555 <span class="comment">                        type_button_group[i].create_bitmapW(x, y,</span>
00556 <span class="comment">                        x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
00557 <span class="comment">                        ((i == current_report_type) ? type_button_down_bitmap[i] : type_button_up_bitmap[i])+4);</span>
00558 <span class="comment">                        }</span>
00559 <span class="comment">        */</span>
00560 
00561 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00562 <span class="preprocessor"></span>        std_sum_rank_piechart.<a class="code" href="classPieChart.html#a0">init</a>(
00563             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a70">TAB1</a>,
00564             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+20,
00565             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a71">TAB2</a>,
00566             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>,
00567             4, rankLevelCount, &amp;xStart,&amp;xEnd,
00568             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 3);
00569 <span class="preprocessor">#else</span>
00570 <span class="preprocessor"></span>        std_sum_rank_piechart.<a class="code" href="classPieChart.html#a0">init</a>(
00571             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a70">TAB1</a>,
00572             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+20,
00573             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a71">TAB2</a>,
00574             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>,
00575             5, rankLevelCount, &amp;xStart,&amp;xEnd,
00576             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 3);
00577 <span class="preprocessor">#endif</span>
00578 <span class="preprocessor"></span>
00579         std_sum_rank_piechart.<a class="code" href="classPieChart.html#a13">refresh</a>();
00580 
00581         <span class="comment">//-------- draw the legend --------------//</span>
00582 
00583         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00584 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00585 <span class="preprocessor"></span>            <span class="keywordflow">if</span> (i == 4)
00586                 <span class="keywordflow">continue</span>;
00587 <span class="preprocessor">#endif</span>
00588 <span class="preprocessor"></span>            font_chartsm.put_paragraph(
00589                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a72">TAB3</a>+60,
00590                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*43+43,
00591                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a73">TAB4</a>+20,
00592                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*43+83,
00593                 std_sum_rank_label[i]);
00594             font_chartsm.right_put(
00595                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a73">TAB4</a>+60,
00596                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*43+43,
00597                 m.format(rankLevelCount[i],4));
00598             <span class="comment">// ##### Begin Marco ##### //</span>
00599 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00600 <span class="preprocessor"></span>            font_chart_purple_sm.right_put(
00601                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a74">TAB5</a>+60,
00602                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*43+43,
00603                 m.format(initialRankLevelCount[i],4));
00604 <span class="preprocessor">#else</span>
00605 <span class="preprocessor"></span>            font_chartsm.right_put(
00606                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a74">TAB5</a>+60,
00607                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*43+43,
00608                 m.format(percentDataArray[i],3));
00609 <span class="preprocessor">#endif</span>
00610 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
00611             <span class="comment">//                  mode_std_sum_graphicon_y[i].init(              //## chea 270999</span>
00612             mode_std_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(
00613                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a75">TAB6</a>,
00614                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*43+30,
00615                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a75">TAB6</a>+80,
00616                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*43+68,
00617                 <span class="comment">//                                      1 ,&amp;data_num ,dataArray[i] , 1, 0, 3);   //## chea 270999</span>
00618                 1 ,&amp;data_numT ,dataArray[i] , 1, 0, 3);
00619 
00620             <span class="comment">//                  mode_std_sum_graphicon_y[i].paint();           //## chea 270999</span>
00621             mode_std_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a8">paint</a>();
00622 
00623             <span class="keywordflow">if</span>(i!=<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1)
00624                 user_interface.bar(
00625                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a72">TAB3</a>+30,
00626                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+43+i*43,
00627                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a72">TAB3</a>+41,
00628                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+55+i*43,
00629                     ((std_sum_rank_piechart.<a class="code" href="classPieChart.html#m17">series_color</a>)[i]));
00630         }
00631     }
00632     <span class="keywordflow">else</span> {
00633         std_sum_rank_piechart.<a class="code" href="classPieChart.html#a13">refresh</a>();
00634         vga_back.rest_area(text_refresh_bitmap1,0,0);
00635         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00636 
00637 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00638 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ( i==4 )
00639                 <span class="keywordflow">continue</span>;
00640 <span class="preprocessor">#endif</span>
00641 <span class="preprocessor"></span>            font_chartsm.right_put(
00642                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a73">TAB4</a>+60,
00643                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*43+43,
00644                 m.format(rankLevelCount[i],4));
00645 
00646             <span class="comment">// ##### Begin Marco ##### //</span>
00647 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00648 <span class="preprocessor"></span>            font_chart_purple_sm.right_put(
00649                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a74">TAB5</a>+60,
00650                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*43+43,
00651                 m.format(initialRankLevelCount[i],4));
00652 <span class="preprocessor">#else</span>
00653 <span class="preprocessor"></span>            font_chartsm.right_put(
00654                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a74">TAB5</a>+60,
00655                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*43+43,
00656                 m.format(percentDataArray[i],3));
00657 <span class="preprocessor">#endif</span>
00658 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
00659         }
00660         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00661             <span class="comment">//                  mode_std_sum_graphicon_y[i].refresh();   //## chea 270999</span>
00662 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00663 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ( i==4 )
00664                 <span class="keywordflow">continue</span>;
00665 <span class="preprocessor">#endif</span>
00666 <span class="preprocessor"></span>            mode_std_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a9">refresh</a>();
00667         }
00668     }
00669 
00670     <span class="comment">//----------------- show objects ----------------//</span>
00671     type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classPlayerSchool.html#m77">current_report_type</a>);
00672 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00673 <span class="preprocessor"></span>    <span class="comment">// draw the buttons into different color</span>
00674     <span class="keywordtype">int</span> x1, x2, y1, y2;
00675 
00676     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> z=3; z&lt;10; z++ ) {
00677         x1 = type_button_group[z].x1+1;
00678         x2 = type_button_group[z].x2+1;
00679         y1 = type_button_group[z].y1+1;
00680         y2 = type_button_group[z].y2-1;
00681 
00682         user_interface.rect(x1,y1,x2,y2,1,70);
00683     }
00684 <span class="preprocessor">#endif</span>
00685 <span class="preprocessor"></span>
00686     <span class="comment">//------ 9Mar Trevor                        //BUGHERE</span>
00687 
00688     <span class="keywordtype">int</span> totalCourse=0, totalStudent=0;
00689 
00690     <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j=department_array.size() ; j&gt;0 ; j-- ) {
00691         <a class="code" href="classDepartment.html">Department</a>* deptPtr = department_array[j];
00692 
00693         <span class="keywordflow">for</span>( i=deptPtr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classDynArray.html#a28">size</a>() ; i&gt;0 ; i-- ) {
00694             <span class="keywordflow">if</span>( deptPtr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#a9">is_deleted</a>(i) )
00695                 <span class="keywordflow">continue</span>;
00696 
00697             totalStudent ++;
00698             totalCourse += deptPtr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>[i]-&gt;total_course_all;
00699         }
00700     }
00701 
00702     <span class="comment">//----------- paint the summary button group ---------//</span>
00703 
00704     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
00705     vga.use_front();
00706 }
00707 
00708 <span class="comment">//----- End of Summary Report 1 ------//</span>
00710 <span class="comment"></span>
00712 <span class="comment">//----- Begin of Summary Report 2 ------//</span>
00713 
<a name="l00714"></a><a class="code" href="classPlayerSchool.html#a20">00714</a> <span class="keywordtype">void</span> <a class="code" href="classPlayerSchool.html#a20">PlayerSchool::summary_student_report_2</a>(<span class="keywordtype">int</span> refreshFlag) {
00715     <span class="keyword">static</span> <span class="keywordtype">int</span> percentDataArray2[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00716     <span class="keyword">static</span> <span class="keywordtype">int</span> xStart = 1991, xEnd = 1998;          <span class="comment">//*** temporary ***//</span>
00717 
00718     <span class="keywordtype">int</span> deptRecno;
00719     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num=HISTORY_YEAR_COUNT;
00720     <span class="keyword">static</span> <span class="keywordtype">int</span> data_numT=HISTORY_TRIMESTER_COUNT;   <span class="comment">//## chea 290999 update this report</span>
00721     <span class="keyword">static</span> <span class="keywordtype">int</span> *dataArray[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00722     <span class="keywordtype">int</span> genderEthnicGroupCount[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00723     memset( genderEthnicGroupCount,0, <span class="keyword">sizeof</span>(genderEthnicGroupCount) );
00724 
00725     <span class="comment">// ##### Begin Marco ##### //</span>
00726 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00727 <span class="preprocessor"></span>    <span class="comment">//  static int *initialDataArray[GENDER_ETHNIC_TYPE_COUNT_N_TOTAL];</span>
00728     <span class="comment">//NEW</span>
00729     <span class="keywordtype">int</span> initialDataArray[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00730     <span class="keywordtype">int</span> initialGenderEthnicGroupCount[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00731     memset( initialGenderEthnicGroupCount,0, <span class="keyword">sizeof</span>(initialGenderEthnicGroupCount) );
00732 <span class="preprocessor">#endif</span>
00733 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00734 
00735     <span class="comment">//---- determine the department for display the faculty records ----//</span>
00736     <span class="keywordflow">if</span>(<a class="code" href="classPlayerSchool.html#m78">current_report_mode</a>==<a class="code" href="Ostd__sum_8cpp.html#a115a63">REPORT_MODE_DEPARTMENT</a>) {
00737         <span class="keywordflow">if</span>( department_array.selected_recno )
00738             deptRecno = department_array.selected_recno;
00739         cur_dept_ptr = department_array[deptRecno];
00740 
00741         <span class="comment">//-- department wide --//</span>
00742         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++) {
00743             <span class="comment">//## chea 290999 update this report</span>
00744             <span class="comment">//                  dataArray[i]=cur_dept_ptr-&gt;student_gender_history[i];</span>
00745             dataArray[i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m50">dept_gender_student_level_history</a>[i];
00746             genderEthnicGroupCount[i]=dataArray[i][data_numT-1];
00747 
00748             <span class="comment">// ##### begin Marco ###### //</span>
00749 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00750 <span class="preprocessor"></span>            initialDataArray[i]=cur_dept_ptr-&gt;initial_dept_gender_student_level_history[i];
00751             <span class="comment">//                  initialGenderEthnicGroupCount[i]=initialDataArray[i][data_numT-1];</span>
00752             <span class="comment">//new</span>
00753             initialGenderEthnicGroupCount[i]=initialDataArray[i];
00754 <span class="preprocessor">#endif</span>
00755 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ###### //</span>
00756         }
00757     }
00758     <span class="keywordflow">else</span> {
00759         <span class="comment">//-- Institution wide --//</span>
00760         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++) {
00761             <span class="comment">//## chea 290999 update this report</span>
00762             <span class="comment">//                  dataArray[i]=department_array.student_gender_history[i];</span>
00763             dataArray[i]=player_school.ins_gender_student_level_history[i];
00764             genderEthnicGroupCount[i]=dataArray[i][data_numT-1];
00765 
00766             <span class="comment">// ##### Begin Marco ##### //</span>
00767 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00768 <span class="preprocessor"></span>            initialDataArray[i]=player_school.initial_ins_gender_student_level_history[i];
00769             <span class="comment">//                  initialGenderEthnicGroupCount[i]=initialDataArray[i][data_numT-1];</span>
00770             <span class="comment">//marco new</span>
00771             initialGenderEthnicGroupCount[i]=initialDataArray[i];
00772 <span class="preprocessor">#endif</span>
00773 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
00774         }
00775     }
00776 
00777     <span class="keywordtype">int</span> sum=0;
00778     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1;i++)
00779         sum+=genderEthnicGroupCount[i];
00780     genderEthnicGroupCount[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1]=sum;
00781     <span class="comment">// ##### Begin Marco ##### //</span>
00782 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00783 <span class="preprocessor"></span>    <span class="keywordtype">int</span> initialSum=0;
00784     <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1;i++)
00785         initialSum+=initialGenderEthnicGroupCount[i];
00786     initialGenderEthnicGroupCount[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1]=initialSum;
00787 <span class="preprocessor">#endif</span>
00788 <span class="preprocessor"></span>    <span class="comment">// ##### End MArco ##### //</span>
00789 
00790     <span class="keywordflow">if</span>(sum!=0) {
00791         <span class="keywordtype">int</span> diff=200;
00792         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++) {
00793             percentDataArray2[i]=(genderEthnicGroupCount[i]*100)/sum;
00794             diff-=percentDataArray2[i];
00795         }
00796         <span class="keywordtype">int</span> maxpercent=percentDataArray2[0],maxi=0;
00797         <span class="keywordflow">for</span>(i=1;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1;i++) {
00798             <span class="keywordflow">if</span>(percentDataArray2[i]&gt;maxpercent) {
00799                 maxpercent=percentDataArray2[i];
00800                 maxi=i;
00801             }
00802         }
00803         percentDataArray2[maxi]+=diff;
00804     }
00805     <span class="keywordflow">else</span>
00806         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++)
00807             percentDataArray2[i]=0;
00808 
00809     <span class="comment">//------ paint the background -------//</span>
00810     vga.use_back();
00811     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
00812         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
00813             <a class="code" href="classPlayerSchool.html#a27">summary_student_report_deinit</a>();
00814 
00815         report_init_flag = 1;
00816 
00817         user_interface.bg_img(<a class="code" href="Ostd__sum_8cpp.html#a111a50">BG_PIC_ID</a>, &amp;vga_back);
00818         user_interface.brighten(
00819             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a70">TAB1</a>,
00820             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+20,
00821             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a71">TAB2</a>,
00822             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>
00823             );
00824 
00825         user_interface.brighten(
00826             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a71">TAB2</a>,
00827             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+20,
00828             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,
00829             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>);
00830         user_interface.rect(
00831             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a71">TAB2</a>-2,
00832             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+20,
00833             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,
00834             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>,1);
00835 
00836         <span class="comment">// top title</span>
00837         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+10);
00838         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+10,1);
00839         font_charts.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+180,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-8,std_sum_title[1]);
00840 
00841         <span class="comment">//----- initialize the bottom sub-menus buttons -----//</span>
00842 
00843         text_refresh_bitmap1=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00844         text_refresh_bitmap1=vga_back.save_area(
00845             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a73">TAB4</a>,
00846             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>,
00847             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-100,
00848             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>,
00849             text_refresh_bitmap1);
00850 
00851         <span class="keywordtype">short</span> x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
00852         <span class="keywordtype">short</span> y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
00853         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+2,<span class="stringliteral">"Department :"</span>);
00854         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+30,<span class="stringliteral">"  Institution :"</span>);
00855         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
00856             type_button_group[i].create_text(x, y,
00857                                              x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
00858                                              reportTypeStrArray[i]);
00859 <span class="preprocessor">#if(GAME_VERSION&gt;=200)                        //  Turnover</span>
00860 <span class="preprocessor"></span>        type_button_group[i].create_text(x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y,
00861                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
00862                                          reportTypeStrArray[i]);
00863 <span class="preprocessor">#endif</span>
00864 <span class="preprocessor"></span>        x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
00865         y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>+28;
00866 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00867 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 4; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
00868 <span class="preprocessor">#else</span>
00869 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 3; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
00870 <span class="preprocessor">#endif</span>
00871 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,
00872                                                  x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
00873                                                  reportTypeStrArray[i]);
00874 
00875 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00876 <span class="preprocessor"></span>        y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
00877         type_button_group[i].create_text(x, y,
00878                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+10, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>+28,
00879                                          reportTypeStrArray[i]);
00880 <span class="preprocessor">#endif</span>
00881 <span class="preprocessor"></span>
00882         std_sum_gender_ethnic_piechart.<a class="code" href="classPieChart.html#a0">init</a>(
00883             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a70">TAB1</a>,
00884             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+20,
00885             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a71">TAB2</a>,
00886             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a79">VTAB4</a>,
00887             4, genderEthnicGroupCount, &amp;xStart,&amp;xEnd,
00888             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 3);
00889 
00890         std_sum_gender_ethnic_piechart.<a class="code" href="classPieChart.html#a13">refresh</a>();
00891 
00892         <span class="comment">//-------- draw the legend --------------//</span>
00893 
00894         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++) {
00895             font_chartsm.put(
00896                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a72">TAB3</a>+60,
00897                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*47+43,
00898                 std_sum_ge_label[i]);
00899             font_chartsm.right_put(
00900                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a73">TAB4</a>+60,
00901                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*47+43,
00902                 m.format(genderEthnicGroupCount[i],4));
00903             <span class="comment">// ##### Begin Marco ##### //</span>
00904 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00905 <span class="preprocessor"></span>            font_chart_purple_sm.right_put(
00906                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a74">TAB5</a>+60,
00907                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*47+43,
00908                 m.format(initialGenderEthnicGroupCount[i],4));
00909 <span class="preprocessor">#else</span>
00910 <span class="preprocessor"></span>            font_chartsm.right_put(
00911                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a74">TAB5</a>+60,
00912                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*47+43,
00913                 m.format(percentDataArray2[i],3));
00914 <span class="preprocessor">#endif</span>
00915 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
00916             <span class="comment">//                  mode_std_sum_graphicon_y[i].init(            //## chea 290999 update this report</span>
00917             mode_std_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(           <span class="comment">//## chea 290999 update this report</span>
00918                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a75">TAB6</a>,
00919                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*47+30,
00920                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a75">TAB6</a>+80,
00921                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*47+72,
00922                 <span class="comment">//                              1 ,&amp;data_num ,dataArray[i] , 1, 0, 3);    //## chea 290999 update this report</span>
00923                 1 ,&amp;data_numT ,dataArray[i] , 1, 0, 3);
00924 
00925             <span class="comment">//                  mode_std_sum_graphicon_y[i].paint();         //## chea 290999 update this report</span>
00926             mode_std_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a8">paint</a>();
00927 
00928             <span class="keywordflow">if</span>(i!=<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1)
00929                 user_interface.bar(
00930                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a72">TAB3</a>+30,
00931                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+43+i*47,
00932                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a72">TAB3</a>+41,
00933                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+55+i*47,
00934                     ((std_sum_gender_ethnic_piechart.<a class="code" href="classPieChart.html#m17">series_color</a>)[i]));
00935         }
00936     }
00937     <span class="keywordflow">else</span> {
00938         std_sum_gender_ethnic_piechart.<a class="code" href="classPieChart.html#a13">refresh</a>();
00939         vga_back.rest_area(text_refresh_bitmap1,0,0);
00940         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++) {
00941             font_chartsm.right_put(
00942                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a73">TAB4</a>+60,
00943                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*47+43,
00944                 m.format(genderEthnicGroupCount[i],4));
00945             <span class="comment">// ##### Begin Marco ##### //</span>
00946 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00947 <span class="preprocessor"></span>            font_chart_purple_sm.right_put(
00948                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a74">TAB5</a>+60,
00949                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*47+43,
00950                 m.format(initialGenderEthnicGroupCount[i],4));
00951 <span class="preprocessor">#else</span>
00952 <span class="preprocessor"></span>            font_chartsm.right_put(
00953                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a74">TAB5</a>+60,
00954                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+i*47+43,
00955                 m.format(percentDataArray2[i],3));
00956 <span class="preprocessor">#endif</span>
00957 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
00958             <span class="comment">//                  mode_std_sum_graphicon_y[i].refresh();</span>
00959             mode_std_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a9">refresh</a>();      <span class="comment">//## chea 290999</span>
00960         }
00961     }
00962 
00963     <span class="comment">//----------------- show objects ----------------//</span>
00964     type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classPlayerSchool.html#m77">current_report_type</a>);
00965 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00966 <span class="preprocessor"></span>    <span class="comment">// draw the buttons into different color</span>
00967     <span class="keywordtype">int</span> x1, x2, y1, y2;
00968 
00969     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> z=3; z&lt;10; z++ ) {
00970         x1 = type_button_group[z].x1+1;
00971         x2 = type_button_group[z].x2+1;
00972         y1 = type_button_group[z].y1+1;
00973         y2 = type_button_group[z].y2-1;
00974 
00975         user_interface.rect(x1,y1,x2,y2,1,70);
00976     }
00977 <span class="preprocessor">#endif</span>
00978 <span class="preprocessor"></span>    <span class="comment">//----------- paint the summary button group ---------//</span>
00979     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
00980     vga.use_front();
00981 }
00982 
00983 <span class="comment">//----- End of Summary Report 2 ------//</span>
00985 <span class="comment"></span>
00987 <span class="comment">//----- Begin of Summary Report 3 ------//</span>
<a name="l00988"></a><a class="code" href="classPlayerSchool.html#a21">00988</a> <span class="keywordtype">void</span> <a class="code" href="classPlayerSchool.html#a21">PlayerSchool::summary_student_report_3</a>(<span class="keywordtype">int</span> refreshFlag) {
00989     <span class="keywordtype">int</span> tab1=10;
00990     <span class="keywordtype">int</span> tab2=230;
00991     <span class="keywordtype">int</span> tab3=300;
00992     <span class="keywordtype">int</span> tab4=380;
00993     <span class="keywordtype">int</span> tab5=450;
00994     <span class="keywordtype">int</span> tab6=530;
00995     <span class="keywordtype">int</span> tab7=610;
00996     <span class="keywordtype">int</span> vtab1=15;
00997     <span class="keywordtype">int</span> vtab2=160;
00998     <span class="keywordtype">int</span> vtab3=193;
00999     <span class="keywordtype">int</span> vtab4=338;
01000     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num1=HISTORY_MONTH_COUNT;
01001     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num2=HISTORY_YEAR_COUNT;
01002 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01003 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">int</span> numSeriesData2 = HISTORY_TRIMESTER_COUNT;
01004 <span class="preprocessor">#endif</span>
01005 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">int</span> v1[3];
01006     <span class="keyword">static</span> <span class="keywordtype">int</span> v2[3];
01007     <span class="keyword">static</span> <span class="keywordtype">int</span> v3[3];
01008     <span class="keyword">static</span> <span class="keywordtype">float</span> v4[3];
01009     <span class="keyword">static</span> <span class="keywordtype">float</span> v5[3];
01010 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01011 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">float</span> v6;
01012 <span class="preprocessor">#endif</span>
01013 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray1[8][HISTORY_MONTH_COUNT];
01014     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray2[3][HISTORY_YEAR_COUNT];
01015     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray3[8][HISTORY_MONTH_COUNT];
01016     <span class="keyword">static</span> <span class="keywordtype">float</span> dataArray4[<a class="code" href="Ostudent_8h.html#a33a8">DEGREE_TYPE_COUNT</a>][HISTORY_YEAR_COUNT];
01017     <span class="keyword">static</span> <span class="keywordtype">float</span> dataArray5[<a class="code" href="Ostudent_8h.html#a33a8">DEGREE_TYPE_COUNT</a>][HISTORY_YEAR_COUNT];
01018 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01019 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">float</span> *dataArray6;
01020 <span class="preprocessor">#endif</span>
01021 <span class="preprocessor"></span>
01022     <span class="comment">// ##### Begin MArco ##### //</span>
01023 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01024 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">int</span> initialv1[3];
01025     <span class="keyword">static</span> <span class="keywordtype">int</span> initialv2[3];
01026     <span class="keyword">static</span> <span class="keywordtype">int</span> initialv3[3];
01027     <span class="keyword">static</span> <span class="keywordtype">float</span> initialv4[3];
01028     <span class="keyword">static</span> <span class="keywordtype">float</span> initialv5[3];
01029 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01030 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">float</span> initialv6;
01031 <span class="preprocessor">#endif</span>
01032 <span class="preprocessor"></span>    <span class="keywordtype">int</span> initialDataArray1[8][HISTORY_MONTH_COUNT];
01033     <span class="keywordtype">int</span> initialDataArray2[3][HISTORY_YEAR_COUNT];
01034     <span class="comment">// int initialDataArray3[8][HISTORY_MONTH_COUNT];</span>
01035     <span class="keywordtype">float</span> initialDataArray4[<a class="code" href="Ostudent_8h.html#a33a8">DEGREE_TYPE_COUNT</a>][HISTORY_YEAR_COUNT];
01036     <span class="keywordtype">float</span> initialDataArray5[<a class="code" href="Ostudent_8h.html#a33a8">DEGREE_TYPE_COUNT</a>][HISTORY_YEAR_COUNT];
01037 
01038     memset(initialDataArray1,0,<span class="keyword">sizeof</span>(initialDataArray1));
01039     memset(initialDataArray2,0,<span class="keyword">sizeof</span>(initialDataArray2));
01040 <span class="preprocessor">#endif</span>
01041 <span class="preprocessor"></span>    <span class="comment">// ##### End MArco ##### //</span>
01042     <span class="keywordtype">int</span> deptRecno=1;
01043 
01044     memset(dataArray1,0,<span class="keyword">sizeof</span>(dataArray1));
01045     memset(dataArray2,0,<span class="keyword">sizeof</span>(dataArray2));
01046 
01047     <span class="comment">//---- determine the department for display the faculty records ----//</span>
01048     <span class="keywordflow">if</span>(<a class="code" href="classPlayerSchool.html#m78">current_report_mode</a>==<a class="code" href="Ostd__sum_8cpp.html#a115a63">REPORT_MODE_DEPARTMENT</a>) {
01049         <span class="keywordflow">if</span>( department_array.selected_recno )
01050             deptRecno = department_array.selected_recno;
01051 
01052         cur_dept_ptr = department_array[deptRecno];
01053 
01054 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01055 <span class="preprocessor"></span>        dataArray6=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m54">p_student_morale_history</a>;
01056 <span class="preprocessor">#endif</span>
01057 <span class="preprocessor"></span>
01058         <span class="comment">//-- department wide --//</span>
01059         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;HISTORY_MONTH_COUNT;j++) {
01060             dataArray1[0][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m2">talent_academic_all</a>[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01061             dataArray1[1][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m2">talent_academic_all</a>[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01062             dataArray1[2][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m2">talent_academic_all</a>[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01063             dataArray1[3][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m3">performance_academic_ug</a>[j];
01064 
01065             <span class="comment">// ##### Begin Marco ##### //</span>
01066 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01067 <span class="preprocessor"></span>            initialDataArray1[0][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_talent_academic_all[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01068             initialDataArray1[1][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_talent_academic_all[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01069             initialDataArray1[2][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_talent_academic_all[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01070             initialDataArray1[3][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_performance_academic_ug[j];
01071 <span class="preprocessor">#endif</span>
01072 <span class="preprocessor"></span>            <span class="comment">// ##### End MArco ##### //</span>
01073         }
01074 
01075         <span class="keywordflow">for</span>(j=0;j&lt;HISTORY_YEAR_COUNT;j++) {
01076 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01077 <span class="preprocessor"></span>            dataArray2[0][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m14">bachelor_degree</a>[j]+
01078                 cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.non_ug_bachelor_degree[j];
01079 <span class="preprocessor">#else</span>
01080 <span class="preprocessor"></span>            dataArray2[0][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m14">bachelor_degree</a>[j];
01081 <span class="preprocessor">#endif</span>
01082 <span class="preprocessor"></span>            dataArray2[1][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m15">master_degree</a>[j];
01083             dataArray2[2][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m16">doctor_degree</a>[j];
01084             dataArray4[0][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m13">fake_disp_time_to_degree</a>[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01085             dataArray4[1][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m11">time_to_degree</a>[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01086             dataArray4[2][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m11">time_to_degree</a>[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01087             dataArray5[0][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m12">dropout_rate</a>[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01088             dataArray5[1][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m12">dropout_rate</a>[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01089             dataArray5[2][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.<a class="code" href="classStudentArray.html#m12">dropout_rate</a>[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01090 
01091             <span class="comment">// #### Begin Marco ##### //</span>
01092 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01093 <span class="preprocessor"></span>            initialDataArray2[0][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_bachelor_degree[j];
01094             initialDataArray2[1][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_master_degree[j];
01095             initialDataArray2[2][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_doctor_degree[j];
01096             initialDataArray4[0][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_fake_disp_time_to_degree[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01097             initialDataArray4[1][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_time_to_degree[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01098             initialDataArray4[2][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_time_to_degree[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01099             initialDataArray5[0][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_dropout_rate[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01100             initialDataArray5[1][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_dropout_rate[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01101             initialDataArray5[2][j]=cur_dept_ptr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.initial_dropout_rate[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01102 <span class="preprocessor">#endif</span>
01103 <span class="preprocessor"></span>            <span class="comment">// ##### End MArco ##### //</span>
01104         }
01105         <span class="keywordflow">for</span>(j=0;j&lt;3;j++) {
01106             v1[j]=dataArray1[j][HISTORY_MONTH_COUNT-1];
01107             v3[j]=dataArray2[j][HISTORY_YEAR_COUNT-1];
01108             v4[j]=dataArray4[j][HISTORY_YEAR_COUNT-1];
01109             v5[j]=dataArray5[j][HISTORY_YEAR_COUNT-1];
01110 
01111             <span class="comment">// #### Begin MArco #### //</span>
01112 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01113 <span class="preprocessor"></span>            initialv1[j]=initialDataArray1[j][HISTORY_MONTH_COUNT-1];
01114             initialv3[j]=initialDataArray2[j][HISTORY_YEAR_COUNT-1];
01115             initialv4[j]=initialDataArray4[j][HISTORY_YEAR_COUNT-1];
01116             initialv5[j]=initialDataArray5[j][HISTORY_YEAR_COUNT-1];
01117 <span class="preprocessor">#endif</span>
01118 <span class="preprocessor"></span>            <span class="comment">// ##### End MArco #### //</span>
01119         }
01120         v2[0]=dataArray1[3][HISTORY_MONTH_COUNT-1];
01121 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01122 <span class="preprocessor"></span>        v6 = dataArray6[HISTORY_TRIMESTER_COUNT-1];
01123         initialv6 = cur_dept_ptr-&gt;initial_p_student_morale;
01124 <span class="preprocessor">#endif</span>
01125 <span class="preprocessor"></span>
01126         <span class="comment">// ##### Begin MArco #####//</span>
01127 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01128 <span class="preprocessor"></span>        initialv2[0]=initialDataArray1[3][HISTORY_MONTH_COUNT-1];
01129 <span class="preprocessor">#endif</span>
01130 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01131     }
01132     <span class="keywordflow">else</span> {
01133         <span class="comment">//-- Institution wide --//</span>
01134 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01135 <span class="preprocessor"></span>        dataArray6=department_array.<a class="code" href="classDepartment.html#m54">p_student_morale_history</a>;
01136 <span class="preprocessor">#endif</span>
01137 <span class="preprocessor"></span>
01138         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;HISTORY_MONTH_COUNT;j++) {
01139             dataArray1[0][j]=player_school.talent_academic_all[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01140             dataArray1[1][j]=player_school.talent_academic_all[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01141             dataArray1[2][j]=player_school.talent_academic_all[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01142             dataArray1[3][j]=player_school.performance_academic_ug[j];
01143 
01144             <span class="comment">// ##### Begin Marco ##### //</span>
01145 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01146 <span class="preprocessor"></span>            initialDataArray1[0][j]=player_school.initial_talent_academic_all[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01147             initialDataArray1[1][j]=player_school.initial_talent_academic_all[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01148             initialDataArray1[2][j]=player_school.initial_talent_academic_all[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01149             initialDataArray1[3][j]=player_school.initial_performance_academic_ug[j];
01150 <span class="preprocessor">#endif</span>
01151 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
01152         }
01153 
01154         <span class="keywordflow">for</span>(j=0;j&lt;HISTORY_YEAR_COUNT;j++) {
01155 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01156 <span class="preprocessor"></span>            dataArray2[0][j]=player_school.bachelor_degree[j]+
01157                 player_school.non_ug_bachelor_degree[j];
01158 <span class="preprocessor">#else</span>
01159 <span class="preprocessor"></span>            dataArray2[0][j]=player_school.bachelor_degree[j];
01160 <span class="preprocessor">#endif</span>
01161 <span class="preprocessor"></span>            dataArray2[1][j]=player_school.master_degree[j];
01162             dataArray2[2][j]=player_school.doctor_degree[j];
01163             dataArray4[0][j]=player_school.fake_disp_time_to_degree[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01164             dataArray4[1][j]=player_school.time_to_degree[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01165             dataArray4[2][j]=player_school.time_to_degree[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01166             dataArray5[0][j]=player_school.dropout_rate[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01167             dataArray5[1][j]=player_school.dropout_rate[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01168             dataArray5[2][j]=player_school.dropout_rate[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01169 
01170             <span class="comment">// ##### begin MArco ##### //</span>
01171 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01172 <span class="preprocessor"></span>            initialDataArray2[0][j]=player_school.initial_bachelor_degree[j];
01173             initialDataArray2[1][j]=player_school.initial_master_degree[j];
01174             initialDataArray2[2][j]=player_school.initial_doctor_degree[j];
01175             <span class="comment">//                  initialDataArray4[0][j]=player_school.initial_fake_disp_time_to_degree[BACHELOR_DEGREE][j];</span>
01176             <span class="comment">//NEW</span>
01177             initialDataArray4[0][j]=player_school.initial_fake_disp_time_to_degree[j];
01178             initialDataArray4[1][j]=player_school.initial_time_to_degree[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01179             initialDataArray4[2][j]=player_school.initial_time_to_degree[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01180             initialDataArray5[0][j]=player_school.initial_dropout_rate[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][j];
01181             initialDataArray5[1][j]=player_school.initial_dropout_rate[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][j];
01182             initialDataArray5[2][j]=player_school.initial_dropout_rate[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][j];
01183 <span class="preprocessor">#endif</span>
01184 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
01185         }
01186 
01187         <span class="keywordflow">for</span>(j=0;j&lt;3;j++) {
01188             v1[j]=dataArray1[j][HISTORY_MONTH_COUNT-1];
01189             v3[j]=dataArray2[j][HISTORY_YEAR_COUNT-1];
01190             v4[j]=dataArray4[j][HISTORY_YEAR_COUNT-1];
01191             v5[j]=dataArray5[j][HISTORY_YEAR_COUNT-1];
01192 
01193             <span class="comment">// ##### begin Marco ##### //</span>
01194 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01195 <span class="preprocessor"></span>            initialv1[j]=initialDataArray1[j][HISTORY_MONTH_COUNT-1];
01196             initialv3[j]=initialDataArray2[j][HISTORY_YEAR_COUNT-1];
01197             initialv4[j]=initialDataArray4[j][HISTORY_YEAR_COUNT-1];
01198             initialv5[j]=initialDataArray5[j][HISTORY_YEAR_COUNT-1];
01199 <span class="preprocessor">#endif</span>
01200 <span class="preprocessor"></span>            <span class="comment">// ##### /End Marco ##### //</span>
01201         }
01202         v2[0]=dataArray1[3][HISTORY_MONTH_COUNT-1];
01203 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01204 <span class="preprocessor"></span>        v6 = dataArray6[HISTORY_TRIMESTER_COUNT-1];
01205         initialv6 = player_school.sub_score_start[<a class="code" href="Opschool_8h.html#a65a46">S_STUDENT_MORALE</a>];
01206         <span class="comment">// marco</span>
01207         initialv2[0]=initialDataArray1[3][HISTORY_MONTH_COUNT-1];
01208 <span class="preprocessor">#endif</span>
01209 <span class="preprocessor"></span>    }
01210 
01211     <span class="comment">//------ paint the background -------//</span>
01212     vga.use_back();
01213     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
01214 
01215         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
01216             <a class="code" href="classPlayerSchool.html#a27">summary_student_report_deinit</a>();
01217         report_init_flag =1;
01218 
01219         <span class="comment">// paint the background image</span>
01220         user_interface.bg_img(<a class="code" href="Ostd__sum_8cpp.html#a111a50">BG_PIC_ID</a>, &amp;vga_back);
01221 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01222 <span class="preprocessor"></span>        <span class="comment">// the big lower rectangle of table 1</span>
01223         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+4,
01224                                 <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2);
01225         <span class="comment">// the small upper rectangle of table 1</span>
01226         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1-13,
01227                                 <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+4);
01228 
01229         <span class="comment">// the big lower rectangle of table 2</span>
01230         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+4,
01231                                 <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4);
01232         <span class="comment">// the small upper rectangle of table 2</span>
01233         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-30,
01234                                 <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+4);
01235 
01236         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1-15,
01237                               <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+3,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2,1);
01238         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1-15,
01239                               <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+3,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2,1);
01240         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1-15,
01241                               <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2,1);
01242         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+4,
01243                               <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2,1);
01244 
01245         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-30,
01246                               <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+3,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4,1);
01247         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-30,
01248                               <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+3,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4,1);
01249         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-30,
01250                               <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4,1);
01251         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+4,
01252                               <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4,1);
01253 <span class="preprocessor">#else</span>
01254 <span class="preprocessor"></span>        user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+4,
01255                                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2);
01256         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1-13,
01257                                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+4);
01258 
01259         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+4,
01260                                 <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4);
01261         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-30,
01262                                 <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+4);
01263 
01264         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1-15,
01265                               <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+3,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2,1);
01266         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1-15,
01267                               <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+3,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2,1);
01268         <span class="comment">//              user_interface.rect(    REPORT_X1+tab6,REPORT_Y1+vtab1-30,</span>
01269         <span class="comment">//                                                                      REPORT_X2-tab1,REPORT_Y1+vtab2);</span>
01270         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+4,
01271                               <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+3,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2,1);
01272 
01273         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-30,
01274                               <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+3,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4,1);
01275         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-30,
01276                               <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+3,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4,1);
01277         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-30,
01278                               <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4,1);
01279         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+4,
01280                               <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4,1);
01281 <span class="preprocessor">#endif</span>
01282 <span class="preprocessor"></span>
01283         font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1-11,
01284                                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+4,
01285                                 std_sum_title3[0]);
01286         font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+8,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1-11,
01287                                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+4,
01288                                 std_sum_title3[1]);
01289         font_chartsm.put_paragraph( <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+10,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-26,
01290                                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4+5,
01291                                     std_sum_title3[2],-2);
01292 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01293 <span class="preprocessor"></span><span class="preprocessor">#else</span>
01294 <span class="preprocessor"></span>        font_chartsm.put_paragraph( <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+10,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-19,
01295                                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4+4,
01296                                     std_sum_title3[3],1);
01297 <span class="preprocessor">#endif</span>
01298 <span class="preprocessor"></span>
01299         font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-19,
01300                                 <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3,
01301                                 std_sum_title3[4]);
01302 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01303 <span class="preprocessor"></span>        font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1-11,
01304                                 <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+4,
01305                                 std_sum_title3[5]);
01306 <span class="preprocessor">#endif</span>
01307 <span class="preprocessor"></span>
01308         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+20,std_sum_label2[0]);
01309         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+70,std_sum_label2[1]);
01310         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+120,std_sum_label2[2]);
01311         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+20,std_sum_label2[0]);
01312         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+70,std_sum_label2[1]);
01313         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+120,std_sum_label2[2]);
01314 
01315         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2-4,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+10);
01316         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2-4,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+10,1);
01317         font_charts.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-8,<span class="stringliteral">"Student Activities"</span>);
01318 
01319         <span class="keywordtype">short</span> x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
01320         <span class="keywordtype">short</span> y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
01321         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+2,<span class="stringliteral">"Department :"</span>);
01322         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+30,<span class="stringliteral">"  Institution :"</span>);
01323         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
01324             type_button_group[i].create_text(x, y,
01325                                              x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
01326                                              reportTypeStrArray[i]);
01327 <span class="preprocessor">#if(GAME_VERSION&gt;=200)                        //  Turnover</span>
01328 <span class="preprocessor"></span>        type_button_group[i].create_text(x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y,
01329                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
01330                                          reportTypeStrArray[i]);
01331 <span class="preprocessor">#endif</span>
01332 <span class="preprocessor"></span>        x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
01333         y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>+28;
01334 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01335 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 4; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
01336 <span class="preprocessor">#else</span>
01337 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 3; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
01338 <span class="preprocessor">#endif</span>
01339 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,
01340                                                  x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
01341                                                  reportTypeStrArray[i]);
01342 
01343 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01344 <span class="preprocessor"></span>        y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
01345         type_button_group[i].create_text(x, y,
01346                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+10, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>+28,
01347                                          reportTypeStrArray[i]);
01348 <span class="preprocessor">#endif</span>
01349 <span class="preprocessor"></span>
01350         mode_std_sum_graphicon_m[0].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+9,
01351                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+49,
01352                                          1 ,&amp;data_num1 ,dataArray1[0] , 1, 0, 3);
01353         mode_std_sum_graphicon_m[1].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+54,
01354                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+94,
01355                                          1 ,&amp;data_num1 ,dataArray1[1] , 1, 0, 3);
01356         mode_std_sum_graphicon_m[2].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+100,
01357                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+140,
01358                                          1 ,&amp;data_num1 ,dataArray1[2] , 1, 0, 3);
01359 
01360         mode_std_sum_graphicon_m[3].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab5-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+9,
01361                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab5+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+49,
01362                                          1 ,&amp;data_num1 ,dataArray1[3] , 1, 0, 3);
01363 
01364         mode_std_sum_graphicon_y[0].<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+9,
01365                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+49,
01366                                          1 ,&amp;data_num2 ,dataArray2[0] , 1, 0, 3);
01367         mode_std_sum_graphicon_y[1].<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+54,
01368                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+94,
01369                                          1 ,&amp;data_num2 ,dataArray2[1] , 1, 0, 3);
01370         mode_std_sum_graphicon_y[2].<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+100,
01371                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+140,
01372                                          1 ,&amp;data_num2 ,dataArray2[2] , 1, 0, 3);
01373 
01374 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01375 <span class="preprocessor"></span><span class="preprocessor">#else</span>
01376 <span class="preprocessor"></span>        mode_std_sum_graphicon_y[3].<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab5-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+9,
01377                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab5+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+49,
01378                                          1 ,&amp;data_num2 ,dataArray4[0] , 1, 0, 3);
01379 <span class="preprocessor">#endif</span>
01380 <span class="preprocessor"></span>        <span class="comment">/*</span>
01381 <span class="comment">          mode_std_sum_graphicon_y[4].init(REPORT_X1+tab5-5,REPORT_Y1+vtab3+54,</span>
01382 <span class="comment">          REPORT_X1+tab5+75,REPORT_Y1+vtab3+94,</span>
01383 <span class="comment">          1 ,&amp;data_num2 ,dataArray4[1] , 1, 0, 3);</span>
01384 <span class="comment">          mode_std_sum_graphicon_y[5].init(REPORT_X1+tab5-5,REPORT_Y1+vtab3+100,</span>
01385 <span class="comment">          REPORT_X1+tab5+75,REPORT_Y1+vtab3+140,</span>
01386 <span class="comment">          1 ,&amp;data_num2 ,dataArray4[2] , 1, 0, 3);</span>
01387 <span class="comment">        */</span>
01388         mode_std_sum_graphicon_y[6].<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-95,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+9,
01389                                          <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-15,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+49,
01390                                          1 ,&amp;data_num2 ,dataArray5[0] , 1, 0, 3);
01391 
01392 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01393 <span class="preprocessor"></span>        mode_std_sum_student_morale.<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(
01394             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-95,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+9,
01395             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-15,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+49,
01396             1, &amp;numSeriesData2, dataArray6, 1,
01397             0, 3);
01398 <span class="preprocessor">#endif</span>
01399 <span class="preprocessor"></span>
01400         <span class="comment">/*</span>
01401 <span class="comment">          mode_std_sum_graphicon_y[7].init(REPORT_X2-95,REPORT_Y1+vtab3+54,</span>
01402 <span class="comment">          REPORT_X2-15,REPORT_Y1+vtab3+94,</span>
01403 <span class="comment">          1 ,&amp;data_num2 ,dataArray5[1] , 1, 0, 3);</span>
01404 <span class="comment">          mode_std_sum_graphicon_y[8].init(REPORT_X2-95,REPORT_Y1+vtab3+100,</span>
01405 <span class="comment">          REPORT_X2-15,REPORT_Y1+vtab3+140,</span>
01406 <span class="comment">          1 ,&amp;data_num2 ,dataArray5[2] , 1, 0, 3);</span>
01407 <span class="comment">        */</span>
01408         <span class="comment">//----------------- show objects ----------------//</span>
01409         type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classPlayerSchool.html#m77">current_report_type</a>);
01410 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01411 <span class="preprocessor"></span>        <span class="comment">// draw the buttons into different color</span>
01412         <span class="keywordtype">int</span> x1, x2, y1, y2;
01413 
01414         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> z=3; z&lt;10; z++ ) {
01415             x1 = type_button_group[z].x1+1;
01416             x2 = type_button_group[z].x2+1;
01417             y1 = type_button_group[z].y1+1;
01418             y2 = type_button_group[z].y2-1;
01419 
01420             user_interface.rect(x1,y1,x2,y2,1,70);
01421         }
01422 <span class="preprocessor">#endif</span>
01423 <span class="preprocessor"></span>
01424         <span class="keywordflow">for</span>(i=0;i&lt;4;i++)
01425             mode_std_sum_graphicon_m[i].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a8">paint</a>();
01426 
01427         <span class="keywordflow">for</span>(i=0;i&lt;9;i++) {
01428             <span class="keywordflow">if</span>( i==4 || i==5 || i==7 || i==8 )          <span class="comment">// these graphs have been removed.</span>
01429                 <span class="keywordflow">continue</span>;
01430 
01431 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01432 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ( i== 3 )
01433                 <span class="keywordflow">continue</span>;
01434 <span class="preprocessor">#endif</span>
01435 <span class="preprocessor"></span>
01436             mode_std_sum_graphicon_y[i].<a class="code" href="classGraphPerformanceIndicatorYear.html#a8">paint</a>();
01437         }
01438 
01439 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01440 <span class="preprocessor"></span>        mode_std_sum_student_morale.<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a8">paint</a>();
01441 <span class="preprocessor">#endif</span>
01442 <span class="preprocessor"></span>
01443         <span class="keywordflow">for</span>(i=0;i&lt;3;i++) {
01444             <span class="comment">// ##### Begin Marco ##### //</span>
01445 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01446 <span class="preprocessor"></span>            std_sum_text[i].<a class="code" href="classText.html#a17">right_put</a>(
01447                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+30,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+i*50+20,&amp;v1[i],3);
01448             std_sum_text[i+4].<a class="code" href="classText.html#a17">right_put</a>(
01449                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+30,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,&amp;v3[i],4);
01450             font_chart_purple_sm.right_put(
01451                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+i*50+20,m.format(initialv1[i],3));
01452 
01453             font_chart_purple_sm.right_put(
01454                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,m.format(initialv3[i],4));
01455 <span class="preprocessor">#else</span>
01456 <span class="preprocessor"></span>            std_sum_text[i].<a class="code" href="classText.html#a17">right_put</a>(
01457                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+i*50+20,&amp;v1[i],3);
01458             std_sum_text[i+4].<a class="code" href="classText.html#a17">right_put</a>(
01459                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,&amp;v3[i],4);
01460 <span class="preprocessor">#endif</span>
01461 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
01462 
01463             <span class="keywordflow">if</span>( i==0 ) {                                <span class="comment">// only show 0, the others have been removed</span>
01464                 <span class="comment">// ##### Begin Marco ##### //</span>
01465 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01466 <span class="preprocessor"></span>                <span class="comment">//                              std_sum_text[i+7].right_put(</span>
01467                 <span class="comment">//                                      REPORT_X1+tab4+30,REPORT_Y1+vtab3+i*50+20,&amp;v4[i],26);</span>
01468 
01469                 std_sum_text[i+10].<a class="code" href="classText.html#a17">right_put</a>(
01470                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+40,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,&amp;v5[i],4);
01471 
01472                 std_sum_text[i+14].<a class="code" href="classText.html#a17">right_put</a>(
01473                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+40,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+20,&amp;v6,3);
01474 
01475                 <span class="comment">//                              font_chart_purple_sm.right_put(</span>
01476                 <span class="comment">//                                      REPORT_X1+tab4+60,REPORT_Y1+vtab3+i*50+20,m.format(initialv4[i],26));</span>
01477 
01478                 font_chart_purple_sm.right_put(
01479                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+70,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,m.format(initialv5[i],4));
01480 
01481                 font_chart_purple_sm.right_put(
01482                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+70,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+20,m.format(initialv6,3));
01483 <span class="preprocessor">#else</span>
01484 <span class="preprocessor"></span>                std_sum_text[i+7].<a class="code" href="classText.html#a17">right_put</a>(
01485                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,&amp;v4[i],26);
01486 
01487                 std_sum_text[i+10].<a class="code" href="classText.html#a17">right_put</a>(
01488                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+70,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,&amp;v5[i],4);
01489 <span class="preprocessor">#endif</span>
01490 <span class="preprocessor"></span>                <span class="comment">// ##### End Marco ##### //</span>
01491             }
01492         }
01493 
01494 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01495 <span class="preprocessor"></span>        std_sum_text[3].<a class="code" href="classText.html#a17">right_put</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+30,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+20,&amp;v2[0],3);
01496 <span class="preprocessor">#else</span>
01497 <span class="preprocessor"></span>        std_sum_text[3].<a class="code" href="classText.html#a17">right_put</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+20,&amp;v2[0],3);
01498 <span class="preprocessor">#endif</span>
01499 <span class="preprocessor"></span>
01500         <span class="comment">// ##### Begin Marco ##### //</span>
01501 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01502 <span class="preprocessor"></span>        font_chart_purple_sm.right_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+20,m.format(initialv2[0],3));
01503 <span class="preprocessor">#endif</span>
01504 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01505 
01506         vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
01507 
01508     }
01509     <span class="keywordflow">else</span> {
01510         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;4;i++)
01511             mode_std_sum_graphicon_m[i].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a9">refresh</a>();
01512 
01513         <span class="keywordflow">for</span>(i=0;i&lt;9;i++) {
01514             <span class="keywordflow">if</span>( i==4 || i==5 || i==7 || i==8 )          <span class="comment">// these graphs have been removed.</span>
01515                 <span class="keywordflow">continue</span>;
01516 
01517 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01518 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ( i == 3 )
01519                 <span class="keywordflow">continue</span>;
01520 <span class="preprocessor">#endif</span>
01521 <span class="preprocessor"></span>
01522             mode_std_sum_graphicon_y[i].<a class="code" href="classGraphPerformanceIndicatorYear.html#a9">refresh</a>();
01523         }
01524 
01525         <span class="keywordflow">for</span>(i=0;i&lt;3;i++) {
01526             std_sum_text[i].<a class="code" href="classText.html#a25">refresh</a>();
01527             std_sum_text[i+4].<a class="code" href="classText.html#a25">refresh</a>();
01528 
01529             <span class="comment">// ##### Begin Marco ##### //</span>
01530 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01531 <span class="preprocessor"></span>            font_chart_purple_sm.right_put(
01532                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+i*50+20,m.format(initialv1[i],3));
01533 
01534             font_chart_purple_sm.right_put(
01535                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,m.format(initialv3[i],4));
01536 <span class="preprocessor">#endif</span>
01537 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
01538 
01539             <span class="keywordflow">if</span>( i==0 ) {                                <span class="comment">// only show 0, the others have been removed</span>
01540                 std_sum_text[i+7].<a class="code" href="classText.html#a25">refresh</a>();
01541                 std_sum_text[i+10].<a class="code" href="classText.html#a25">refresh</a>();
01542 
01543                 <span class="comment">// ##### Begin Marco ##### //</span>
01544 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01545 <span class="preprocessor"></span>                <span class="comment">//                              font_chart_purple_sm.right_put(</span>
01546                 <span class="comment">//                                              REPORT_X1+tab4+60,REPORT_Y1+vtab3+i*50+20,m.format(initialv4[i],26));</span>
01547 
01548                 font_chart_purple_sm.right_put(
01549                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+70,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,m.format(initialv5[i],4));
01550 <span class="preprocessor">#endif</span>
01551 <span class="preprocessor"></span>                <span class="comment">// ##### End Marco ##### //</span>
01552             }
01553         }
01554         std_sum_text[3].<a class="code" href="classText.html#a25">refresh</a>();
01555         <span class="comment">// ##### Begin Marco ##### //</span>
01556 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01557 <span class="preprocessor"></span>        font_chart_purple_sm.right_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+20,m.format(initialv2[0],3));
01558 <span class="preprocessor">#endif</span>
01559 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01560 
01561         <span class="keywordflow">for</span>(i=0;i&lt;3;i++) {
01562             vga.blt_buf(
01563                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+i*50+20,
01564                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+i*50+32);
01565             vga.blt_buf(
01566                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,
01567                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+32
01568                 );
01569             vga.blt_buf(
01570                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,
01571                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+32
01572                 );
01573             vga.blt_buf(
01574                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+20,
01575                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+70,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*50+32
01576                 );
01577         }
01578         vga.blt_buf(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+20,
01579                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+32);
01580 
01581         <span class="comment">// refresh the graphs</span>
01582         vga.blt_buf(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+9,
01583                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+140);
01584         vga.blt_buf(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab5-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+9,
01585                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab5+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1+140);
01586 
01587         vga.blt_buf(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+9,
01588                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+140);
01589         vga.blt_buf(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab5-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+9,
01590                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab5+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+140);
01591         vga.blt_buf(<a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-95,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+9,
01592                     <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-15,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+140);
01593     }
01594 
01595     vga.use_front();
01596 }
01597 
01598 <span class="comment">//----- End of Summary Report 3 ------//</span>
01600 <span class="comment"></span>
01602 <span class="comment">//----- Begin of Summary Report 4 ------//</span>
<a name="l01603"></a><a class="code" href="classPlayerSchool.html#a22">01603</a> <span class="keywordtype">void</span> <a class="code" href="classPlayerSchool.html#a22">PlayerSchool::summary_student_report_4</a>(<span class="keywordtype">int</span> refreshFlag) {
01604     <span class="keywordtype">int</span> tab1=10;
01605     <span class="keywordtype">int</span> tab2=230;
01606     <span class="keywordtype">int</span> tab3=300;
01607     <span class="keywordtype">int</span> tab4=380;
01608     <span class="keywordtype">int</span> tab5=450;
01609     <span class="keywordtype">int</span> tab6=530;
01610     <span class="keywordtype">int</span> tab7=610;
01611     <span class="keywordtype">int</span> vtab1=15;
01612     <span class="keywordtype">int</span> vtab2=160;
01613     <span class="keywordtype">int</span> vtab3=82;
01614     <span class="keywordtype">int</span> vtab4=258;
01615     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num1=HISTORY_MONTH_COUNT;
01616     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num2=HISTORY_YEAR_COUNT;
01617     <span class="keyword">static</span> <span class="keywordtype">int</span> v1[3];
01618     <span class="keyword">static</span> <span class="keywordtype">int</span> v2[3];
01619     <span class="keyword">static</span> <span class="keywordtype">int</span> v3[3];
01620     <span class="keyword">static</span> <span class="keywordtype">int</span> v4[7];
01621 
01622     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray1[8][HISTORY_MONTH_COUNT];
01623     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray2[3][HISTORY_YEAR_COUNT];
01624     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray3[8][HISTORY_MONTH_COUNT];
01625     <span class="keyword">static</span> <span class="keywordtype">int</span> xStart = 1991, xEnd = 1998;          <span class="comment">//*** temporary ***//</span>
01626     <span class="keywordtype">int</span> deptRecno=1;
01627 
01628     memset(dataArray1,0,<span class="keyword">sizeof</span>(dataArray1));
01629     memset(dataArray2,0,<span class="keyword">sizeof</span>(dataArray2));
01630 
01631     <span class="comment">// ##### Begin Marco ###### //</span>
01632 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01633 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">int</span> initialv1[3];
01634     <span class="keyword">static</span> <span class="keywordtype">int</span> initialv2[3];
01635     <span class="keyword">static</span> <span class="keywordtype">int</span> initialv3[3];
01636     <span class="keyword">static</span> <span class="keywordtype">int</span> initialv4[7];
01637 
01638     <span class="keyword">static</span> <span class="keywordtype">int</span> initialDataArray1[8][HISTORY_MONTH_COUNT];
01639     <span class="keyword">static</span> <span class="keywordtype">int</span> initialDataArray2[3][HISTORY_YEAR_COUNT];
01640     <span class="keyword">static</span> <span class="keywordtype">int</span> initialDataArray3[8][HISTORY_MONTH_COUNT];
01641 
01642     memset(initialDataArray1,0,<span class="keyword">sizeof</span>(initialDataArray1));
01643     memset(initialDataArray2,0,<span class="keyword">sizeof</span>(initialDataArray2));
01644 <span class="preprocessor">#endif</span>
01645 <span class="preprocessor"></span>    <span class="comment">// #####  End Marco ##### //</span>
01646 
01647     <span class="comment">//-- Institution wide --//</span>
01648     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;HISTORY_MONTH_COUNT;j++) {
01649         <span class="comment">//## 071299 chea 1.12.1</span>
01650         <span class="comment">//              dataArray3[0][j]=player_school.talent_academic[j];</span>
01651         <span class="comment">//              dataArray3[1][j]=player_school.talent_extracurricular[j];</span>
01652         <span class="comment">//              dataArray3[2][j]=player_school.talent_athletics[j];</span>
01653         dataArray3[0][j]= max(0,min(100,player_school.talent_academic[j]));
01654         dataArray3[1][j]= max(0,min(100,player_school.talent_extracurricular[j]));
01655         dataArray3[2][j]= max(0,min(100,player_school.talent_athletics[j]));
01656 
01657         dataArray3[3][j]=player_school.satisfaction_academic[j];
01658         dataArray3[4][j]=player_school.satisfaction_student_life[j];
01659         dataArray3[5][j]=player_school.satisfaction_athletics[j];
01660         dataArray3[6][j]=player_school.satisfaction_overall[j];
01661 
01662         <span class="comment">// ##### Begin Marco ##### //</span>
01663 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01664 <span class="preprocessor"></span>        initialDataArray3[0][j]= max(0,min(100,player_school.initial_talent_academic[j]));
01665         initialDataArray3[1][j]= max(0,min(100,player_school.initial_talent_extracurricular[j]));
01666         initialDataArray3[2][j]= max(0,min(100,player_school.initial_talent_athletics[j]));
01667 
01668         initialDataArray3[3][j]=player_school.initial_satisfaction_academic[j];
01669         initialDataArray3[4][j]=player_school.initial_satisfaction_student_life[j];
01670         initialDataArray3[5][j]=player_school.initial_satisfaction_athletics[j];
01671         initialDataArray3[6][j]=player_school.initial_satisfaction_overall[j];
01672 <span class="preprocessor">#endif</span>
01673 <span class="preprocessor"></span>        <span class="comment">// #### End Marco ##### //</span>
01674     }
01675 
01676     <span class="keywordflow">for</span>(j=0;j&lt;7;j++) {
01677         <span class="comment">// #### Begin MArco #### //</span>
01678         v4[j]=dataArray3[j][HISTORY_MONTH_COUNT-1];
01679 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01680 <span class="preprocessor"></span>        initialv4[j]=initialDataArray3[j][HISTORY_MONTH_COUNT-1];
01681 <span class="preprocessor">#endif</span>
01682 <span class="preprocessor"></span>    }
01683     <span class="comment">// ##### End Marco ##### //</span>
01684 
01685     <span class="comment">//------ paint the background -------//</span>
01686     vga.use_back();
01687     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
01688 
01689         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
01690             <a class="code" href="classPlayerSchool.html#a27">summary_student_report_deinit</a>();
01691         report_init_flag =1;
01692 
01693         user_interface.bg_img(<a class="code" href="Ostd__sum_8cpp.html#a111a50">BG_PIC_ID</a>, &amp;vga_back);
01694 
01695         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+7);
01696         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+7,1);
01697         font_charts.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+290,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-8,<span class="stringliteral">"Undergraduate Profile"</span>);
01698 
01699         <span class="keywordtype">short</span> x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
01700         <span class="keywordtype">short</span> y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
01701         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+2,<span class="stringliteral">"Department :"</span>);
01702         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+30,<span class="stringliteral">"  Institution :"</span>);
01703         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
01704             type_button_group[i].create_text(x, y,
01705                                              x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
01706                                              reportTypeStrArray[i]);
01707 <span class="preprocessor">#if(GAME_VERSION&gt;=200)                        //  Turnover</span>
01708 <span class="preprocessor"></span>        type_button_group[i].create_text(x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y,
01709                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
01710                                          reportTypeStrArray[i]);
01711 <span class="preprocessor">#endif</span>
01712 <span class="preprocessor"></span>        x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
01713         y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>+28;
01714 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01715 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 4; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
01716 <span class="preprocessor">#else</span>
01717 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 3; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
01718 <span class="preprocessor">#endif</span>
01719 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,
01720                                                  x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
01721                                                  reportTypeStrArray[i]);
01722 
01723 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01724 <span class="preprocessor"></span>        y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
01725         type_button_group[i].create_text(x, y,
01726                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+10, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>+28,
01727                                          reportTypeStrArray[i]);
01728 <span class="preprocessor">#endif</span>
01729 <span class="preprocessor"></span>
01730         <span class="comment">//----------------- show objects ----------------//</span>
01731         type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classPlayerSchool.html#m77">current_report_type</a>);
01732 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01733 <span class="preprocessor"></span>        <span class="comment">// draw the buttons into different color</span>
01734         <span class="keywordtype">int</span> x1, x2, y1, y2;
01735 
01736         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> z=3; z&lt;10; z++ ) {
01737             x1 = type_button_group[z].x1+1;
01738             x2 = type_button_group[z].x2+1;
01739             y1 = type_button_group[z].y1+1;
01740             y2 = type_button_group[z].y2-1;
01741 
01742             user_interface.rect(x1,y1,x2,y2,1,70);
01743         }
01744 <span class="preprocessor">#endif</span>
01745 <span class="preprocessor"></span>
01746         user_interface.brighten(
01747             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3,
01748             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4+2);
01749 
01750         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3,
01751                               <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4+2,1);
01752         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4-2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3,
01753                               <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4+2,1);
01754         user_interface.rect(  <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3,
01755                               <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-tab1,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+23,1);
01756 
01757         font_chartsm.put_paragraph( <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+5,
01758                                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+35,
01759                                     std_sum_title2[3]);
01760         font_chartsm.put_paragraph( <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+5,
01761                                     <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+35,
01762                                     std_sum_title2[4]);
01763 
01764         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+50,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+40,std_sum_label2[3]);
01765         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+50,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+85,std_sum_label2[4]);
01766         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+50,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+130,std_sum_label2[5]);
01767         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+25,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+40,std_sum_label2[6]);
01768         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+25,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+75,std_sum_label2[7]);
01769         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+25,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+110,std_sum_label2[8]);
01770 
01771         font_chartsm.put_paragraph(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+25,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+134,
01772                                    <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+250,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+167,std_sum_label2[9],-1);
01773 
01774         mode_std_sum_graphicon_m[0].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+30,
01775                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+70,
01776                                          1 ,&amp;data_num1 ,dataArray3[0] , 1, 0, 3);
01777         mode_std_sum_graphicon_m[1].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+77,
01778                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+117,
01779                                          1 ,&amp;data_num1 ,dataArray3[1] , 1, 0, 3);
01780         mode_std_sum_graphicon_m[2].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+124,
01781                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab3+75,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+164,
01782                                          1 ,&amp;data_num1 ,dataArray3[2] , 1, 0, 3);
01783         <span class="comment">//## chea 071299 1.12.2</span>
01784         mode_std_sum_graphicon_m[3].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab7-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+26,
01785                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab7+80,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+58,
01786                                          <span class="comment">//                                             1 ,&amp;data_num1 ,dataArray3[0] , 1, 0, 3);</span>
01787                                          1 ,&amp;data_num1 ,dataArray3[3] , 1, 0, 3);
01788         mode_std_sum_graphicon_m[4].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab7-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+62,
01789                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab7+80,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+94,
01790                                          <span class="comment">//                                             1 ,&amp;data_num1 ,dataArray3[1] , 1, 0, 3);</span>
01791                                          1 ,&amp;data_num1 ,dataArray3[4] , 1, 0, 3);
01792         mode_std_sum_graphicon_m[5].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab7-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+98,
01793                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab7+80,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+130,
01794                                          <span class="comment">//                                             1 ,&amp;data_num1 ,dataArray3[2] , 1, 0, 3);</span>
01795                                          1 ,&amp;data_num1 ,dataArray3[5] , 1, 0, 3);
01796         mode_std_sum_graphicon_m[6].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab7-5,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+134,
01797                                          <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab7+80,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+166,
01798                                          <span class="comment">//                                             1 ,&amp;data_num1 ,dataArray3[3] , 1, 0, 3);</span>
01799                                          1 ,&amp;data_num1 ,dataArray3[6] , 1, 0, 3);
01800 
01801         <span class="keywordflow">for</span>(i=0;i&lt;7;i++)
01802             mode_std_sum_graphicon_m[i].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a8">paint</a>();
01803 
01804         <span class="keywordflow">for</span>(i=0;i&lt;3;i++) {
01805             <span class="comment">// ##### Begin Marco ##### //</span>
01806 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01807 <span class="preprocessor"></span>            std_sum_text2[i].<a class="code" href="classText.html#a17">right_put</a>(
01808                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+20,
01809                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*45+40,&amp;v4[i],
01810                 3);
01811             std_sum_text2[i+3].<a class="code" href="classText.html#a17">right_put</a>(
01812                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+30,
01813                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*35+40,
01814                 &amp;v4[i+3],
01815                 4);
01816             font_chart_purple_sm.right_put(
01817                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+60,
01818                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*45+40,
01819                 m.format(initialv4[i],3));
01820             font_chart_purple_sm.right_put(
01821                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+60,
01822                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*35+40,
01823                 m.format(initialv4[i+3],4));
01824 <span class="preprocessor">#else</span>
01825 <span class="preprocessor"></span>            std_sum_text2[i].<a class="code" href="classText.html#a17">right_put</a>(
01826                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+40,
01827                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*45+40,&amp;v4[i],
01828                 3);
01829             std_sum_text2[i+3].<a class="code" href="classText.html#a17">right_put</a>(
01830                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+50,
01831                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*35+40,
01832                 &amp;v4[i+3],
01833                 4);
01834 <span class="preprocessor">#endif</span>
01835 <span class="preprocessor"></span>
01836             <span class="comment">// ##### End Marco ##### //</span>
01837         }
01838 
01839         <span class="comment">// ##### Begin Marco ##### //</span>
01840 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01841 <span class="preprocessor"></span>        std_sum_text2[6].<a class="code" href="classText.html#a17">right_put</a>(
01842             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+30,
01843             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+145,
01844             &amp;v4[6],
01845             4);
01846         font_chart_purple_sm.right_put(
01847             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+145,
01848             m.format(initialv4[6],4));
01849 <span class="preprocessor">#else</span>
01850 <span class="preprocessor"></span>        std_sum_text2[6].<a class="code" href="classText.html#a17">right_put</a>(
01851             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+50,
01852             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+145,
01853             &amp;v4[6],
01854             4);
01855 <span class="preprocessor">#endif</span>
01856 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01857     }
01858     <span class="keywordflow">else</span> {
01859         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;7;i++)
01860             mode_std_sum_graphicon_m[i].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a9">refresh</a>();
01861         <span class="keywordflow">for</span>(i=0;i&lt;3;i++) {
01862             std_sum_text2[i].<a class="code" href="classText.html#a25">refresh</a>();
01863             std_sum_text2[i+3].<a class="code" href="classText.html#a25">refresh</a>();
01864 
01865             <span class="comment">// ##### Begin Marco ##### //</span>
01866 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01867 <span class="preprocessor"></span>            font_chart_purple_sm.right_put(
01868                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab2+60,
01869                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*45+40,
01870                 m.format(initialv4[i],3));
01871             font_chart_purple_sm.right_put(
01872                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+60,
01873                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+i*35+40,
01874                 m.format(initialv4[i+3],4));
01875 <span class="preprocessor">#endif</span>
01876 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
01877         }
01878         std_sum_text2[6].<a class="code" href="classText.html#a25">refresh</a>();
01879 
01880         <span class="comment">// ##### Begin Marco ##### //</span>
01881 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01882 <span class="preprocessor"></span>        font_chart_purple_sm.right_put(
01883             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab6+60,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+145,
01884             m.format(initialv4[6],4));
01885 <span class="preprocessor">#endif</span>
01886 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01887     }
01888 
01889     <span class="comment">//----------- paint the summary button group ---------//</span>
01890 
01891     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
01892 
01893     vga.use_front();
01894 }
01895 
01896 <span class="comment">//----- End of Summary Report 4 ------//</span>
01898 <span class="comment"></span>
01900 <span class="comment">//----- Begin of Summary Report 5 ------//</span>
<a name="l01901"></a><a class="code" href="classPlayerSchool.html#a23">01901</a> <span class="keywordtype">void</span> <a class="code" href="classPlayerSchool.html#a23">PlayerSchool::summary_student_report_5</a>(<span class="keywordtype">int</span> refreshFlag) {
01902 
01903     <span class="keyword">static</span> <span class="keywordtype">int</span> v11=1000,v12=1999,v13=8888;
01904     <span class="keyword">static</span> <span class="keywordtype">double</span> v21=663.23,v22=123.23,v23=17.23,v24=723.23,v25=13.23;
01905     <span class="keyword">static</span> <span class="keywordtype">double</span> v31=663.23,v32=123.23,v33=17.23,v34=723.23,v35=13.23;
01906     <span class="keyword">static</span> <span class="keywordtype">double</span> v3=0.00;
01907     <span class="keyword">static</span> <span class="keywordtype">int</span> sliderVar1=0;
01908     <span class="comment">//### begin zhoubin 02/25/99</span>
01909     <span class="comment">//  static float spinnerVar1=0.0;</span>
01910     <span class="comment">//  static float spinnerVar2=0.0;</span>
01911     <span class="comment">//### end zhoubin 02/25/99</span>
01912     <span class="keyword">static</span> <span class="keywordtype">int</span> numSeriesData1 = HISTORY_YEAR_COUNT;
01913     <span class="keyword">static</span> <span class="keywordtype">int</span> numSeriesData2 = HISTORY_MONTH_COUNT;
01914     <span class="keyword">static</span> <span class="keywordtype">int</span> *dataArray1,*dataArray2;
01915     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray3[HISTORY_MONTH_COUNT];
01916 
01917     <span class="comment">//  Communicate with Sim Engine's Output</span>
01918     dataArray1=student_office.tuition_income_history;
01919     dataArray2=student_office.student_life_history;
01920 
01921     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;HISTORY_MONTH_COUNT;i++)
01922         dataArray3[i]=player_school.satisfaction_student_life[i];
01923 
01924     v12=info.financial_year();
01925     v11=v12-1;
01926     v13=v12+1;
01927     v21=finance.revenue_array[<a class="code" href="Ofinance_8h.html#a101a32">AC_GROSS_TUITION_INCOME</a>].total;
01928     v22=finance.projected_revenue_array[<a class="code" href="Ofinance_8h.html#a101a32">AC_GROSS_TUITION_INCOME</a>].change_last_year.total;
01929     v23=finance.projected_revenue_array[<a class="code" href="Ofinance_8h.html#a101a32">AC_GROSS_TUITION_INCOME</a>].this_year.total;
01930     v24=finance.projected_revenue_array[<a class="code" href="Ofinance_8h.html#a101a32">AC_GROSS_TUITION_INCOME</a>].change_next_year.total;
01931     v25=finance.projected_revenue_array[<a class="code" href="Ofinance_8h.html#a101a32">AC_GROSS_TUITION_INCOME</a>].next_year.total;
01932     v31=finance.expense_array[<a class="code" href="Ofinance_8h.html#a104a49">AC_STUDENT_LIFE</a>].total;
01933     v32=finance.projected_expense_array[<a class="code" href="Ofinance_8h.html#a104a49">AC_STUDENT_LIFE</a>].change_last_year.total;
01934     v33=finance.projected_expense_array[<a class="code" href="Ofinance_8h.html#a104a49">AC_STUDENT_LIFE</a>].this_year.total;
01935     v34=finance.projected_expense_array[<a class="code" href="Ofinance_8h.html#a104a49">AC_STUDENT_LIFE</a>].change_next_year.total;
01936     v35=finance.projected_expense_array[<a class="code" href="Ofinance_8h.html#a104a49">AC_STUDENT_LIFE</a>].next_year.total;
01938     v3=dataArray3[HISTORY_MONTH_COUNT-1];
01939 
01940     <span class="comment">// ##### Begin Marco  ##### //</span>
01941 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01942 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">double</span> initialv21=663.23;
01943     <span class="keyword">static</span> <span class="keywordtype">double</span> initialv31=663.23;
01944     initialv21=finance.initial_revenue_array[<a class="code" href="Ofinance_8h.html#a101a32">AC_GROSS_TUITION_INCOME</a>].total;
01945     initialv31=finance.initial_expense_array[<a class="code" href="Ofinance_8h.html#a104a49">AC_STUDENT_LIFE</a>].total;
01946 <span class="preprocessor">#endif</span>
01947 <span class="preprocessor"></span>    <span class="comment">// ##### end MArco ##### //</span>
01948 
01949     <span class="keywordtype">int</span> field_space=8*font_chartsm.max_font_width;
01950 
01951     vga.use_back();
01952     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
01953         <span class="comment">// Update during repaint only</span>
01954         <span class="comment">//              spinnerVar1=(float)finance.get_policy_var(true, AC_GROSS_TUITION_INCOME)-&gt;target_value;</span>
01955         <span class="comment">//              spinnerVar2=(float)finance.get_policy_var(false, AC_STUDENT_LIFE)-&gt;target_value;</span>
01956 
01957         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
01958             <a class="code" href="classPlayerSchool.html#a27">summary_student_report_deinit</a>();
01959         report_init_flag =1;
01960 
01961         user_interface.bg_img(<a class="code" href="Ostd__sum_8cpp.html#a111a50">BG_PIC_ID</a>, &amp;vga_back);
01962         <span class="comment">//--------- draw the brightened boxes ------------//</span>
01963         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15-5, <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>);
01964         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01965                                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>-2,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>);
01966         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+3,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01967                                 <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>);
01968 
01969         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15-5, <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>,1);
01970         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>,
01971                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01972                             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+3,
01973                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>/2,1);
01974         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>,
01975                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>/2,
01976                             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+3,
01977                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>,1);
01978 
01979         user_interface.rect(
01980             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>,
01981             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01982             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,
01983             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>,1);
01984 
01985         user_interface.rect(
01986             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>,
01987             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01988             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,
01989             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+38,1);
01990 
01991         <span class="keywordtype">short</span> y = <a class="code" href="Ostd__sum_8cpp.html#a121a98">FINANCIAL_BUTTON_Y1</a>-40;
01992         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++, y+=<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a>) {
01993             user_interface.create_button_bitmap(<a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>,y,
01994                                                 <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a>,y+<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>,
01995                                                 financial_button_label[i], &amp;(financial_button1_up_bitmap[i]),
01996                                                 &amp;(financial_button1_down_bitmap[i]), &amp;vga_back);
01997 
01998             financial_button_group1[i].create_bitmapW(<a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>,y,
01999                                                       <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a>,y+<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>,
02000                                                       (financial_button1_up_bitmap[i])+4,0);
02001         }
02002 
02003         y = <a class="code" href="Ostd__sum_8cpp.html#a122a101">FINANCIAL_BUTTON2_Y1</a>-60;
02004         <span class="keywordflow">for</span> (i = 0; i &lt; 3; i++, y+=<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a>) {
02005             user_interface.create_button_bitmap(<a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>,y,
02006                                                 <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a>,y+<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>,
02007                                                 financial_button_label[i], &amp;(financial_button2_up_bitmap[i]),
02008                                                 &amp;(financial_button2_down_bitmap[i]), &amp;vga_back);
02009 
02010             financial_button_group2[i].create_bitmapW(<a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>,y,
02011                                                       <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a>,y+<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>,
02012                                                       (financial_button2_up_bitmap[i])+4,0);
02013         }
02014 
02015         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+7);
02016         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+7,1);
02017         font_charts.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+330,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-8,<span class="stringliteral">"Tuition"</span>);
02018 
02019         <span class="keywordtype">short</span> x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
02020         y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
02021         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+2,<span class="stringliteral">"Department :"</span>);
02022         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+30,<span class="stringliteral">"  Institution :"</span>);
02023         <span class="keywordflow">for</span> (i = 0; i &lt; 3; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
02024             type_button_group[i].create_text(x, y,
02025                                              x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
02026                                              reportTypeStrArray[i]);
02027 <span class="preprocessor">#if(GAME_VERSION&gt;=200)                        //  Turnover</span>
02028 <span class="preprocessor"></span>        type_button_group[i].create_text(x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y,
02029                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
02030                                          reportTypeStrArray[i]);
02031 <span class="preprocessor">#endif</span>
02032 <span class="preprocessor"></span>        x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
02033         y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>+28;
02034 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02035 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 4; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
02036 <span class="preprocessor">#else</span>
02037 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 3; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
02038 <span class="preprocessor">#endif</span>
02039 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,
02040                                                  x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
02041                                                  reportTypeStrArray[i]);
02042 
02043 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02044 <span class="preprocessor"></span>        y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
02045         type_button_group[i].create_text(x, y,
02046                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+10, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>+28,
02047                                          reportTypeStrArray[i]);
02048 <span class="preprocessor">#endif</span>
02049 <span class="preprocessor"></span>
02050         financial_spinner_budget1.<a class="code" href="classSpinner.html#a2">init</a>(
02051             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+75,
02052             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+42,
02053             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+175,
02054             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+72,
02055             <span class="comment">//### begin zhoubin 02/25/99</span>
02056             &amp;<a class="code" href="classPlayerSchool.html#m0">spinner_var1</a>,
02057             <span class="comment">//### end zhoubin 02/25/99</span>
02058             <span class="comment">//                          -100.0f,100.0f,0.1f,0,NULL,23);</span>
02059             -5.0f,5.0f,0.1f,0,<a class="code" href="OHELP_8H.html#a0">NULL</a>,25);                 <span class="comment">//## chea 170999</span>
02060 
02061         financial_spinner_budget2.<a class="code" href="classSpinner.html#a2">init</a>(
02062             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+75,
02063             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+150,
02064             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+175,
02065             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+180,
02066             <span class="comment">//### begin zhoubin 02/25/99</span>
02067             &amp;<a class="code" href="classPlayerSchool.html#m1">spinner_var2</a>,
02068             <span class="comment">//### end zhoubin 02/25/99</span>
02069             <span class="comment">//                          -100.0f,100.0f,0.1f,0,NULL,23);</span>
02070             -5.0f,5.0f,0.1f,0,<a class="code" href="OHELP_8H.html#a0">NULL</a>,25);                 <span class="comment">//## chea 170999</span>
02071 
02072         mode_financial_stats_bitmap=vga_back.save_area(
02073             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a92">MODE_FINANCIAL_TAB2</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15,
02074             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>,
02075             mode_financial_stats_bitmap);
02076 
02077         text_refresh_bitmap1=vga_back.save_area(
02078             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a73">TAB4</a>,
02079             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>,
02080             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>,
02081             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>,
02082             text_refresh_bitmap1);
02083 
02084         <span class="comment">//-------- graph title --------------//</span>
02085 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02086 <span class="preprocessor"></span>        mode_financial_graph_profitloss1.<a class="code" href="classGraphYear.html#a2">init</a>(
02087             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>,
02088             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+3,
02089             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>/2,
02090             1, &amp;numSeriesData1, dataArray1, 1,
02091             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, &amp;(mode_financial_legend_label[0]), 1, 1, 1, 1);
02092 
02093         mode_financial_graph_profitloss2.<a class="code" href="classGraphYear.html#a2">init</a>(
02094             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>,
02095             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>/2,
02096             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+3,
02097             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>,
02098             1, &amp;numSeriesData1, dataArray2, 1,
02099             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, &amp;(mode_financial_legend_label[1]), 1, 1, 1, 1);
02100 <span class="preprocessor">#else</span>
02101 <span class="preprocessor"></span>        mode_financial_graph_profitloss1.<a class="code" href="classGraphYear.html#a2">init</a>(
02102             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>,
02103             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+3,
02104             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>/2,
02105             1, &amp;numSeriesData1, dataArray1, 1,
02106             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, &amp;(mode_financial_legend_label[0]), 1, 1, 1, 5);
02107 
02108         mode_financial_graph_profitloss2.<a class="code" href="classGraphYear.html#a2">init</a>(
02109             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>,
02110             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>/2,
02111             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+3,
02112             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a86">MODE_FINANCIAL_BOX2_HEIGHT</a>,
02113             1, &amp;numSeriesData1, dataArray2, 1,
02114             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, &amp;(mode_financial_legend_label[1]), 1, 1, 1, 5);
02115 <span class="preprocessor">#endif</span>
02116 <span class="preprocessor"></span>
02117         mode_financial_graph_profitloss1.<a class="code" href="classGraphYear.html#a8">paint</a>();
02118         mode_financial_graph_profitloss2.<a class="code" href="classGraphYear.html#a8">paint</a>();
02119 
02120         mode_financial_graphicon.<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(
02121             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+110,
02122             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+3,
02123             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+180,
02124             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+36,
02125             1, &amp;numSeriesData2, dataArray3, 1, 0 , 5);
02126 
02127         mode_financial_graphicon.<a class="code" href="classGraphPerformanceIndicatorMonth.html#a8">paint</a>();
02128 
02129         mode_financial_text.<a class="code" href="classText.html#a2">init</a>(
02130             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+60,
02131             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+13,&amp;v3,3);
02132         mode_financial_text.<a class="code" href="classText.html#a24">paint</a>();
02133 
02134         type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classPlayerSchool.html#m77">current_report_type</a>);
02135 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02136 <span class="preprocessor"></span>        <span class="comment">// draw the buttons into different color</span>
02137         <span class="keywordtype">int</span> x1, x2, y1, y2;
02138 
02139         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> z=3; z&lt;10; z++ ) {
02140             x1 = type_button_group[z].x1+1;
02141             x2 = type_button_group[z].x2+1;
02142             y1 = type_button_group[z].y1+1;
02143             y2 = type_button_group[z].y2-1;
02144 
02145             user_interface.rect(x1,y1,x2,y2,1,70);
02146         }
02147 <span class="preprocessor">#endif</span>
02148 <span class="preprocessor"></span>    }
02149     <span class="keywordflow">else</span> {
02150         vga_back.rest_area(mode_financial_stats_bitmap,0,0);
02151         vga_back.rest_area(text_refresh_bitmap1,0,0);
02152 
02153         mode_financial_graph_profitloss1.<a class="code" href="classGraphYear.html#a9">refresh</a>();
02154         mode_financial_graph_profitloss2.<a class="code" href="classGraphYear.html#a9">refresh</a>();
02155         mode_financial_graphicon.<a class="code" href="classGraphPerformanceIndicatorMonth.html#a9">refresh</a>();
02156 
02157         mode_financial_text.<a class="code" href="classText.html#a25">refresh</a>();
02158     }
02159 
02160     <span class="comment">//-------- paint the buttons -----------//</span>
02161     <span class="keywordtype">int</span> pressed1=<a class="code" href="Ofinanc2_8h.html#a38a5">P_NONE</a>;
02162     <span class="keywordtype">int</span> read1 =finance.get_policy_var(<span class="keyword">true</span>, <a class="code" href="Ofinance_8h.html#a101a32">AC_GROSS_TUITION_INCOME</a>)-&gt;applied_flag;
02163     <span class="keywordflow">if</span>(read1!=<a class="code" href="Ofinanc2_8h.html#a38a5">P_NONE</a>)pressed1=read1;
02164     <span class="keywordflow">if</span>(pressed1==<a class="code" href="Ofinanc2_8h.html#a38a5">P_NONE</a>) {
02165         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++)
02166             financial_button_group1[i].<a class="code" href="classButtonGroup.html#a3">paint</a>();
02167     }
02168     <span class="keywordflow">else</span> {
02169         financial_button_group1.<a class="code" href="classButtonGroup.html#a3">paint</a>(pressed1-1);
02170     }
02171 
02172     <span class="keywordtype">int</span> pressed2=<a class="code" href="Ofinanc2_8h.html#a38a5">P_NONE</a>;
02173     <span class="keywordtype">int</span> read2 =finance.get_policy_var(<span class="keyword">false</span>, <a class="code" href="Ofinance_8h.html#a104a49">AC_STUDENT_LIFE</a>)-&gt;applied_flag;
02174     <span class="keywordflow">if</span>(read2!=<a class="code" href="Ofinanc2_8h.html#a38a5">P_NONE</a>)pressed2=read2;
02175     <span class="keywordflow">if</span>(pressed2==<a class="code" href="Ofinanc2_8h.html#a38a5">P_NONE</a>) {
02176         <span class="keywordflow">for</span>(i=0; i&lt;3; i++)
02177             financial_button_group2[i].<a class="code" href="classButtonGroup.html#a3">paint</a>();
02178     }
02179     <span class="keywordflow">else</span> {
02180         financial_button_group2.<a class="code" href="classButtonGroup.html#a3">paint</a>(pressed2-1);
02181     }
02182 
02183     <span class="comment">//-------- display static strings -----------//</span>
02184     font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a91">MODE_FINANCIAL_TAB1</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+25, mode_financial_str[0]);
02185     font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a91">MODE_FINANCIAL_TAB1</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+46, mode_financial_str[1]);
02186 
02187     font_chartsm.center_put( <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a93">MODE_FINANCIAL_TAB3</a>,
02188                              <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5,
02189                              <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a93">MODE_FINANCIAL_TAB3</a>+field_space,
02190                              <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5+font_chartsm.max_font_height, mode_financial_str[4]);
02191     font_chartsm.center_put( <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>,
02192                              <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5,
02193                              <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+field_space,
02194                              <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5+font_chartsm.max_font_height, mode_financial_str[4]);
02195 
02196     font_chartsm.put_paragraph(
02197         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+10,
02198         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+10,
02199         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+160,
02200         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+35,
02201         mode_financial_str[2]);
02202     font_chartsm.put_paragraph(
02203         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+10,
02204         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+50,
02205         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+160,
02206         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+80,
02207         mode_financial_str[5]);
02208     font_chartsm.put_paragraph(
02209         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+10,
02210         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+150,
02211         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+160,
02212         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+190,
02213         mode_financial_str[6]);
02214 
02215     financial_spinner_budget1.<a class="code" href="classSpinner.html#a5">refresh</a>();
02216     financial_spinner_budget2.<a class="code" href="classSpinner.html#a5">refresh</a>();
02217 
02218     <a class="code" href="classString.html">String</a> *s1,*s2;
02219 
02220     <span class="comment">//show years</span>
02221 
02222     s1=<span class="keyword">new</span> <a class="code" href="classString.html">String</a>(m.format(v11,16));
02223     <span class="comment">//  s2=new String(m.format(v11+1,16));   //## chea 061199</span>
02224     <span class="comment">//  (*s1)+="-";</span>
02225     <span class="comment">//  (*s1)+=(*s2);</span>
02226     font_chartsm.center_put(
02227         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a92">MODE_FINANCIAL_TAB2</a>+10,
02228         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5,
02229         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a92">MODE_FINANCIAL_TAB2</a>+field_space+10,
02230         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5+font_chartsm.max_font_height,
02231         s1-&gt;<a class="code" href="classString.html#m0">str_buf</a>);
02232 
02233     (*s1)=m.format(v12,16);
02234     <span class="comment">//  (*s2)=m.format(v12+1,16);            //## chea 061199</span>
02235     <span class="comment">//  (*s1)+="-";</span>
02236     <span class="comment">//  (*s1)+=(*s2);</span>
02237     font_chartsm.center_put(
02238         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+40+10,
02239         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5,
02240         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+field_space+10,
02241         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5+font_chartsm.max_font_height,
02242         s1-&gt;<a class="code" href="classString.html#m0">str_buf</a>);
02243 
02244     (*s1)=m.format(v13,16);
02245     <span class="comment">//  (*s2)=m.format(v13+1,16);            //## chea 061199</span>
02246     <span class="comment">//  (*s1)+="-";</span>
02247     <span class="comment">//  (*s1)+=(*s2);</span>
02248     font_chartsm.center_put(
02249         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a96">MODE_FINANCIAL_TAB6</a>+10,
02250         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5,
02251         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a96">MODE_FINANCIAL_TAB6</a>+field_space+10,
02252         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5+font_chartsm.max_font_height,
02253         s1-&gt;<a class="code" href="classString.html#m0">str_buf</a>);
02254     <span class="keyword">delete</span> s1,s2;
02255 
02256     <span class="comment">/*</span>
02257 <span class="comment">      font_chartsm.center_put( REPORT_X1+MODE_FINANCIAL_TAB2,</span>
02258 <span class="comment">      REPORT_Y1+15+25,</span>
02259 <span class="comment">      REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
02260 <span class="comment">      REPORT_Y1+15+25+font_chartsm.max_font_height,</span>
02261 <span class="comment">      m.format(v21, 2));</span>
02262 <span class="comment">      font_chartsm.center_put( REPORT_X1+MODE_FINANCIAL_TAB3,</span>
02263 <span class="comment">      REPORT_Y1+15+25,</span>
02264 <span class="comment">      REPORT_X1+MODE_FINANCIAL_TAB3+field_space,</span>
02265 <span class="comment">      REPORT_Y1+15+25+font_chartsm.max_font_height,</span>
02266 <span class="comment">      m.format(v22, 3));</span>
02267 <span class="comment">      font_chartsm.center_put( REPORT_X1+MODE_FINANCIAL_TAB4+40,</span>
02268 <span class="comment">      REPORT_Y1+15+25,</span>
02269 <span class="comment">      REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
02270 <span class="comment">      REPORT_Y1+15+25+font_chartsm.max_font_height,</span>
02271 <span class="comment">      m.format(v23, 2));</span>
02272 <span class="comment">      font_chartsm.center_put( REPORT_X1+MODE_FINANCIAL_TAB5,</span>
02273 <span class="comment">      REPORT_Y1+15+25,</span>
02274 <span class="comment">      REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
02275 <span class="comment">      REPORT_Y1+15+25+font_chartsm.max_font_height,</span>
02276 <span class="comment">      m.format(v24, 3));</span>
02277 <span class="comment">      font_chartsm.center_put( REPORT_X1+MODE_FINANCIAL_TAB6,</span>
02278 <span class="comment">      REPORT_Y1+15+25,</span>
02279 <span class="comment">      REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
02280 <span class="comment">      REPORT_Y1+15+25+font_chartsm.max_font_height,</span>
02281 <span class="comment">      m.format(v25, 2));</span>
02282 <span class="comment"></span>
02283 <span class="comment">      font_chartsm.center_put( REPORT_X1+MODE_FINANCIAL_TAB2,</span>
02284 <span class="comment">      REPORT_Y1+15+46,</span>
02285 <span class="comment">      REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
02286 <span class="comment">      REPORT_Y1+15+46+font_chartsm.max_font_height,</span>
02287 <span class="comment">      m.format(v31, 2));</span>
02288 <span class="comment">      font_chartsm.center_put( REPORT_X1+MODE_FINANCIAL_TAB3,</span>
02289 <span class="comment">      REPORT_Y1+15+46,</span>
02290 <span class="comment">      REPORT_X1+MODE_FINANCIAL_TAB3+field_space,</span>
02291 <span class="comment">      REPORT_Y1+15+46+font_chartsm.max_font_height,</span>
02292 <span class="comment">      m.format(v32, 3));</span>
02293 <span class="comment">      font_chartsm.center_put( REPORT_X1+MODE_FINANCIAL_TAB4+40,</span>
02294 <span class="comment">      REPORT_Y1+15+46,</span>
02295 <span class="comment">      REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
02296 <span class="comment">      REPORT_Y1+15+46+font_chartsm.max_font_height,</span>
02297 <span class="comment">      m.format(v33, 2));</span>
02298 <span class="comment">      font_chartsm.center_put( REPORT_X1+MODE_FINANCIAL_TAB5,</span>
02299 <span class="comment">      REPORT_Y1+15+46,</span>
02300 <span class="comment">      REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
02301 <span class="comment">      REPORT_Y1+15+46+font_chartsm.max_font_height,</span>
02302 <span class="comment">      m.format(v34, 3));</span>
02303 <span class="comment">      font_chartsm.center_put( REPORT_X1+MODE_FINANCIAL_TAB6,</span>
02304 <span class="comment">      REPORT_Y1+15+46,</span>
02305 <span class="comment">      REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
02306 <span class="comment">      REPORT_Y1+15+46+font_chartsm.max_font_height,</span>
02307 <span class="comment">      m.format(v35, 2));</span>
02308 <span class="comment">    */</span>
02309     font_chartsm.right_put(
02310         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a92">MODE_FINANCIAL_TAB2</a>+field_space-40,
02311         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+25,
02312         m.format(v21, 2));
02313     font_chartsm.right_put(
02314         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a93">MODE_FINANCIAL_TAB3</a>+field_space-45,
02315         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+25,
02316         m.format(v22, 24));
02317     font_chartsm.right_put(
02318         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+field_space-20,
02319         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+25,
02320         m.format(v23, 2));
02321     font_chartsm.right_put(
02322         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+field_space-50,
02323         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+25,
02324         m.format(v24, 24));
02325     font_chartsm.right_put(
02326         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a96">MODE_FINANCIAL_TAB6</a>+field_space-40,
02327         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+25,
02328         m.format(v25, 2));
02329 
02330     font_chartsm.right_put(
02331         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a92">MODE_FINANCIAL_TAB2</a>+field_space-40,
02332         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+46,
02333         m.format(v31, 2));
02334     font_chartsm.right_put(
02335         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a93">MODE_FINANCIAL_TAB3</a>+field_space-45,
02336         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+46,
02337         m.format(v32, 24));
02338     font_chartsm.right_put(
02339         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>+field_space-20,
02340         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+46,
02341         m.format(v33, 2));
02342     font_chartsm.right_put(
02343         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+field_space-50,
02344         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+46,
02345         m.format(v34, 24));
02346     font_chartsm.right_put(
02347         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a96">MODE_FINANCIAL_TAB6</a>+field_space-40,
02348         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+46,
02349         m.format(v35, 2));
02350 
02351     <span class="comment">// #### Begin Marco #### //</span>
02352 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02353 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (info.financial_year() &gt; 1 ) {
02354         font_chart_purple_sm.right_put(
02355             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a92">MODE_FINANCIAL_TAB2</a>,
02356             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+5,
02357             <span class="stringliteral">"Yr. 0 (Initial)"</span>);
02358         font_chart_purple_sm.right_put(
02359             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a92">MODE_FINANCIAL_TAB2</a>,
02360             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+25,
02361             m.format(initialv21, 2));
02362         font_chart_purple_sm.right_put(
02363             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a92">MODE_FINANCIAL_TAB2</a>,
02364             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+15+46,
02365             m.format(initialv31, 2));
02366     }
02367 <span class="preprocessor">#endif</span>
02368 <span class="preprocessor"></span>    <span class="comment">// #### End Marco #### //</span>
02369     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
02370 
02371     <span class="comment">// Pop up all buttons</span>
02372     <span class="keywordflow">for</span>(i=0;i&lt;3;i++) {
02373         financial_button_group1[i].pop();
02374         financial_button_group1[i].body_ptr=
02375             (<span class="keywordtype">void</span>*)(financial_button1_up_bitmap[i]+4);
02376         financial_button_group2[i].pop();
02377         financial_button_group2[i].body_ptr=
02378             (<span class="keywordtype">void</span>*)(financial_button2_up_bitmap[i]+4);
02379     }
02380 }
02381 
02382 <span class="comment">//----- End of function report_FINANCIAL ---------//</span>
02383 <span class="comment">//----- End of Summary Report 5 ------//</span>
02385 <span class="comment"></span>
<a name="l02386"></a><a class="code" href="classPlayerSchool.html#a25">02386</a> <span class="keywordtype">void</span> <a class="code" href="classPlayerSchool.html#a25">PlayerSchool::summary_student_report_call_residence</a>() {
02387     <a class="code" href="classPlayerSchool.html#m77">current_report_type</a>=<a class="code" href="Ostd__sum_8cpp.html#a113a60">REPORT_TYPE_RESIDENCE_HALL</a>;
02388     <a class="code" href="classPlayerSchool.html#m78">current_report_mode</a>=<a class="code" href="Ostd__sum_8cpp.html#a115a62">REPORT_MODE_INSTITUTION</a>;
02389 }
02390 
02392 <span class="comment">//----- Begin of Summary Report 6 ------//</span>
<a name="l02393"></a><a class="code" href="classPlayerSchool.html#a24">02393</a> <span class="keywordtype">void</span> <a class="code" href="classPlayerSchool.html#a24">PlayerSchool::summary_student_report_6</a>(<span class="keywordtype">int</span> refreshFlag) {
02394 
02395     <span class="keywordtype">int</span> tab1=10;
02396     <span class="keywordtype">int</span> tab2=230;
02397     <span class="keywordtype">int</span> tab3=300;
02398     <span class="keywordtype">int</span> tab4=350;
02399     <span class="keywordtype">int</span> tab5=450;
02400     <span class="keywordtype">int</span> tab6=530;
02401     <span class="keywordtype">int</span> tab7=610;
02402     <span class="keywordtype">int</span> vtab1=15;
02403     <span class="keywordtype">int</span> vtab2=265;
02404     <span class="keywordtype">int</span> vtab3=270;
02405     <span class="keywordtype">int</span> vtab4=330;
02406     <span class="keyword">static</span> <span class="keywordtype">int</span> v11=1000,v12=1999,v13=8888;
02407     <span class="keyword">static</span> <span class="keywordtype">double</span> v21=663.23,v22=123.23,v23=17.23,v24=723.23,v25=13.23;
02408     <span class="keyword">static</span> <span class="keywordtype">int</span> v3=0;
02409     <span class="keyword">static</span> <span class="keywordtype">float</span> v4=0;
02410     <span class="keyword">static</span> <span class="keywordtype">int</span> sliderVar1=0;
02411     <span class="keyword">static</span> <span class="keywordtype">float</span> spinnerVar1=0.0;
02412     <span class="keyword">static</span> <span class="keywordtype">float</span> spinnerVar2=0.0;
02413     <span class="keyword">static</span> <span class="keywordtype">int</span> numSeriesData = HISTORY_YEAR_COUNT;
02414 
02415     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray1[2*HISTORY_YEAR_COUNT],
02416         dataArray2[2*HISTORY_YEAR_COUNT];
02417     <span class="keyword">static</span> <span class="keywordtype">int</span> xStart, xEnd;
02418 
02419     <span class="comment">//  Communicate with Sim Engine's Output</span>
02420     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;HISTORY_YEAR_COUNT;j++) {
02421         dataArray1[j]=student_office.available_bed_count[j];
02422         dataArray1[j+HISTORY_YEAR_COUNT]=student_office.occupied_bed_count[j];
02423         dataArray2[j]=student_office.tuition_rate_history[j];
02424         dataArray2[j+HISTORY_YEAR_COUNT]=student_office.room_n_board_rate_history[j];
02425     }
02426 
02427     v12=info.financial_year();
02428     v11=v12-1;
02429     v13=v12+1;
02430     v21=finance.expense_array[2].total;
02431     v22=finance.projected_expense_array[2].change_last_year.total;
02432     v23=finance.projected_expense_array[2].this_year.total;
02433     v24=finance.projected_expense_array[2].change_next_year.total;
02434     v25=finance.projected_expense_array[2].next_year.total;
02435     <span class="comment">//### fred 1112###//</span>
02436     v3= (int) student_office.percent_demanding_places_sl1;
02437     <span class="comment">//  v4=(float)(100.0*student_office.occupied_bed_count[THIS_YEAR]/enroll_res.student_count[UG_TRADITION]);</span>
02438     v4=(float)(100.0*student_office.occupied_bed_count[THIS_YEAR]/student_office.available_bed_count[THIS_YEAR]);
02440 
02441     <span class="keywordtype">int</span> field_space=8*font_chartsm.max_font_width;
02442 
02443     vga.use_back();
02444     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
02445         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
02446             <a class="code" href="classPlayerSchool.html#a27">summary_student_report_deinit</a>();
02447         report_init_flag =1;
02448 
02449         user_interface.bg_img(<a class="code" href="Ostd__sum_8cpp.html#a111a50">BG_PIC_ID</a>, &amp;vga_back);
02450         <span class="comment">//--------- draw the brightened boxes ------------//</span>
02451 
02452         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1, <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4);
02453 
02454         <span class="comment">/*              user_interface.rect(</span>
02455 <span class="comment">                        REPORT_X1, REPORT_Y1+vtab1,</span>
02456 <span class="comment">                        REPORT_X1+tab4+1, REPORT_Y1+vtab2+4);</span>
02457 <span class="comment">                        user_interface.rect(</span>
02458 <span class="comment">                        REPORT_X1+tab4+2, REPORT_Y1+vtab1,</span>
02459 <span class="comment">                        REPORT_X2-1, REPORT_Y1+vtab2+4);</span>
02460 <span class="comment">        */</span>
02461         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3-1, <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-1, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab4,1);
02462 
02463         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+7);
02464         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+7,1);
02465         font_charts.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+300,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-8,<span class="stringliteral">"Student Housing"</span>);
02466 
02467         <span class="comment">//-------- display static strings -----------//</span>
02468         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+25, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+10, mode_hall_str[0]);
02469         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+25, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+36, mode_hall_str[1]);
02470 
02471         <span class="keywordtype">short</span> x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
02472         <span class="keywordtype">short</span> y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
02473         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+2,<span class="stringliteral">"Department :"</span>);
02474         font_chartsm.put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>-10,y+30,<span class="stringliteral">"  Institution :"</span>);
02475         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
02476             type_button_group[i].create_text(x, y,
02477                                              x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
02478                                              reportTypeStrArray[i]);
02479 <span class="preprocessor">#if(GAME_VERSION&gt;=200)                        //  Turnover</span>
02480 <span class="preprocessor"></span>        type_button_group[i].create_text(x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y,
02481                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
02482                                          reportTypeStrArray[i]);
02483 <span class="preprocessor">#endif</span>
02484 <span class="preprocessor"></span>        x = <a class="code" href="Ostd__sum_8cpp.html#a117a65">BOTTOM_BUTTON_X1</a>;
02485         y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>+28;
02486 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02487 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 4; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
02488 <span class="preprocessor">#else</span>
02489 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 3; i &lt; 9; i++, x+=<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ostd__sum_8cpp.html#a119a84">BOTTOM_BUTTON_DISTANCE</a>)
02490 <span class="preprocessor">#endif</span>
02491 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,
02492                                                  x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>,
02493                                                  reportTypeStrArray[i]);
02494 
02495 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02496 <span class="preprocessor"></span>        y = <a class="code" href="Ostd__sum_8cpp.html#a117a66">BOTTOM_BUTTON_Y1</a>;
02497         type_button_group[i].create_text(x, y,
02498                                          x+<a class="code" href="Ostd__sum_8cpp.html#a119a81">BOTTOM_BUTTON_WIDTH</a>+10, y+<a class="code" href="Ostd__sum_8cpp.html#a119a83">BOTTOM_BUTTON_HEIGHT</a>+28,
02499                                          reportTypeStrArray[i]);
02500 <span class="preprocessor">#endif</span>
02501 <span class="preprocessor"></span>
02502         <span class="comment">//-------- graph title --------------//</span>
02503         mode_hall_graph1.<a class="code" href="classGraphNonFinancialYear.html#a2">init</a>(
02504             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1,
02505             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+1, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2+4,
02506             2, &amp;numSeriesData, dataArray1, 0,
02507             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, mode_hall_legend1, 1, 1, 1, 1);
02508 
02509         mode_hall_graph2.<a class="code" href="classGraphNonFinancialYear.html#a2">init</a>(
02510             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4-1, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1,
02511             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-1, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2+4,
02512             2, &amp;numSeriesData, dataArray2, 0,
02513             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, mode_hall_legend2, 1, 1, 1, 2); <span class="comment">//## chea200899 2.6.1</span>
02514 
02515         mode_hall_text.<a class="code" href="classText.html#a2">init</a>(
02516             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+500, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+10,
02517             &amp;v4,3);
02518         mode_hall_text.<a class="code" href="classText.html#a24">paint</a>();
02519 
02520         mode_hall_graph1.<a class="code" href="classGraphNonFinancialYear.html#a8">paint</a>();
02521         mode_hall_graph2.<a class="code" href="classGraphNonFinancialYear.html#a8">paint</a>();
02522 
02523         type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classPlayerSchool.html#m77">current_report_type</a>);
02524 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02525 <span class="preprocessor"></span>        <span class="comment">// draw the buttons into different color</span>
02526         <span class="keywordtype">int</span> x1, x2, y1, y2;
02527 
02528         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> z=3; z&lt;10; z++ ) {
02529             x1 = type_button_group[z].x1+1;
02530             x2 = type_button_group[z].x2+1;
02531             y1 = type_button_group[z].y1+1;
02532             y2 = type_button_group[z].y2-1;
02533 
02534             user_interface.rect(x1,y1,x2,y2,1,70);
02535         }
02536 <span class="preprocessor">#endif</span>
02537 <span class="preprocessor"></span>
02538         mode_hall_value_slider.<a class="code" href="classValueSlider.html#a2">init</a>(
02539             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+500, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+30,
02540             180,20,
02541             0, 100, &amp;v3, 1, <a class="code" href="COLOR_8H.html#a25">V_YELLOW</a>, 3);
02542         mode_hall_value_slider.<a class="code" href="classValueSlider.html#a7">refresh</a>();
02543         vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
02544     }
02545     <span class="keywordflow">else</span> {
02546         mode_hall_graph1.<a class="code" href="classGraphNonFinancialYear.html#a9">refresh</a>();
02547         mode_hall_graph2.<a class="code" href="classGraphNonFinancialYear.html#a9">refresh</a>();
02548         mode_hall_text.<a class="code" href="classText.html#a25">refresh</a>();
02549         vga.blt_buf(
02550             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1,
02551             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4-3, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2);
02552         vga.blt_buf(
02553             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab4+2, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab1,
02554             <a class="code" href="Ostd__sum_8cpp.html#a109a46">REPORT_X2</a>-1, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab2);
02555         vga.blt_buf(
02556             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+500, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+10,
02557             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+tab1+550, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+vtab3+28);
02558     }
02559 
02560     <span class="comment">//  mode_hall_value_slider.refresh();</span>
02561 
02562 }
02563 
02564 <span class="comment">//----- End of function report_FINANCIAL ---------//</span>
02565 <span class="comment">//----- End of Summary Report 6 ------//</span>
02567 <span class="comment"></span>
02568 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02569 <span class="preprocessor"></span><span class="comment">// --- Begin of function PlayerSchol::summer_student_report_7 --- //</span>
02570 <span class="comment">//</span>
02571 <span class="keywordtype">void</span> PlayerSchool::summary_student_report_7(<span class="keywordtype">int</span> refreshFlag) {
02572     vga.use_back();
02573 
02574     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
02575         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
02576             <a class="code" href="classPlayerSchool.html#a27">summary_student_report_deinit</a>();
02577         report_init_flag =1;
02578 
02579         user_interface.bg_img(<a class="code" href="Ostd__sum_8cpp.html#a111a50">BG_PIC_ID</a>, &amp;vga_back);
02580 
02581         <span class="keywordtype">int</span> VTAB6 = 30;
02582         <span class="keywordtype">int</span> TAB7  = 80;
02583         <span class="keywordtype">int</span> TAB8   = 70;
02584         <span class="keywordtype">int</span> TAB9  = 250;
02585 
02586         <span class="comment">// top title</span>
02587         user_interface.brighten(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+10);
02588         user_interface.rect(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+10,1);
02589         font_charts.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+100,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>-13,<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+630,<a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+10,<span class="stringliteral">"Student Admissions, Graduations, and Dropouts"</span>);
02590 
02591         <span class="keywordflow">if</span> ( is_year_end_report ) {
02592             <span class="comment">// Paint "Back" Button</span>
02593             mode_turnover_button.<a class="code" href="classButton.html#a10">create_text</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+270, <a class="code" href="Ostd__sum_8cpp.html#a116a64">BUTTON_Y1</a>,
02594                                              <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+390, <a class="code" href="Ostd__sum_8cpp.html#a116a64">BUTTON_Y1</a>+20,<span class="stringliteral">"Back"</span>,1); {
02595 
02596                 <span class="comment">// Paint "Next" Button</span>
02597                 mode_turnover_next_button.<a class="code" href="classButton.html#a10">create_text</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+410,<a class="code" href="Ostd__sum_8cpp.html#a116a64">BUTTON_Y1</a>,
02598                                                       <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+530, <a class="code" href="Ostd__sum_8cpp.html#a116a64">BUTTON_Y1</a>+20,<span class="stringliteral">"Next"</span>,1);
02599                 mode_turnover_next_button.<a class="code" href="classButton.html#a20">paint</a>();
02600             }
02601         }
02602         <span class="keywordflow">else</span> {
02603             <span class="comment">// Paint "Back" Button</span>
02604             mode_turnover_button.<a class="code" href="classButton.html#a10">create_text</a>(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+320, <a class="code" href="Ostd__sum_8cpp.html#a116a64">BUTTON_Y1</a>,
02605                                              <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+440, <a class="code" href="Ostd__sum_8cpp.html#a116a64">BUTTON_Y1</a>+20,<span class="stringliteral">"Back"</span>,1);
02606         }
02607 
02608         mode_turnover_button.<a class="code" href="classButton.html#a20">paint</a>();
02609 
02610         <span class="comment">// Display Table</span>
02611 
02612         <span class="comment">// Show Brighten Part</span>
02613         user_interface.brighten(
02614             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB8,
02615             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80,
02616             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*5,
02617             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+5*VTAB6+50
02618             );
02619 
02620         <span class="comment">// The leftmost Column</span>
02621         user_interface.rect(
02622             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB8,
02623             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80,
02624             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9,
02625             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+5*VTAB6+50,1
02626             );
02627 
02628         <span class="comment">// Columns</span>
02629         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0; i&lt;5; i++)
02630             user_interface.rect(
02631                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+i*TAB7,
02632                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80,
02633                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*(i+1),
02634                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+5*VTAB6+50,1);
02635 
02636         <span class="comment">// Rows</span>
02637         <span class="keywordflow">for</span>( i=0;i&lt;5; i++)
02638             user_interface.rect(
02639                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB8,
02640                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+i*VTAB6+50,
02641                 <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*5,
02642                 <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+(i+1)*VTAB6+50,1
02643                 );
02644 
02645         <span class="comment">// Print the titles on the table</span>
02646         <span class="comment">// Print row labels</span>
02647         <span class="keywordflow">for</span> ( i=0; i&lt;6; i++ )
02648             font_chartsm.put( <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB8+8,
02649                               <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+i*VTAB6+50-22,
02650                               mode_turnover_row_label[i] );
02651 
02652         <span class="comment">// Print upper column labels</span>
02653         <span class="keywordflow">for</span> ( i=0; i&lt;5; i++ ) {
02654             <span class="keywordflow">if</span> ( is_year_end_report || i!=1 ) {
02655                 <span class="keywordflow">if</span> ( is_year_end_report &amp;&amp; i==4 )
02656                     font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+i*TAB7,
02657                                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+50-40,
02658                                             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*(i+1),
02659                                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+50-23,
02660                                             <span class="stringliteral">"Target"</span>);
02661                 <span class="keywordflow">else</span>
02662                     font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+i*TAB7,
02663                                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+50-40,
02664                                             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*(i+1),
02665                                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+50-23,
02666                                             mode_turnover_label1[i]);
02667             }
02668         }
02669 
02670         <span class="comment">// Print lower column labels</span>
02671         <span class="keywordflow">for</span> ( i=0; i&lt;5; i++ ) {
02672             <span class="keywordflow">if</span> ( is_year_end_report || i!=1 ) {
02673                 font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+i*TAB7,
02674                                         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+50-22,
02675                                         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*(i+1),
02676                                         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+50,
02677                                         mode_turnover_label2[i]);
02678             }
02679             <span class="keywordflow">else</span> {
02680                 font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+i*TAB7,
02681                                         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+50-22,
02682                                         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*(i+1),
02683                                         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+50,
02684                                         <span class="stringliteral">"Admissions"</span> );
02685             }
02686         }
02687 
02688         <span class="comment">// Calculate data for year end report</span>
02689         <span class="keywordtype">int</span> bachelorDegree=0, nonUgDegree=0, masterDegree=0, doctorDegree=0;
02690         <span class="keywordtype">int</span> dropoutLocal[<a class="code" href="Ostudent_8h.html#a33a8">DEGREE_TYPE_COUNT</a>+1]={0,0,0,0};
02691         <span class="keywordtype">int</span> nonUgDropouts=0;
02692         <span class="keywordtype">int</span> totalPriorNo, totalAdmissionNo, totalDegreeNo, totalDropouts, totalNewNo;
02693 
02694         <span class="keywordflow">if</span> ( is_year_end_report ) {
02695             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=1; i&lt;=department_array.size(); i++ ) {
02696                 <span class="keywordflow">if</span> ( department_array.is_deleted(i) )
02697                     <span class="keywordflow">continue</span>;
02698 
02699                 <a class="code" href="classDepartment.html">Department</a>* deptPtr = department_array[i];
02700 
02701                 <span class="comment">// get total degree numbers</span>
02702                 bachelorDegree += deptPtr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.last_year_degree[0];
02703                 nonUgDegree   += deptPtr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.last_year_degree[1];
02704                 masterDegree  += deptPtr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.last_year_degree[2];
02705                 doctorDegree  += deptPtr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.last_year_degree[3];
02706 
02707                 <span class="comment">// get total dropout numbers</span>
02708                 <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=0; j&lt;4; j++ )
02709                     dropoutLocal[j] += deptPtr-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.last_year_dropout[j];
02710             }
02711 
02712             <a class="code" href="classGeneralDepartment.html">GeneralDepartment</a>* genDept = &amp;department_res.general_dept;
02713 
02714             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=0; j&lt;4; j++ )
02715                 dropoutLocal[j] += genDept-&gt;<a class="code" href="classGeneralDepartment.html#m0">student_array</a>.last_year_dropout[j];
02716 
02717             <span class="comment">// Calculate totals</span>
02718             totalPriorNo = enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a3">UG_TRADITION</a>]+
02719                 enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>]+
02720                 enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a5">MASTER</a>]+
02721                 enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a6">DOCTOR</a>];
02722 
02723             totalDegreeNo = bachelorDegree + nonUgDegree + masterDegree + doctorDegree;
02724 
02725             totalDropouts = dropoutLocal[0] + dropoutLocal[1] + dropoutLocal[2] + dropoutLocal[3];
02726 
02727             totalNewNo = enroll_res.target_enrollment[0]+enroll_res.target_enrollment[1]+enroll_res.target_enrollment[2]
02728                 + enroll_res.target_enrollment[3];
02729         }
02730         <span class="keywordflow">else</span> {
02731             <span class="comment">// Calculate dropouts of Nontraditional Undergraduates</span>
02732             nonUgDropouts = enroll_res.last_year_student_count[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>]+
02733                 enroll_res.total_matrics[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>]-
02734                 player_school.non_ug_bachelor_degree[7]-
02735                 enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>];
02736 
02737             <span class="comment">// not sure need modify. if need, not modify here</span>
02738             <span class="comment">// BUGHERE, setting of initial value of last_year_student_count for MASTER and DOCTOR</span>
02739             <span class="comment">//                  enroll_res.last_year_student_count[MASTER] =</span>
02740             <span class="comment">//                                          enroll_res.new_year_student_count[MASTER]-</span>
02741             <span class="comment">//                                          enroll_res.total_matrics[MASTER]+</span>
02742             <span class="comment">//                                          player_school.master_degree[7]+</span>
02743             <span class="comment">//                                          player_school.dropout_rate[MASTER_DEGREE][7];</span>
02744             <span class="comment">//</span>
02745             <span class="comment">//                  enroll_res.last_year_student_count[DOCTOR] =</span>
02746             <span class="comment">//                                          enroll_res.new_year_student_count[DOCTOR]-</span>
02747             <span class="comment">//                                          enroll_res.total_matrics[DOCTOR]+</span>
02748             <span class="comment">//                                          player_school.doctor_degree[7]+</span>
02749             <span class="comment">//                                          player_school.dropout_rate[DOCTOR_DEGREE][7];</span>
02750 
02751             <span class="comment">// Calculate total in each column</span>
02752             totalPriorNo = enroll_res.last_year_student_count[<a class="code" href="Ostudent_8h.html#a32a3">UG_TRADITION</a>]+
02753                 enroll_res.last_year_student_count[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>]+
02754                 enroll_res.last_year_student_count[<a class="code" href="Ostudent_8h.html#a32a5">MASTER</a>]+
02755                 enroll_res.last_year_student_count[<a class="code" href="Ostudent_8h.html#a32a6">DOCTOR</a>];
02756 
02757             totalAdmissionNo = enroll_res.total_matrics[<a class="code" href="Ostudent_8h.html#a32a3">UG_TRADITION</a>]+
02758                 enroll_res.total_matrics[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>]+
02759                 enroll_res.total_matrics[<a class="code" href="Ostudent_8h.html#a32a5">MASTER</a>]+
02760                 enroll_res.total_matrics[<a class="code" href="Ostudent_8h.html#a32a6">DOCTOR</a>];
02761 
02762             totalDegreeNo = player_school.bachelor_degree[7]+
02763                 player_school.non_ug_bachelor_degree[7]+
02764                 player_school.master_degree[7]+
02765                 player_school.doctor_degree[7];
02766 
02767             totalDropouts = player_school.dropout_rate[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][7]+
02768                 player_school.dropout_rate[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][7]+
02769                 player_school.dropout_rate[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][7];
02770 
02771             totalNewNo = enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a3">UG_TRADITION</a>]+
02772                 enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>]+
02773                 enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a5">MASTER</a>]+
02774                 enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a6">DOCTOR</a>];
02775         }
02776 
02777         <span class="comment">// Print out data on the table</span>
02778         <span class="keywordflow">for</span> ( i=0; i&lt;5; i++ ) {
02779             <span class="comment">// Prior year's enrollment</span>
02780             <span class="keywordtype">int</span> priorNo;
02781             <span class="keywordflow">if</span> ( is_year_end_report ) {
02782                 <span class="keywordflow">switch</span> (i) {
02783                 <span class="keywordflow">case</span> 0: priorNo = enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a3">UG_TRADITION</a>]; <span class="keywordflow">break</span>;
02784                 <span class="keywordflow">case</span> 1: priorNo = enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>]; <span class="keywordflow">break</span>;
02785                 <span class="keywordflow">case</span> 2: priorNo = enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a5">MASTER</a>]; <span class="keywordflow">break</span>;
02786                 <span class="keywordflow">case</span> 3: priorNo = enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a6">DOCTOR</a>]; <span class="keywordflow">break</span>;
02787                 <span class="keywordflow">case</span> 4: priorNo = totalPriorNo;
02788                 }
02789             }
02790             <span class="keywordflow">else</span> {
02791                 <span class="keywordflow">switch</span> (i) {
02792                 <span class="keywordflow">case</span> 0: priorNo = enroll_res.last_year_student_count[<a class="code" href="Ostudent_8h.html#a32a3">UG_TRADITION</a>]; <span class="keywordflow">break</span>;
02793                 <span class="keywordflow">case</span> 1:   priorNo = enroll_res.last_year_student_count[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>]; <span class="keywordflow">break</span>;
02794                 <span class="keywordflow">case</span> 2: priorNo = enroll_res.last_year_student_count[<a class="code" href="Ostudent_8h.html#a32a5">MASTER</a>]; <span class="keywordflow">break</span>;
02795                 <span class="keywordflow">case</span> 3: priorNo = enroll_res.last_year_student_count[<a class="code" href="Ostudent_8h.html#a32a6">DOCTOR</a>]; <span class="keywordflow">break</span>;
02796                 <span class="keywordflow">case</span> 4: priorNo = totalPriorNo;
02797                 }
02798             }
02799             font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2,
02800                                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+i*VTAB6+50,
02801                                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7,
02802                                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+(i+1)*VTAB6+50,
02803                                     m.format(priorNo));
02804 
02805             <span class="comment">// Admissions</span>
02806             <span class="keywordtype">int</span> admissionNo;
02807             <span class="keywordflow">if</span> ( !is_year_end_report ) {
02808                 <span class="keywordflow">switch</span> (i) {
02809                 <span class="keywordflow">case</span> 0: admissionNo = enroll_res.total_matrics[<a class="code" href="Ostudent_8h.html#a32a3">UG_TRADITION</a>]; <span class="keywordflow">break</span>;
02810                 <span class="keywordflow">case</span> 1: admissionNo = enroll_res.total_matrics[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>]; <span class="keywordflow">break</span>;
02811                 <span class="keywordflow">case</span> 2: admissionNo = enroll_res.total_matrics[<a class="code" href="Ostudent_8h.html#a32a5">MASTER</a>]; <span class="keywordflow">break</span>;
02812                 <span class="keywordflow">case</span> 3: admissionNo = enroll_res.total_matrics[<a class="code" href="Ostudent_8h.html#a32a6">DOCTOR</a>]; <span class="keywordflow">break</span>;
02813                 <span class="keywordflow">case</span> 4: admissionNo = totalAdmissionNo;
02814                 }
02815 
02816                 font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+TAB7,
02817                                         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+i*VTAB6+50,
02818                                         <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*2,
02819                                         <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+(i+1)*VTAB6+50,
02820                                         m.format(admissionNo));
02821             }
02822             <span class="keywordflow">else</span> {
02823                 <span class="keywordflow">if</span> ( i == 4 ) {                           <span class="comment">// total</span>
02824                     <span class="keywordtype">int</span> totalTarget=0;
02825 
02826                     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> z=0; z&lt;4; z++ )
02827                         totalTarget += enroll_res.target_student_intake[z];
02828 
02829                     font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+TAB7,
02830                                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+i*VTAB6+50,
02831                                             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*2,
02832                                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+(i+1)*VTAB6+50,
02833                                             m.format(totalTarget) );
02834                 }
02835                 <span class="keywordflow">else</span> {
02836                     font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+TAB7,
02837                                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+i*VTAB6+50,
02838                                             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*2,
02839                                             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+(i+1)*VTAB6+50,
02840                                             m.format(enroll_res.target_student_intake[i]));
02841                 }
02842             }
02843 
02844             <span class="comment">// Graduations</span>
02845             <span class="keywordtype">int</span> degreeNo;
02846             <span class="keywordflow">if</span> ( is_year_end_report ) {
02847                 <span class="keywordflow">switch</span> (i) {
02848                 <span class="keywordflow">case</span> 0:   degreeNo = bachelorDegree; <span class="keywordflow">break</span>;
02849                 <span class="keywordflow">case</span> 1:   degreeNo = nonUgDegree;   <span class="keywordflow">break</span>;
02850                 <span class="keywordflow">case</span> 2:   degreeNo = masterDegree;  <span class="keywordflow">break</span>;
02851                 <span class="keywordflow">case</span> 3:   degreeNo = doctorDegree;  <span class="keywordflow">break</span>;
02852                 <span class="keywordflow">case</span> 4:   degreeNo = totalDegreeNo;
02853                 }
02854             }
02855             <span class="keywordflow">else</span> {
02856                 <span class="keywordflow">switch</span> (i) {
02857                 <span class="keywordflow">case</span> 0:   degreeNo = player_school.bachelor_degree[7]; <span class="keywordflow">break</span>;
02858                 <span class="keywordflow">case</span> 1:   degreeNo = player_school.non_ug_bachelor_degree[7]; <span class="keywordflow">break</span>;
02859                 <span class="keywordflow">case</span> 2:   degreeNo = player_school.master_degree[7]; <span class="keywordflow">break</span>;
02860                 <span class="keywordflow">case</span> 3:   degreeNo = player_school.doctor_degree[7]; <span class="keywordflow">break</span>;
02861                 <span class="keywordflow">case</span> 4:   degreeNo = totalDegreeNo;
02862                 }
02863             }
02864             font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+TAB7*2,
02865                                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+i*VTAB6+50,
02866                                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*3,
02867                                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+(i+1)*VTAB6+50,
02868                                     m.format(degreeNo));
02869 
02870             <span class="comment">// Dropouts</span>
02871             <span class="keywordtype">int</span> dropoutNo;
02872             <span class="keywordflow">if</span> ( is_year_end_report ) {
02873                 <span class="keywordflow">switch</span> (i) {
02874                 <span class="keywordflow">case</span> 0:   dropoutNo = dropoutLocal[0]; <span class="keywordflow">break</span>;
02875                 <span class="keywordflow">case</span> 1:   dropoutNo = dropoutLocal[1];    <span class="keywordflow">break</span>;
02876                 <span class="keywordflow">case</span> 2:   dropoutNo = dropoutLocal[2];  <span class="keywordflow">break</span>;
02877                 <span class="keywordflow">case</span> 3:   dropoutNo = dropoutLocal[3];  <span class="keywordflow">break</span>;
02878                 <span class="keywordflow">case</span> 4:   dropoutNo = totalDropouts;
02879                 }
02880             }
02881             <span class="keywordflow">else</span> {
02882                 <span class="keywordflow">switch</span> (i) {
02883                 <span class="keywordflow">case</span> 0:   dropoutNo = player_school.dropout_rate[<a class="code" href="Ostudent_8h.html#a33a9">BACHELOR_DEGREE</a>][7]-nonUgDropouts; <span class="keywordflow">break</span>;
02884                 <span class="keywordflow">case</span> 1:   dropoutNo = nonUgDropouts; <span class="keywordflow">break</span>;
02885                 <span class="keywordflow">case</span> 2:   dropoutNo = player_school.dropout_rate[<a class="code" href="Ostudent_8h.html#a33a10">MASTER_DEGREE</a>][7]; <span class="keywordflow">break</span>;
02886                 <span class="keywordflow">case</span> 3:   dropoutNo = player_school.dropout_rate[<a class="code" href="Ostudent_8h.html#a33a11">DOCTOR_DEGREE</a>][7]; <span class="keywordflow">break</span>;
02887                 <span class="keywordflow">case</span> 4:   dropoutNo = totalDropouts;
02888                 }
02889             }
02890             font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+TAB7*3,
02891                                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+i*VTAB6+50,
02892                                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*4,
02893                                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+(i+1)*VTAB6+50,
02894                                     m.format(dropoutNo));
02895 
02896             <span class="comment">// New enrollment</span>
02897             <span class="keywordtype">int</span> newNo;
02898             <span class="keywordflow">switch</span> (i) {
02899             <span class="keywordflow">case</span> 0: newNo = enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a3">UG_TRADITION</a>]; <span class="keywordflow">break</span>;
02900             <span class="keywordflow">case</span> 1:   newNo = enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a4">UG_NONTRADITION</a>]; <span class="keywordflow">break</span>;
02901             <span class="keywordflow">case</span> 2: newNo = enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a5">MASTER</a>]; <span class="keywordflow">break</span>;
02902             <span class="keywordflow">case</span> 3: newNo = enroll_res.new_year_student_count[<a class="code" href="Ostudent_8h.html#a32a6">DOCTOR</a>]; <span class="keywordflow">break</span>;
02903             <span class="keywordflow">case</span> 4:  newNo = totalNewNo;
02904             }
02905 
02906             <span class="keywordflow">if</span> ( is_year_end_report ) {
02907                 <span class="keywordflow">switch</span> (i) {
02908                 <span class="keywordflow">case</span> 0: newNo -= bachelorDegree+dropoutLocal[0]; <span class="keywordflow">break</span>;
02909                 <span class="keywordflow">case</span> 1: newNo -= nonUgDegree+dropoutLocal[1]; <span class="keywordflow">break</span>;
02910                 <span class="keywordflow">case</span> 2: newNo -= masterDegree+dropoutLocal[2];  <span class="keywordflow">break</span>;
02911                 <span class="keywordflow">case</span> 3: newNo -= doctorDegree+dropoutLocal[3];  <span class="keywordflow">break</span>;
02912                 }
02913                 newNo += enroll_res.target_student_intake[i];
02914             }
02915 
02916             font_chartsm.center_put(<a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9-2+TAB7*4,
02917                                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+i*VTAB6+50,
02918                                     <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+TAB9+TAB7*5,
02919                                     <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a118a76">VTAB1</a>+80+(i+1)*VTAB6+50,
02920                                     m.format(newNo));
02921         }
02922     }
02923 
02924     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
02925     vga.use_front();
02926 }
02927 
02928 <span class="comment">//</span>
02929 <span class="comment">// --- End of function PlayerSchool::summer_student_report_7 --- //</span>
02930 <span class="preprocessor">#endif</span>
02931 <span class="preprocessor"></span>
02932 <span class="comment">//----- Begin of function FacultySummary::student_report ------//</span>
<a name="l02936"></a><a class="code" href="classPlayerSchool.html#a18">02936</a> <span class="comment">void PlayerSchool::summary_student_report(int refreshFlag) {</span>
02937     <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a52">REPORT_TYPE_DEPARTMENT_PROFILE1</a>) {
02938         sys.is_institution_report=0;
02939         current_report_mode=<a class="code" href="Ostd__sum_8cpp.html#a115a63">REPORT_MODE_DEPARTMENT</a>;
02940         summary_student_report_1(refreshFlag);
02941     }
02942     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a53">REPORT_TYPE_DEPARTMENT_PROFILE2</a>) {
02943         sys.is_institution_report=0;
02944         current_report_mode=<a class="code" href="Ostd__sum_8cpp.html#a115a63">REPORT_MODE_DEPARTMENT</a>;
02945         summary_student_report_2(refreshFlag);
02946     }
02947     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a54">REPORT_TYPE_DEPARTMENT_ACTIVITIES</a>) {
02948         sys.is_institution_report=0;
02949         current_report_mode=<a class="code" href="Ostd__sum_8cpp.html#a115a63">REPORT_MODE_DEPARTMENT</a>;
02950         summary_student_report_3(refreshFlag);
02951     }
02952     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a55">REPORT_TYPE_INSTITUTION_PROFILE1</a>) {
02953         sys.is_institution_report=1;
02954         current_report_mode=<a class="code" href="Ostd__sum_8cpp.html#a115a62">REPORT_MODE_INSTITUTION</a>;
02955         summary_student_report_1(refreshFlag);
02956     }
02957     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a56">REPORT_TYPE_INSTITUTION_PROFILE2</a>) {
02958         sys.is_institution_report=1;
02959         current_report_mode=<a class="code" href="Ostd__sum_8cpp.html#a115a62">REPORT_MODE_INSTITUTION</a>;
02960         summary_student_report_2(refreshFlag);
02961     }
02962     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a57">REPORT_TYPE_INSTITUTION_ACTIVITIES</a>) {
02963         sys.is_institution_report=1;
02964         current_report_mode=<a class="code" href="Ostd__sum_8cpp.html#a115a62">REPORT_MODE_INSTITUTION</a>;
02965         summary_student_report_3(refreshFlag);
02966     }
02967     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a58">REPORT_TYPE_INSTITUTION_UNDERGRADUATE</a>) {
02968         sys.is_institution_report=1;
02969         current_report_mode=<a class="code" href="Ostd__sum_8cpp.html#a115a62">REPORT_MODE_INSTITUTION</a>;
02970         summary_student_report_4(refreshFlag);
02971     }
02972     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a59">REPORT_TYPE_FINANCE</a>) {
02973         sys.is_institution_report=1;
02974         current_report_mode=<a class="code" href="Ostd__sum_8cpp.html#a115a62">REPORT_MODE_INSTITUTION</a>;
02975         summary_student_report_5(refreshFlag);
02976     }
02977     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a60">REPORT_TYPE_RESIDENCE_HALL</a>) {
02978         sys.is_institution_report=1;
02979         current_report_mode=<a class="code" href="Ostd__sum_8cpp.html#a115a62">REPORT_MODE_INSTITUTION</a>;
02980         summary_student_report_6(refreshFlag);
02981     }
02982 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02983 <span class="preprocessor"></span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (current_report_type==REPORT_TYPE_TURNOVER) {
02984         sys.is_institution_report = 1;
02985         current_report_mode=<a class="code" href="Ostd__sum_8cpp.html#a115a62">REPORT_MODE_INSTITUTION</a>;
02986         summary_student_report_7(refreshFlag);
02987     }
02988 <span class="preprocessor">#endif</span>
02989 <span class="preprocessor"></span>}
02990 
02991 <span class="comment">//------- End of function FacultySummary::report ------//</span>
02992 
02993 <span class="comment">//----- Begin of function FacultySummary::student_report_detect ------//</span>
<a name="l02995"></a><a class="code" href="classPlayerSchool.html#a26">02995</a> <span class="comment">int PlayerSchool::summary_student_report_detect() {</span>
02996     vga.use_front();
02997 
02998 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02999 <span class="preprocessor"></span>    <span class="keywordflow">if</span> ( current_report_type == REPORT_TYPE_TURNOVER ) {
03000         <span class="keywordflow">if</span> ( is_year_end_report ) {
03001             <span class="keywordflow">if</span> ( mode_turnover_button.<a class="code" href="classButton.html#a21">detect</a>() )
03002                 <span class="keywordflow">return</span> 1;
03003             <span class="keywordflow">else</span>
03004                 <span class="keywordflow">if</span> ( mode_turnover_next_button.<a class="code" href="classButton.html#a21">detect</a>() )
03005                     <span class="keywordflow">return</span> 2;
03006                 <span class="keywordflow">else</span>
03007                     <span class="keywordflow">return</span> 0;
03008         }
03009 
03010         <span class="keywordflow">if</span> (mode_turnover_button.<a class="code" href="classButton.html#a21">detect</a>()) {
03011             current_report_type = <a class="code" href="Ostd__sum_8cpp.html#a113a55">REPORT_TYPE_INSTITUTION_PROFILE1</a>;
03012             sys.redraw_all_flag=1;
03013         }
03014         <span class="keywordflow">return</span> 1;
03015     }
03016 <span class="preprocessor">#endif</span>
03017 <span class="preprocessor"></span>
03018     <span class="comment">//------- detect type buttons --------//</span>
03019     <span class="keywordtype">int</span> summaryButtonGroupDetect;
03020 
03021     <span class="keywordflow">if</span>((summaryButtonGroupDetect = type_button_group.<a class="code" href="classButtonGroup.html#a4">detect</a>()) &gt;= 0) {
03022         <span class="comment">//              type_button_group[current_report_type].body_ptr = (void *) (type_button_up_bitmap[current_report_type] + 4);</span>
03023         current_report_type = summaryButtonGroupDetect;
03024         <span class="comment">//              type_button_group[current_report_type].body_ptr = (void *) (type_button_down_bitmap[current_report_type] + 4);</span>
03025         sys.redraw_all_flag = 1;
03026         <span class="keywordflow">return</span> 1;
03027     }
03028 
03029     <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a59">REPORT_TYPE_FINANCE</a>) {
03030         help.set_help(
03031             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>,
03032             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+65,
03033             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+30,
03034             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+95,
03035             <span class="stringliteral">"H2.1.1."</span>);
03036         help.set_help(
03037             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a94">MODE_FINANCIAL_TAB4</a>,
03038             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+175,
03039             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a95">MODE_FINANCIAL_TAB5</a>+30,
03040             <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+<a class="code" href="Ostd__sum_8cpp.html#a120a85">MODE_FINANCIAL_BOX1_HEIGHT</a>+205,
03041             <span class="stringliteral">"H2.1.2."</span>);
03042         help.set_help(
03043             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>,<a class="code" href="Ostd__sum_8cpp.html#a121a98">FINANCIAL_BUTTON_Y1</a>-40,
03044             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a>,<a class="code" href="Ostd__sum_8cpp.html#a121a98">FINANCIAL_BUTTON_Y1</a>-40+<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>,
03045             <span class="stringliteral">"H2.1.3."</span>);
03046         help.set_help(
03047             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>,<a class="code" href="Ostd__sum_8cpp.html#a121a98">FINANCIAL_BUTTON_Y1</a>-40+<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a>,
03048             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a>,<a class="code" href="Ostd__sum_8cpp.html#a121a98">FINANCIAL_BUTTON_Y1</a>-40+2*<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a>,
03049             <span class="stringliteral">"H2.1.4."</span>);
03050         help.set_help(
03051             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>,<a class="code" href="Ostd__sum_8cpp.html#a121a98">FINANCIAL_BUTTON_Y1</a>-40+2*<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>+2*<a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a>,
03052             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a>,<a class="code" href="Ostd__sum_8cpp.html#a121a98">FINANCIAL_BUTTON_Y1</a>-40+3*<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>+2*<a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a>,
03053             <span class="stringliteral">"H2.1.5."</span>);
03054         help.set_help(
03055             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>,<a class="code" href="Ostd__sum_8cpp.html#a122a101">FINANCIAL_BUTTON2_Y1</a>-60,
03056             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a>,<a class="code" href="Ostd__sum_8cpp.html#a122a101">FINANCIAL_BUTTON2_Y1</a>-60+<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>,
03057             <span class="stringliteral">"H2.1.3."</span>);
03058         help.set_help(
03059             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>,<a class="code" href="Ostd__sum_8cpp.html#a122a101">FINANCIAL_BUTTON2_Y1</a>-60+<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a>,
03060             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a>,<a class="code" href="Ostd__sum_8cpp.html#a122a101">FINANCIAL_BUTTON2_Y1</a>-60+2*<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a>,
03061             <span class="stringliteral">"H2.1.4."</span>);
03062         help.set_help(
03063             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>,<a class="code" href="Ostd__sum_8cpp.html#a122a101">FINANCIAL_BUTTON2_Y1</a>-60+2*<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>+2*<a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a>,
03064             <a class="code" href="Ostd__sum_8cpp.html#a121a97">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Ostd__sum_8cpp.html#a123a103">FINANCIAL_BUTTON_WIDTH</a>,<a class="code" href="Ostd__sum_8cpp.html#a122a101">FINANCIAL_BUTTON2_Y1</a>-60+3*<a class="code" href="Ostd__sum_8cpp.html#a123a104">FINANCIAL_BUTTON_HEIGHT</a>+2*<a class="code" href="Ostd__sum_8cpp.html#a123a105">FINANCIAL_BUTTON_DISTANCE</a>,
03065             <span class="stringliteral">"H2.1.5."</span>);
03066 
03067         <span class="keywordflow">if</span> (financial_spinner_budget1.<a class="code" href="classSpinner.html#a6">detect</a>()) {
03068             financial_spinner_budget1.<a class="code" href="classSpinner.html#a4">paint</a>();
03069             <span class="keywordflow">return</span> 1;
03070         }
03071         <span class="keywordflow">if</span> (financial_spinner_budget2.<a class="code" href="classSpinner.html#a6">detect</a>()) {
03072             financial_spinner_budget2.<a class="code" href="classSpinner.html#a4">paint</a>();
03073             <span class="keywordflow">return</span> 1;
03074         }
03075         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++) {
03076             <span class="keywordflow">if</span>(financial_button_group1[i].<a class="code" href="classButtonGroup.html#a4">detect</a>()) {
03077                 financial_button_group1[i].body_ptr =
03078                     (<span class="keywordtype">void</span> *) (financial_button1_down_bitmap[i] + 4);
03079                 <span class="comment">//      Communicate with Sim Engine</span>
03080                 finance.change_budget(i,<span class="keyword">true</span>, <a class="code" href="Ofinance_8h.html#a101a32">AC_GROSS_TUITION_INCOME</a>,(*financial_spinner_budget1.<a class="code" href="classSpinner.html#m7">var_ptr</a>));
03081                 <span class="comment">//##    begin   zhoubin 000329</span>
03082                 *financial_spinner_budget1.<a class="code" href="classSpinner.html#m7">var_ptr</a>=0;
03083                 <span class="comment">//##    end     zhoubin 000329</span>
03084             }
03085             <span class="keywordflow">if</span>(financial_button_group2[i].<a class="code" href="classButtonGroup.html#a4">detect</a>()) {
03086                 financial_button_group2[i].body_ptr =
03087                     (<span class="keywordtype">void</span> *) (financial_button2_down_bitmap[i] + 4);
03088                 <span class="comment">//      Communicate with Sim Engine</span>
03089                 finance.change_budget(i,<span class="keyword">false</span>, <a class="code" href="Ofinance_8h.html#a104a49">AC_STUDENT_LIFE</a>,(*financial_spinner_budget2.<a class="code" href="classSpinner.html#m7">var_ptr</a>));
03090                 <span class="comment">//##    begin   zhoubin 000329</span>
03091                 *financial_spinner_budget2.<a class="code" href="classSpinner.html#m7">var_ptr</a>=0;
03092                 <span class="comment">//##    end     zhoubin 000329</span>
03093             }
03094         }
03095     }
03096 
03097     <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ostd__sum_8cpp.html#a113a60">REPORT_TYPE_RESIDENCE_HALL</a>) {
03098         help.set_help(
03099             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+35, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+300,
03100             <a class="code" href="Ostd__sum_8cpp.html#a109a44">REPORT_X1</a>+690, <a class="code" href="Ostd__sum_8cpp.html#a109a45">REPORT_Y1</a>+320,
03101             <span class="stringliteral">"H2.2.1."</span>);
03102         vga.use_back();
03103         <span class="keywordflow">if</span> (mode_hall_value_slider.<a class="code" href="classValueSlider.html#a8">detect</a>()) {
03104             <span class="comment">//student_office.targe_sl1_in_hall_percent=*(mode_hall_value_slider.var_ptr);               //### fred ###//</span>
03105             <span class="comment">//### fred 1009###//</span>
03106             student_office.percent_demanding_places_sl1= (float) *(mode_hall_value_slider.<a class="code" href="classValueSlider.html#m7">var_ptr</a>);
03107             <span class="keywordflow">return</span> 1;
03108         }
03109     }
03110 
03111     <span class="keywordflow">return</span> 0;
03112 }
03113 
03114 <span class="comment">//------- End of function FacultySummary::student_report_detect ------//</span>
03115 
<a name="l03116"></a><a class="code" href="classPlayerSchool.html#a27">03116</a> <span class="keywordtype">void</span> <a class="code" href="classPlayerSchool.html#a27">PlayerSchool::summary_student_report_deinit</a>() {
03117     <span class="keywordflow">if</span>(report_init_flag==0)<span class="keywordflow">return</span>;
03118 
03119     <span class="keywordflow">if</span> (text_refresh_bitmap1) {
03120         <a class="code" href="ALL_8H.html#a8">mem_del</a>(text_refresh_bitmap1);
03121         text_refresh_bitmap1=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
03122     }
03123     <span class="comment">//------- deinit type buttons --------//</span>
03124     <span class="comment">/*  if (*type_button_up_bitmap)</span>
03125 <span class="comment">        {</span>
03126 <span class="comment">        for (int i = 0; i &lt; 9; i++)</span>
03127 <span class="comment">        {</span>
03128 <span class="comment">        mem_del(type_button_up_bitmap[i]);</span>
03129 <span class="comment">        mem_del(type_button_down_bitmap[i]);</span>
03130 <span class="comment">        type_button_up_bitmap[i] = NULL;</span>
03131 <span class="comment">        type_button_down_bitmap[i] = NULL;</span>
03132 <span class="comment">        }</span>
03133 <span class="comment">        }</span>
03134 <span class="comment">    */</span>
03135     std_sum_rank_piechart.<a class="code" href="classPieChart.html#a11">deinit</a>();
03136     std_sum_gender_ethnic_piechart.<a class="code" href="classPieChart.html#a11">deinit</a>();
03137 
03138     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;14;i++) {
03139         mode_std_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a7">deinit</a>();
03140 
03141 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
03142 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( i != 3 )
03143 <span class="preprocessor">#endif</span>
03144 <span class="preprocessor"></span>
03145             <span class="keywordflow">if</span>( !(i==4 || i==5 || i==7 || i==8) )       <span class="comment">// these graphs have been removed.</span>
03146                 mode_std_sum_graphicon_y[i].<a class="code" href="classGraphPerformanceIndicatorYear.html#a7">deinit</a>();
03147 
03148         mode_std_sum_graphicon_m[i].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a7">deinit</a>();
03149         std_sum_text[i].<a class="code" href="classText.html#a26">deinit</a>();
03150         std_sum_text2[i].<a class="code" href="classText.html#a26">deinit</a>();
03151     }
03152 
03153     <span class="comment">// ##### begin Gilbert 27/04/2001 #####//</span>
03154     financial_button_group1.<a class="code" href="classButtonGroup.html#a2">deinit_buttons</a>();
03155     financial_button_group2.<a class="code" href="classButtonGroup.html#a2">deinit_buttons</a>();
03156     <span class="comment">// ##### end Gilbert 27/04/2001 #####//</span>
03157 
03158     <span class="keywordflow">if</span> (*financial_button1_up_bitmap)
03159         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; 3; k++) {
03160             <a class="code" href="ALL_8H.html#a8">mem_del</a>(financial_button1_up_bitmap[k]);
03161             financial_button1_up_bitmap[k] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
03162         }
03163 
03164     <span class="keywordflow">if</span> (*financial_button1_down_bitmap)
03165         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; 3; k++) {
03166             <a class="code" href="ALL_8H.html#a8">mem_del</a>(financial_button1_down_bitmap[k]);
03167             financial_button1_down_bitmap[k] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
03168         }
03169 
03170     <span class="keywordflow">if</span> (*financial_button2_up_bitmap)
03171         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; 3; k++) {
03172             <a class="code" href="ALL_8H.html#a8">mem_del</a>(financial_button2_up_bitmap[k]);
03173             financial_button2_up_bitmap[k] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
03174         }
03175 
03176     <span class="keywordflow">if</span> (*financial_button2_down_bitmap)
03177         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; 3; k++) {
03178             <a class="code" href="ALL_8H.html#a8">mem_del</a>(financial_button2_down_bitmap[k]);
03179             financial_button2_down_bitmap[k] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
03180         }
03181 
03182     <span class="keywordflow">if</span> (mode_financial_stats_bitmap) {
03183         <a class="code" href="ALL_8H.html#a8">mem_del</a>(mode_financial_stats_bitmap);
03184         mode_financial_stats_bitmap = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
03185     }
03186 
03187     mode_financial_text.<a class="code" href="classText.html#a26">deinit</a>();
03188     mode_financial_graph_profitloss1.<a class="code" href="classGraphYear.html#a7">deinit</a>();
03189     mode_financial_graph_profitloss2.<a class="code" href="classGraphYear.html#a7">deinit</a>();
03190     mode_financial_graphicon.<a class="code" href="classGraphPerformanceIndicatorMonth.html#a7">deinit</a>();
03191 
03192     mode_hall_graph1.<a class="code" href="classGraphNonFinancialYear.html#a7">deinit</a>();
03193     mode_hall_graph2.<a class="code" href="classGraphNonFinancialYear.html#a7">deinit</a>();
03194     mode_hall_text.<a class="code" href="classText.html#a26">deinit</a>();
03195 
03196     <span class="comment">//### begin zb 02/23/99</span>
03197     financial_spinner_budget1.<a class="code" href="classSpinner.html#a3">deinit</a>();
03198     financial_spinner_budget2.<a class="code" href="classSpinner.html#a3">deinit</a>();
03199     <span class="comment">//### end zb 02/23/99</span>
03200 
03201     <span class="comment">// ##### begin Gilbert 27/04/2001 #####//</span>
03202     mode_hall_value_slider.<a class="code" href="classValueSlider.html#a5">deinit</a>();
03203     type_button_group.<a class="code" href="classButtonGroup.html#a2">deinit_buttons</a>();
03204     <span class="comment">// ##### end Gilbert 27/04/2001 #####//</span>
03205 
03206     report_init_flag=0;
03207 }
03208 
03209 <span class="comment">//------- End of function FacultySummary::student_report_deinit ------//</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:38:25 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
