<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OVGA.H Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>OVGA.H</h1><a href="OVGA_8H.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : OVGA.H</span>
00002 <span class="comment">//Description : Header file for class OVGA (Direct Draw version)</span>
00003 
00004 <span class="preprocessor">#ifndef __OVGA_H</span>
00005 <span class="preprocessor"></span><span class="preprocessor">#define __OVGA_H</span>
00006 <span class="preprocessor"></span>
00007 <span class="preprocessor">#ifndef __OVGABUF_H</span>
00008 <span class="preprocessor"></span><span class="preprocessor">#include &lt;OVGABUF.H&gt;</span>
00009 <span class="preprocessor">#endif</span>
00010 <span class="preprocessor"></span>
00011 <span class="preprocessor">#ifndef __COLOR_H</span>
00012 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="COLOR_8H.html">COLOR.H</a>&gt;</span>
00013 <span class="preprocessor">#endif</span>
00014 <span class="preprocessor"></span>
00015 <span class="comment">//----------- define constants ----------//</span>
00016 
<a name="l00017"></a><a class="code" href="OVGA_8H.html#a0">00017</a> <span class="preprocessor">#define VGA_WIDTH             800</span>
<a name="l00018"></a><a class="code" href="OVGA_8H.html#a1">00018</a> <span class="preprocessor"></span><span class="preprocessor">#define VGA_HEIGHT            600</span>
<a name="l00019"></a><a class="code" href="OVGA_8H.html#a2">00019</a> <span class="preprocessor"></span><span class="preprocessor">#define VGA_BPP                16</span>
00020 <span class="preprocessor"></span>
<a name="l00021"></a><a class="code" href="OVGA_8H.html#a3">00021</a> <span class="preprocessor">#define MAX_BRIGHTNESS_ADJUST_DEGREE  32</span>
00022 <span class="preprocessor"></span>
00023 <span class="comment">//----------- Define constant -------------//</span>
00024 
<a name="l00025"></a><a class="code" href="OVGA_8H.html#a4">00025</a> <span class="preprocessor">#define IF_LIGHT_BORDER_COLOR     V_WHITE</span>
<a name="l00026"></a><a class="code" href="OVGA_8H.html#a5">00026</a> <span class="preprocessor"></span><span class="preprocessor">#define IF_DARK_BORDER_COLOR     V_BLACK</span>
<a name="l00027"></a><a class="code" href="OVGA_8H.html#a6">00027</a> <span class="preprocessor"></span><span class="preprocessor">#define IF_UP_BRIGHTNESS_ADJUST  5</span>
<a name="l00028"></a><a class="code" href="OVGA_8H.html#a7">00028</a> <span class="preprocessor"></span><span class="preprocessor">#define IF_DOWN_BRIGHTNESS_ADJUST 6</span>
00029 <span class="preprocessor"></span>
00030 <span class="comment">//-------- Define macro functions ---------//</span>
00031 
<a name="l00032"></a><a class="code" href="OVGA_8H.html#a8">00032</a> <span class="preprocessor">#define get_bitmap_width(bitmapPtr)  (*(short*)bitmapPtr)</span>
<a name="l00033"></a><a class="code" href="OVGA_8H.html#a9">00033</a> <span class="preprocessor"></span><span class="preprocessor">#define get_bitmap_height(bitmapPtr) (*((short*)bitmapPtr+1))</span>
00034 <span class="preprocessor"></span>
00035 <span class="comment">//-------- Define class Vga ----------------//</span>
00036 
<a name="l00037"></a><a class="code" href="OVGA_8H.html#a10">00037</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="OVGA_8H.html#a10">BYTE</a>;
00038 
00039 <span class="keyword">struct </span><a class="code" href="structRGBColor.html">RGBColor</a>;
00040 <span class="keyword">class </span><a class="code" href="classColorTable.html">ColorTable</a>;
00041 <span class="keyword">class </span><a class="code" href="classVgaCustomPalette.html">VgaCustomPalette</a>;
00042 
<a name="l00044"></a><a class="code" href="classVga.html">00044</a> <span class="keyword">class </span><a class="code" href="classVga.html">Vga</a> {
00045 <span class="keyword">public</span>:
<a name="l00046"></a><a class="code" href="classVga.html#m0">00046</a>     LPDIRECTDRAW4     <a class="code" href="classVga.html#m0">dd_obj</a>;
<a name="l00047"></a><a class="code" href="classVga.html#m1">00047</a>     LPDIRECTDRAWPALETTE <a class="code" href="classVga.html#m1">dd_pal</a>;
00048 
<a name="l00049"></a><a class="code" href="classVga.html#m2">00049</a>     PALETTEENTRY        <a class="code" href="classVga.html#m2">pal_entry_buf</a>[256];
00050 
<a name="l00051"></a><a class="code" href="classVga.html#m3">00051</a>     <a class="code" href="classColorTable.html">ColorTable</a>*       <a class="code" href="classVga.html#m3">vga_color_table</a>;
<a name="l00052"></a><a class="code" href="classVga.html#m4">00052</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>     <a class="code" href="classVga.html#m4">gray_remap_table</a>[256];
<a name="l00053"></a><a class="code" href="classVga.html#m5">00053</a>     <span class="keywordtype">int</span>             <a class="code" href="classVga.html#m5">pixel_format_flag</a>;            <span class="comment">// see IMGFUN.H       // new for 16-bit</span>
<a name="l00054"></a><a class="code" href="classVga.html#m6">00054</a>     <span class="keywordtype">short</span> *         <a class="code" href="classVga.html#m6">default_remap_table</a>;          <span class="comment">// new for 16-bit</span>
00055 
<a name="l00056"></a><a class="code" href="classVga.html#m7">00056</a>     <a class="code" href="classVgaCustomPalette.html">VgaCustomPalette</a>*   <a class="code" href="classVga.html#m7">back_up_pal</a>;
00057 
00058     <span class="keyword">static</span> <a class="code" href="classVgaBuf.html">VgaBuf</a>*      <a class="code" href="classVga.html#p0">active_buf</a>;
00059     <span class="keyword">static</span> <span class="keywordtype">char</span>       <a class="code" href="classVga.html#p1">use_back_buf</a>;
00060     <span class="keyword">static</span> <span class="keywordtype">char</span>       <a class="code" href="classVga.html#p2">opaque_flag</a>;
00061 
00062 <span class="keyword">public</span>:
00063     <a class="code" href="classVga.html#a0">Vga</a>();
00064     <a class="code" href="classVga.html#a1">~Vga</a>();
00065 
<a name="l00066"></a><a class="code" href="classVga.html#m8">00066</a>     <span class="keywordtype">char</span>  <a class="code" href="classVga.html#m8">dont_blt</a>;                               <span class="comment">// chwg021999</span>
00067 
00068     BOOL   <a class="code" href="classVga.html#a2">init</a>();
00069     BOOL   <a class="code" href="classVga.html#a3">init_dd</a>();
00070     BOOL   <a class="code" href="classVga.html#a4">set_mode</a>(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height);
00071     <span class="keywordtype">void</span>   <a class="code" href="classVga.html#a5">deinit</a>();
00072 
<a name="l00073"></a><a class="code" href="classVga.html#a6">00073</a>     <span class="keywordtype">char</span>  <a class="code" href="classVga.html#a6">is_inited</a>()   { <span class="keywordflow">return</span> <a class="code" href="classVga.html#m0">dd_obj</a>!=<a class="code" href="OHELP_8H.html#a0">NULL</a>; }
00074 
00075     BOOL   <a class="code" href="classVga.html#a7">load_pal</a>(<span class="keywordtype">char</span>* fileName);
00076     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a8">init_gray_remap_table</a>();
00077 
00078     <span class="keywordtype">void</span>   <a class="code" href="classVga.html#a9">activate_pal</a>(<a class="code" href="classVgaBuf.html">VgaBuf</a>*);
00079     <span class="keywordtype">void</span>   <a class="code" href="classVga.html#a10">release_pal</a>();
00080 
00081     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a11">d3_panel_up</a>(<span class="keywordtype">int</span> x1,<span class="keywordtype">int</span> y1,<span class="keywordtype">int</span> x2,<span class="keywordtype">int</span> y2,<span class="keywordtype">int</span> vgaFrontOnly=0,<span class="keywordtype">int</span> drawBorderOnly=0);
00082     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a12">d3_panel_down</a>(<span class="keywordtype">int</span> x1,<span class="keywordtype">int</span> y1,<span class="keywordtype">int</span> x2,<span class="keywordtype">int</span> y2,<span class="keywordtype">int</span> vgaFrontOnly=0,<span class="keywordtype">int</span> drawBorderOnly=0);
00083     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a13">d3_panel2_up</a>(<span class="keywordtype">int</span> x1,<span class="keywordtype">int</span> y1,<span class="keywordtype">int</span> x2,<span class="keywordtype">int</span> y2,<span class="keywordtype">int</span> vgaFrontOnly=0,<span class="keywordtype">int</span> drawBorderOnly=0);
00084     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a14">d3_panel2_down</a>(<span class="keywordtype">int</span> x1,<span class="keywordtype">int</span> y1,<span class="keywordtype">int</span> x2,<span class="keywordtype">int</span> y2,<span class="keywordtype">int</span> vgaFrontOnly=0,<span class="keywordtype">int</span> drawBorderOnly=0);
00085     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a15">separator</a>(<span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1, <span class="keywordtype">int</span> x2, <span class="keywordtype">int</span> y2);
00086 
00087     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a16">adjust_brightness</a>(<span class="keywordtype">int</span> changeValue);
00088 
<a name="l00089"></a><a class="code" href="classVga.html#a17">00089</a>     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a17">use_front</a>() { <a class="code" href="classVga.html#p1">use_back_buf</a>=0; active_buf = &amp;vga_front; }
<a name="l00090"></a><a class="code" href="classVga.html#a18">00090</a>     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a18">use_back</a>()  { <a class="code" href="classVga.html#p1">use_back_buf</a>=1; active_buf = &amp;vga_back;  }
00091 
00092     BOOL   <a class="code" href="classVga.html#a19">blt_buf</a>(<span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1, <span class="keywordtype">int</span> x2, <span class="keywordtype">int</span> y2, <span class="keywordtype">int</span> putMouseCursor=1);
00093 
00094     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a20">disp_image_file</a>(<span class="keywordtype">char</span>* fileName,<span class="keywordtype">int</span> x1=0, <span class="keywordtype">int</span> y1=0);
00095     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a21">finish_disp_image_file</a>();
00096 
<a name="l00097"></a><a class="code" href="classVga.html#a22">00097</a>     <span class="keywordtype">int</span>   <a class="code" href="classVga.html#a22">translate_color</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c)        <span class="comment">// calc 8-bit color to 16-bit color // new for 16 bit</span>
00098         { <span class="keywordflow">return</span> <a class="code" href="classVga.html#m6">default_remap_table</a>[c]; }
00099 
00100     <span class="keywordtype">int</span>   <a class="code" href="classVga.html#a23">make_pixel</a>(<a class="code" href="OVGA_8H.html#a10">BYTE</a> red, <a class="code" href="OVGA_8H.html#a10">BYTE</a> green, <a class="code" href="OVGA_8H.html#a10">BYTE</a> blue);
00101     <span class="keywordtype">int</span>   <a class="code" href="classVga.html#a23">make_pixel</a>(<a class="code" href="structRGBColor.html">RGBColor</a> *);
00102     <span class="keywordtype">void</span>  <a class="code" href="classVga.html#a25">decode_pixel</a>(<span class="keywordtype">int</span>, <a class="code" href="structRGBColor.html">RGBColor</a> *);
00103 
00104 <span class="keyword">private</span>:
00105     <span class="keywordtype">void</span>  init_color_table();
00106 };
00107 
<a name="l00108"></a><a class="code" href="OVGA_8H.html#a11">00108</a> <span class="keyword">extern</span> <a class="code" href="classVga.html">Vga</a> <a class="code" href="OVGA_8H.html#a11">vga</a>;
00109 <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00110"></a><a class="code" href="OVGA_8H.html#a12">00110</a>     <span class="keyword">extern</span> <span class="keywordtype">short</span> <a class="code" href="OVGA_8H.html#a12">transparent_code_w</a>;
00111 }
00112 
00113 <span class="comment">//--------------------------------------------//</span>
00114 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:38:33 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
