<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Otxtlist.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Otxtlist.cpp</h1><a href="Otxtlist_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : OTXTLIST.CPP</span>
00002 <span class="comment">//Description : Object text list</span>
00003 <span class="comment">// owner                        : chwg 1015</span>
00004 <span class="preprocessor">#include &lt;<a class="code" href="OVGA_8H.html">OVGA.H</a>&gt;</span>
00005 <span class="preprocessor">#include &lt;OSYS.H&gt;</span>
00006 <span class="preprocessor">#include &lt;OFONT.H&gt;</span>
00007 <span class="preprocessor">#include &lt;OINFO.H&gt;</span>
00008 <span class="preprocessor">#include &lt;OMOUSE.H&gt;</span>
00009 <span class="preprocessor">#include &lt;<a class="code" href="OVBROW98_8H.html">OVBROW98.H</a>&gt;</span>
00010 <span class="preprocessor">#include &lt;<a class="code" href="OSCROLL_8H.html">OSCROLL.H</a>&gt;</span>
00011 <span class="preprocessor">#include &lt;<a class="code" href="OTXTLIST_8H.html">OTXTLIST.H</a>&gt;</span>
00012 <span class="preprocessor">#include &lt;OIFACE.H&gt;</span>
00013 
00014 <span class="comment">//-------- Define macro constant ----------//</span>
00015 
<a name="l00016"></a><a class="code" href="Otxtlist_8cpp.html#a0">00016</a> <span class="preprocessor">#define SCROLL_BAR_WIDTH 15</span>
00017 <span class="preprocessor"></span>
<a name="l00018"></a><a class="code" href="Otxtlist_8cpp.html#a1">00018</a> <span class="preprocessor">#define TEXT_LINE_SPACE   6</span>
<a name="l00019"></a><a class="code" href="Otxtlist_8cpp.html#a2">00019</a> <span class="preprocessor"></span><span class="preprocessor">#define TEXT_MARGIN       20</span>
00020 <span class="preprocessor"></span>
00021 <span class="comment">//--------- Define static varaibles --------//</span>
00022 
00023 <span class="keyword">static</span> <a class="code" href="classScrollBar.html">ScrollBar</a> scroll_bar;
00024 <span class="keyword">static</span> <a class="code" href="classTxtList.html">TxtList</a>*  cur_txt_list_ptr;                <span class="comment">// for static function</span>
00025 <span class="keyword">static</span> <a class="code" href="classVBrowse98.html">VBrowse98</a> topic_browse;
00026 <span class="comment">// ##### begin Gilbert 19/04/2001 ###### //</span>
00027 <span class="keyword">static</span> <span class="keywordtype">short</span> * txtlist_refresh_bitmap = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00028 <span class="comment">// ##### end Gilbert 19/04/2001 ###### //</span>
00029 <span class="keyword">static</span> <span class="keywordtype">void</span> disp_topic_rec(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>);
00030 <span class="keyword">static</span> <span class="keywordtype">void</span> disp_idx_topic_rec(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>);
00031 
00032 <span class="comment">//--------- Begin of function TxtList::TxtList ---------//</span>
00033 
<a name="l00034"></a><a class="code" href="classTxtList.html#a0">00034</a> <a class="code" href="classTxtList.html#a0">TxtList::TxtList</a>() {
00035     <a class="code" href="classTxtList.html#m2">init_flag</a>      = 0;
00036     <a class="code" href="classTxtList.html#m3">init_pict_flag</a> = 0;
00037     <a class="code" href="classTxtList.html#m4">init_list_flag</a> = 0;
00038     <a class="code" href="classTxtList.html#m25">history_pos</a> = 0;
00039     <a class="code" href="classTxtList.html#m23">can_back</a>=0;
00040     <a class="code" href="classTxtList.html#m22">top_line</a>=1;
00041     memset( <a class="code" href="classTxtList.html#m24">history_array</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="classTxtList.html#m24">history_array</a>[0]) * <a class="code" href="classTxtList.html#s1s0">HISTORY_SIZE</a> );
00042 }
00043 
00044 <span class="comment">//----------- End of function TxtList::TxtList ---------//</span>
00045 
00046 <span class="comment">//---------- Begin of function TxtList::init -------//</span>
<a name="l00054"></a><a class="code" href="classTxtList.html#a1">00054</a> <span class="comment">void TxtList::init(int x1, int y1, int x2, int y2, char* resTxtName) {</span>
00055     text_x1 = x1;
00056     text_y1 = y1;
00057     text_x2 = x2-<a class="code" href="Otxtlist_8cpp.html#a0">SCROLL_BAR_WIDTH</a>-4;                <span class="comment">// space + scroll bar width</span>
00058     text_y2 = y2;
00059 
00060     scroll_x1 = x2-<a class="code" href="Otxtlist_8cpp.html#a0">SCROLL_BAR_WIDTH</a>+1;
00061     scroll_y1 = y1;
00062     scroll_x2 = x2;
00063     scroll_y2 = y2;
00064 
00065     res_txt.init( resTxtName, 0 );                  <span class="comment">// 0-don't always open the file, only open it during reading, save file handle</span>
00066 
00067     <span class="keywordflow">if</span>(topic_id &lt; 1)
00068         topic_id=1;                                   <span class="comment">// default topic id.</span>
00069 
00070     init_flag = 1;
00071 }
00072 
00073 <span class="comment">//---------- End of function TxtList::init -------//</span>
00074 
00075 <span class="comment">//-------- Begin of function TxtList::deinit -------//</span>
<a name="l00077"></a><a class="code" href="classTxtList.html#a4">00077</a> <span class="comment">void TxtList::deinit() {</span>
00078     res_txt .deinit();
00079 
00080     res_pict.deinit();
00081     <span class="keywordflow">if</span>(txtlist_refresh_bitmap)
00082         <a class="code" href="ALL_8H.html#a8">mem_del</a>(txtlist_refresh_bitmap);
00083     txtlist_refresh_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00084 }
00085 
00086 <span class="comment">//---------- End of function TxtList::deinit -------//</span>
00087 
00088 <span class="comment">//---------- Begin of function TxtList::init_pict -------//</span>
<a name="l00094"></a><a class="code" href="classTxtList.html#a2">00094</a> <span class="comment">void TxtList::init_pict(int x1, int y1, int x2, int y2, char* resPictName) {</span>
00095     pict_x1 = x1;
00096     pict_y1 = y1;
00097     pict_x2 = x2;
00098     pict_y2 = y2;
00099 
00100     res_pict.init( resPictName, 0 );
00101 
00102     init_pict_flag = 1;
00103 }
00104 
00105 <span class="comment">//---------- End of function TxtList::init_pict -------//</span>
00106 
00107 <span class="comment">//---------- Begin of function TxtList::init_list -------//</span>
<a name="l00111"></a><a class="code" href="classTxtList.html#a3">00111</a> <span class="comment">void TxtList::init_list(int x1, int y1, int x2, int y2) {</span>
00112     list_x1 = x1;
00113     list_y1 = y1;
00114     list_x2 = x2;
00115     list_y2 = y2;
00116 
00117     init_list_flag = 1;
00118     top_line=1;
00119 }
00120 
00121 <span class="comment">//---------- End of function TxtList::init_list -------//</span>
00122 
00123 <span class="comment">//------- Begin of function TxtList::disp -------//</span>
<a name="l00129"></a><a class="code" href="classTxtList.html#a5">00129</a> <span class="comment">void TxtList::disp(int refreshFlag, int topicId) {</span>
00130     vga.use_back();
00131     <a class="code" href="ALL_8H.html#a0">err_when</a>( !init_flag );
00132 
00133     <span class="comment">//-------- display a new topic ----------//</span>
00134 
00135     <span class="keywordtype">char</span>* textPtr;
00136 
00137     <span class="keywordflow">if</span>( topicId )
00138         topic_id = topicId;
00139 
00140     <span class="comment">//------------ paint panel --------------//</span>
00141     <span class="keywordflow">if</span>(init_list_flag) {
00142         <span class="keywordflow">if</span>( refreshFlag==<a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
00143             user_interface.brighten( list_x1, list_y1, list_x2, list_y2 );
00144             user_interface.rect( list_x1, list_y1, list_x2, list_y2 );
00145             <span class="comment">//                  if( init_pict_flag )</span>
00146             <span class="comment">//                          vga.active_buf-&gt;d3_panel_down( pict_x1, pict_y1, pict_x2, pict_y2, 2, 0 );</span>
00147             cur_txt_list_ptr = <span class="keyword">this</span>;
00148             <span class="comment">// for static rec display function's reference</span>
00149             topic_browse.<a class="code" href="classVBrowse98.html#a2">init</a>( list_x1, list_y1, list_x2, list_y2,
00150                                0, 20, res_txt.rec_count, disp_topic_rec );
00151             topic_browse.<a class="code" href="classVBrowse98.html#a4">open</a>(topic_id);
00152         }
00153         <span class="comment">//              topic_browse.update();</span>
00154     }
00155 
00156     <span class="keywordflow">if</span>(!init_list_flag) {
00157         <span class="keywordflow">if</span>( refreshFlag==<a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
00158             user_interface.rect( text_x1, text_y1, text_x2, text_y2 );
00159             user_interface.brighten( text_x1, text_y1, text_x2, text_y2 );
00160 
00161             <span class="keywordflow">if</span>( init_pict_flag )
00162                 vga.active_buf-&gt;d3_panel_down( pict_x1, pict_y1, pict_x2, pict_y2, 2, 0 );
00163             cur_txt_list_ptr = <span class="keyword">this</span>;                    <span class="comment">// for static rec display function's reference</span>
00164 
00165             txtlist_refresh_bitmap=vga_back.save_area(
00166                 text_x1,text_y1,text_x2,text_y2,
00167                 txtlist_refresh_bitmap);
00168         }
00169         <span class="comment">//------------ retrieve topic ------------//</span>
00170         vga_back.rest_area(txtlist_refresh_bitmap,0,1);
00171 
00172         <span class="keywordflow">if</span>(topicId &amp;&amp; refreshFlag==<a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {   <span class="comment">// topicId can be NULL, while INFO_REPAINT</span>
00173             <span class="comment">//                  top_line=1;</span>
00174             textPtr = res_txt.get_body(topic_id);
00175 
00176             <span class="comment">//-------- count the no. of lines of the text --------//</span>
00177 
00178             <span class="keywordtype">int</span> dispLines;                              <span class="comment">// no. of lines can be displayed on the area</span>
00179             <span class="keywordtype">int</span> totalLines;                             <span class="comment">// total no. of lines of the text</span>
00180 
00181             font_letter.count_line( text_x1+<a class="code" href="Otxtlist_8cpp.html#a2">TEXT_MARGIN</a>, text_y1+<a class="code" href="Otxtlist_8cpp.html#a2">TEXT_MARGIN</a>,
00182                                     text_x2-<a class="code" href="Otxtlist_8cpp.html#a2">TEXT_MARGIN</a>+2, text_y2-<a class="code" href="Otxtlist_8cpp.html#a2">TEXT_MARGIN</a>,
00183                                     textPtr, <a class="code" href="Otxtlist_8cpp.html#a1">TEXT_LINE_SPACE</a>, dispLines, totalLines );
00184 
00185             <span class="comment">//-------- display scroll bar ------//</span>
00186 
00187             scroll_bar.<a class="code" href="classScrollBar.html#a1">init</a>( 1, scroll_x1, scroll_y1, scroll_x2, scroll_y2,
00188                              dispLines, dispLines, totalLines );
00189 
00190             scroll_bar.<a class="code" href="classScrollBar.html#a2">paint</a>();
00191             scroll_bar.<a class="code" href="classScrollBar.html#a3">refresh</a>(top_line,1);
00192         }
00193         <span class="keywordflow">else</span> {                                        <span class="comment">// redisplay current topic, only scroll to a different part of the text</span>
00194             textPtr = res_txt.get_body(topic_id);
00195         }
00196         font_letter.put_paragraph( text_x1+<a class="code" href="Otxtlist_8cpp.html#a2">TEXT_MARGIN</a>, text_y1+<a class="code" href="Otxtlist_8cpp.html#a2">TEXT_MARGIN</a>,
00197                                    text_x2-<a class="code" href="Otxtlist_8cpp.html#a2">TEXT_MARGIN</a>+2, text_y2-<a class="code" href="Otxtlist_8cpp.html#a2">TEXT_MARGIN</a>,
00198                                    textPtr, <a class="code" href="Otxtlist_8cpp.html#a1">TEXT_LINE_SPACE</a>, top_line );
00199 
00200         <span class="keywordflow">if</span>( init_pict_flag ) {
00201             <span class="keywordtype">char</span>* pictName = res_txt.get_pict_name(topic_id);
00202 
00203             <span class="keywordflow">if</span>( pictName[0] ) {
00204                 <span class="keywordtype">char</span>* pictPtr = res_pict.read(pictName);
00205 
00206                 <span class="keywordflow">if</span>( pictPtr )
00207                     vga.active_buf-&gt;put_bitmap( pict_x1+2, pict_y1+2, pictPtr );
00208             }
00209         }
00210 
00211         vga.blt_buf( text_x1, text_y1, text_x2, text_y2 );
00212     }
00213 
00214     <span class="comment">//--------- display text body ----------//</span>
00215 }
00216 
00217 <span class="comment">//-------- End of function TxtList::disp -------//</span>
00218 
00219 <span class="comment">//-------- Begin of function TxtList::add_history -----------//</span>
<a name="l00223"></a><a class="code" href="classTxtList.html#a8">00223</a> <span class="comment">void TxtList::add_history(int topicId) {</span>
00224     <span class="comment">/*</span>
00225 <span class="comment">      can_back=(history_array[history_pos]&gt;0);</span>
00226 <span class="comment">      if( ++history_pos &gt;= HISTORY_SIZE )</span>
00227 <span class="comment">      history_pos = 0;</span>
00228 <span class="comment">      history_array[history_pos] = topicId;</span>
00229 <span class="comment">    */</span>
00230 
00231     <span class="keywordtype">int</span> next_pos=((history_pos+1)&gt;=HISTORY_SIZE)?0:history_pos+1;
00232     <span class="keywordtype">int</span> prev_pos=((history_pos-1)&lt;0)?HISTORY_SIZE-1:history_pos-1;
00233 
00234     <span class="comment">// do nothing if same history idx is added.</span>
00235     <span class="comment">// chwg ##1215</span>
00236     <span class="keywordflow">if</span>(history_array[prev_pos]==topicId)
00237         <span class="keywordflow">return</span>;
00238 
00239     <span class="keywordflow">if</span>(history_array[history_pos]!=0) {
00240         history_array[next_pos]=0;
00241     }
00242 
00243     history_array[history_pos] = topicId;
00244     can_back=(history_array[(((prev_pos)&lt;0)?HISTORY_SIZE-1:prev_pos)]&gt;0);;
00245     history_pos = next_pos;
00246 }
00247 
00248 <span class="comment">//----------- End of function TxtList::add_history -----------//</span>
00249 
00250 <span class="comment">//-------- Begin of function TxtList::back_history -----------//</span>
<a name="l00254"></a><a class="code" href="classTxtList.html#a9">00254</a> <span class="comment">void TxtList::back_history() {</span>
00255     <span class="comment">/*</span>
00256 <span class="comment">      history_array[history_pos]=0;     // the history just added is useless</span>
00257 <span class="comment">      if((history_pos-1) &lt; 0 )</span>
00258 <span class="comment">      history_pos = HISTORY_SIZE;</span>
00259 <span class="comment"></span>
00260 <span class="comment">      int topicId = history_array[--history_pos];</span>
00261 <span class="comment"></span>
00262 <span class="comment">      if( topicId&gt;0 )        // if topicId==0, means no history</span>
00263 <span class="comment">      {</span>
00264 <span class="comment">      history_array[history_pos] = 0;</span>
00265 <span class="comment">      can_back=(history_array[(((history_pos-1)&lt;0)?HISTORY_SIZE-1:history_pos-1)]&gt;0);</span>
00266 <span class="comment">      disp( INFO_UPDATE, topicId );</span>
00267 <span class="comment"></span>
00268 <span class="comment">      if( init_list_flag )</span>
00269 <span class="comment">      topic_browse.refresh( topicId );</span>
00270 <span class="comment">      }</span>
00271 <span class="comment">    */</span>
00272     <span class="keywordtype">int</span> prev_pos=history_pos;
00273 
00274     <span class="keywordflow">do</span> {
00275         prev_pos--;
00276         prev_pos=(prev_pos&lt;0)?HISTORY_SIZE-1:prev_pos;
00277     }
00278     <span class="keywordflow">while</span>(history_array[prev_pos]==topic_id &amp;&amp; history_array[prev_pos]!=0);
00279 
00280     <span class="keywordtype">int</span> topicId = history_array[prev_pos];
00281     <span class="keywordflow">if</span>( topicId&gt;0 ) {                               <span class="comment">// if topicId==0, means no history</span>
00282         history_array[prev_pos] = 0;
00283         history_pos = prev_pos;
00284         disp( <a class="code" href="Gamedef_8h.html#a71a17">INFO_UPDATE</a>, topicId );
00285         <span class="keywordflow">if</span>( init_list_flag )
00286             topic_browse.<a class="code" href="classVBrowse98.html#a10">refresh</a>( topicId );
00287         can_back=(history_array[(((prev_pos-1)&lt;0)?HISTORY_SIZE-1:prev_pos-1)]&gt;0);
00288     }
00289 }
00290 
00291 <span class="comment">//----------- End of function TxtList::back_history -----------//</span>
00292 
00293 <span class="comment">//------- Begin of function TxtList::detect -------//</span>
<a name="l00298"></a><a class="code" href="classTxtList.html#a6">00298</a> <span class="comment">int TxtList::detect() {</span>
00299     <span class="keywordtype">int</span> rc;
00300 
00301     <span class="comment">//------- detect topic list list ----------//</span>
00302     <span class="comment">//  vga.use_front();</span>
00303     <span class="comment">// select new topic</span>
00304     <span class="keywordflow">if</span>( init_list_flag &amp;&amp; (rc=topic_browse.<a class="code" href="classVBrowse98.html#a8">detect</a>()) &gt; 0 ) {
00305         double_clicked=topic_browse.<a class="code" href="classVBrowse98.html#m1">double_click</a>;
00306         topic_id=rc;
00307         sys.redraw_all_flag=1;
00308         <span class="comment">//              disp(INFO_UPDATE, rc);</span>
00309         <span class="keywordflow">return</span> 1;
00310     }
00311 
00312     <span class="keywordflow">if</span>(!init_list_flag) {
00313         <span class="keywordflow">if</span>( (rc=scroll_bar.<a class="code" href="classScrollBar.html#a4">detect</a>()) &gt; 0 ) {
00314             <span class="comment">//-------- detect text scroll bar ----------//</span>
00315             top_line = rc;
00316             sys.redraw_all_flag=1;
00317             disp(<a class="code" href="Gamedef_8h.html#a71a17">INFO_UPDATE</a>);
00318             <span class="keywordflow">return</span> 1;
00319             <span class="comment">//------- detect on text body ---------//</span>
00320         }
00321         <span class="keywordflow">if</span>( detect_text() )
00322             <span class="keywordflow">return</span> 1;
00323     }
00324     <span class="keywordflow">return</span> 0;
00325 
00326 }
00327 
00328 <span class="comment">//------- Begin of function TxtList::detect_text -------//</span>
<a name="l00333"></a><a class="code" href="classTxtList.html#a7">00333</a> <span class="comment">int TxtList::detect_text() {</span>
00334     <span class="comment">//------- if mouse pressed on text area ------//</span>
00335     <span class="comment">//-- can pressed on hyper-texted field or just fast scrolling --//</span>
00336 
00337     <span class="keywordflow">if</span>( !mouse.single_click( text_x1, text_y1, text_x2, text_y2 ) )
00338         <span class="keywordflow">return</span> 0;
00339 
00340     <span class="comment">//---- detect hyper-texted field ------//</span>
00341 
00342     <span class="keywordtype">int</span>         i, topicId;
00343     <span class="keywordtype">char</span>        saveChar;
00344     <a class="code" href="structHyperField.html">HyperField</a>* hyperField = font_letter.hyper_field_array;
00345 
00346     <span class="keywordflow">for</span>( i=0 ; i&lt;font_letter.hyper_field_count ; i++, hyperField++ ) {
00347         <span class="keywordflow">if</span>( mouse.click_x() &gt;= hyperField-&gt;<a class="code" href="structHyperField.html#m0">x1</a> &amp;&amp;
00348             mouse.click_x() &lt;= hyperField-&gt;<a class="code" href="structHyperField.html#m2">x2</a> &amp;&amp;
00349             mouse.click_y() &gt;= hyperField-&gt;<a class="code" href="structHyperField.html#m1">y1</a> &amp;&amp;
00350             mouse.click_y() &lt;= hyperField-&gt;<a class="code" href="structHyperField.html#m3">y2</a> ) {
00351             <a class="code" href="ALL_8H.html#a0">err_when</a>( hyperField-&gt;<a class="code" href="structHyperField.html#m5">text_len</a> &gt; <a class="code" href="structTxtIndex.html#s2s0">TxtIndex::TITLE_LEN</a> );
00352 
00353             saveChar = hyperField-&gt;<a class="code" href="structHyperField.html#m4">text_ptr</a>[hyperField-&gt;<a class="code" href="structHyperField.html#m5">text_len</a>];
00354             hyperField-&gt;<a class="code" href="structHyperField.html#m4">text_ptr</a>[hyperField-&gt;<a class="code" href="structHyperField.html#m5">text_len</a>] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00355 
00356             topicId = res_txt.locate_topic(hyperField-&gt;<a class="code" href="structHyperField.html#m4">text_ptr</a>);
00357 
00358             hyperField-&gt;<a class="code" href="structHyperField.html#m4">text_ptr</a>[hyperField-&gt;<a class="code" href="structHyperField.html#m5">text_len</a>] = saveChar;
00359 
00360             <span class="keywordflow">if</span>( topicId ) {
00361                 add_history(topic_id);                    <span class="comment">// add current topic id to the history</span>
00362 
00363                 disp(<a class="code" href="Gamedef_8h.html#a71a17">INFO_UPDATE</a>, topicId);
00364                 sys.redraw_all_flag=1;
00365                 <span class="keywordflow">if</span>( init_list_flag )
00366                     topic_browse.<a class="code" href="classVBrowse98.html#a10">refresh</a>( topicId );
00367 
00368                 <span class="keywordflow">return</span> 1;
00369             }
00370         }
00371     }
00372 
00373     <span class="comment">//------ detect fast scrolling --------//</span>
00374 
00375     <span class="keywordflow">if</span>( mouse.click_y() &lt; text_y1 + (text_y2-text_y1) / 2 )
00376         top_line = scroll_bar.<a class="code" href="classScrollBar.html#a6">page_up</a>(1);             <span class="comment">// page up, 1 = skip less one line, so when scrolling text, want the last line of previous page be the first line of current page, then pass 1 as skipLess</span>
00377     <span class="keywordflow">else</span>
00378         top_line = scroll_bar.<a class="code" href="classScrollBar.html#a7">page_down</a>(1);           <span class="comment">// page down</span>
00379 
00380     disp(<a class="code" href="Gamedef_8h.html#a71a17">INFO_UPDATE</a>);
00381 
00382     <span class="keywordflow">return</span> 1;
00383 }
00384 
00385 <span class="comment">//-------- Begin of function TxtList::detect_text -------//</span>
00386 
00387 <span class="comment">//-------- Begin of static function disp_topic_rec -----------//</span>
00388 <span class="comment">//</span>
00389 <span class="keyword">static</span> <span class="keywordtype">void</span> disp_topic_rec(<span class="keywordtype">int</span> recNo, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> refreshFlag) {
00390     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> )
00391         font_letter.put( x+10, y, cur_txt_list_ptr-&gt;<a class="code" href="classTxtList.html#m0">res_txt</a>.<a class="code" href="classResTxt.html#a4">get_title</a>(recNo) );
00392 }
00393 
00394 <span class="comment">//----------- End of static function disp_topic_rec -----------//</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:38:32 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
