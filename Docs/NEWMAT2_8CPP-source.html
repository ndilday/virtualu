<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>NEWMAT2.CPP Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>NEWMAT2.CPP</h1><a href="NEWMAT2_8CPP.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Owner: Fred</span>
00002 <span class="comment">//$$ newmat2.cpp      Matrix row and column operations</span>
00003 
00004 <span class="comment">// Copyright (C) 1991,2,3,4: R B Davies</span>
00005 
<a name="l00006"></a><a class="code" href="NEWMAT2_8CPP.html#a0">00006</a> <span class="preprocessor">#define WANT_MATH</span>
00007 <span class="preprocessor"></span>
00008 <span class="preprocessor">#include "include.h"</span>
00009 
00010 <span class="preprocessor">#include "newmat.h"</span>
00011 <span class="preprocessor">#include "newmatrc.h"</span>
00012 
00013 <span class="preprocessor">#ifdef use_namespace</span>
00014 <span class="preprocessor"></span><span class="keyword">namespace </span>NEWMAT {
00015 <span class="preprocessor">#endif</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#ifdef DO_REPORT</span>
00018 <span class="preprocessor"></span><span class="preprocessor">#define REPORT { static ExeCounter ExeCount(__LINE__,2); ++ExeCount; }</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00020"></a><a class="code" href="NEWMAT2_8CPP.html#a1">00020</a> <span class="preprocessor"></span><span class="preprocessor">#define REPORT {}</span>
00021 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00022 <span class="preprocessor"></span>
00023     <span class="comment">//#define MONITOR(what,storage,store) { cout &lt;&lt; what &lt;&lt; " " &lt;&lt; storage &lt;&lt; " at " &lt;&lt; (long)store &lt;&lt; "\n"; }</span>
00024 
<a name="l00025"></a><a class="code" href="NEWMAT2_8CPP.html#a2">00025</a> <span class="preprocessor">#define MONITOR(what,store,storage) {}</span>
00026 <span class="preprocessor"></span>
00027     <span class="comment">/************************** Matrix Row/Col functions ************************/</span>
00028 
00029     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a4">MatrixRowCol::Add</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc) {
00030         <span class="comment">// THIS += mrc</span>
00031         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00032             <span class="keywordtype">int</span> f = mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00033             <span class="keywordflow">if</span> (f &lt; skip) f = skip; if (l &gt; lx) l = lx; l -= f;
00034             <span class="keywordflow">if</span> (l&lt;=0) <span class="keywordflow">return</span>;
00035             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx=data+(f-skip); <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el=mrc.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00036             <span class="keywordflow">while</span> (l--) *elx++ += *el++;
00037     }
00038 
00039     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a5">MatrixRowCol::AddScaled</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc, <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> x) {
00040         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00041             <span class="comment">// THIS += (mrc * x)</span>
00042             <span class="keywordtype">int</span> f = mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00043             <span class="keywordflow">if</span> (f &lt; skip) f = skip; if (l &gt; lx) l = lx; l -= f;
00044             <span class="keywordflow">if</span> (l&lt;=0) <span class="keywordflow">return</span>;
00045             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx=data+(f-skip); <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el=mrc.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00046             <span class="keywordflow">while</span> (l--) *elx++ += *el++ * x;
00047     }
00048 
00049     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a9">MatrixRowCol::Sub</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc) {
00050         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00051             <span class="comment">// THIS -= mrc</span>
00052             <span class="keywordtype">int</span> f = mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00053             <span class="keywordflow">if</span> (f &lt; skip) f = skip; if (l &gt; lx) l = lx; l -= f;
00054             <span class="keywordflow">if</span> (l&lt;=0) <span class="keywordflow">return</span>;
00055             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx=data+(f-skip); <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el=mrc.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00056             <span class="keywordflow">while</span> (l--) *elx++ -= *el++;
00057     }
00058 
00059     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a25">MatrixRowCol::Inject</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc) {
00060         <span class="comment">// copy stored elements only</span>
00061         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00062             <span class="keywordtype">int</span> f = mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00063             <span class="keywordflow">if</span> (f &lt; skip) f = skip; if (l &gt; lx) l = lx; l -= f;
00064             <span class="keywordflow">if</span> (l&lt;=0) <span class="keywordflow">return</span>;
00065             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx=data+(f-skip); <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely=mrc.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00066             <span class="keywordflow">while</span> (l--) *elx++ = *ely++;
00067     }
00068 
<a name="l00069"></a><a class="code" href="namespaceNEWMAT.html#a42">00069</a>     <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> <a class="code" href="namespaceNEWMAT.html#a42">DotProd</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1, <span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc2) {
00070         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>                                        <span class="comment">// not accessed</span>
00071             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> f2 = mrc2.<a class="code" href="classMatrixRowCol.html#m1">skip</a>;
00072         <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> l2 = f2 + mrc2.<a class="code" href="classMatrixRowCol.html#m2">storage</a>;
00073         <span class="keywordflow">if</span> (f &lt; f2) f = f2; if (l &gt; l2) l = l2; l -= f;
00074         <span class="keywordflow">if</span> (l&lt;=0) <span class="keywordflow">return</span> 0.0;
00075 
00076         <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el1=mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>); <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el2=mrc2.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc2.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00077         <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> sum = 0.0;
00078         <span class="keywordflow">while</span> (l--) sum += *el1++ * *el2++;
00079         <span class="keywordflow">return</span> sum;
00080     }
00081 
00082     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a4">MatrixRowCol::Add</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1, <span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc2) {
00083         <span class="comment">// THIS = mrc1 + mrc2</span>
00084         <span class="keywordtype">int</span> f = skip; <span class="keywordtype">int</span> l = skip + storage;
00085         <span class="keywordtype">int</span> f1 = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l1 = f1 + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>;
00086         <span class="keywordflow">if</span> (f1&lt;f) f1=f; if (l1&gt;l) l1=l;
00087         <span class="keywordtype">int</span> f2 = mrc2.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l2 = f2 + mrc2.<a class="code" href="classMatrixRowCol.html#m2">storage</a>;
00088         <span class="keywordflow">if</span> (f2&lt;f) f2=f; if (l2&gt;l) l2=l;
00089         <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el = data + (f-skip);
00090         <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el1 = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f1-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>); <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el2 = mrc2.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f2-mrc2.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00091         <span class="keywordflow">if</span> (f1&lt;f2) {
00092             <span class="keywordtype">int</span> i = f1-f; <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00093             <span class="keywordflow">if</span> (l1&lt;=f2) {                               <span class="comment">// disjoint</span>
00094                 <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>                                    <span class="comment">// not accessed</span>
00095                     i = l1-f1;     <span class="keywordflow">while</span> (i--) *el++ = *el1++;
00096                 i = f2-l1;     <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00097                 i = l2-f2;     <span class="keywordflow">while</span> (i--) *el++ = *el2++;
00098                 i = l-l2;      <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00099             }
00100             <span class="keywordflow">else</span> {
00101                 i = f2-f1;    <span class="keywordflow">while</span> (i--) *el++ = *el1++;
00102                 <span class="keywordflow">if</span> (l1&lt;=l2) {
00103                     <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00104                         i = l1-f2; <span class="keywordflow">while</span> (i--) *el++ = *el1++ + *el2++;
00105                     i = l2-l1; <span class="keywordflow">while</span> (i--) *el++ = *el2++;
00106                     i = l-l2;  <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00107                 }
00108                 <span class="keywordflow">else</span> {
00109                     <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00110                         i = l2-f2; <span class="keywordflow">while</span> (i--) *el++ = *el1++ + *el2++;
00111                     i = l1-l2; <span class="keywordflow">while</span> (i--) *el++ = *el1++;
00112                     i = l-l1;  <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00113                 }
00114             }
00115         }
00116         <span class="keywordflow">else</span> {
00117             <span class="keywordtype">int</span> i = f2-f; <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00118             <span class="keywordflow">if</span> (l2&lt;=f1) {                               <span class="comment">// disjoint</span>
00119                 <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>                                    <span class="comment">// not accessed</span>
00120                     i = l2-f2;     <span class="keywordflow">while</span> (i--) *el++ = *el2++;
00121                 i = f1-l2;     <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00122                 i = l1-f1;     <span class="keywordflow">while</span> (i--) *el++ = *el1++;
00123                 i = l-l1;      <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00124             }
00125             <span class="keywordflow">else</span> {
00126                 i = f1-f2;    <span class="keywordflow">while</span> (i--) *el++ = *el2++;
00127                 <span class="keywordflow">if</span> (l2&lt;=l1) {
00128                     <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00129                         i = l2-f1; <span class="keywordflow">while</span> (i--) *el++ = *el1++ + *el2++;
00130                     i = l1-l2; <span class="keywordflow">while</span> (i--) *el++ = *el1++;
00131                     i = l-l1;  <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00132                 }
00133                 <span class="keywordflow">else</span> {
00134                     <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00135                         i = l1-f1; <span class="keywordflow">while</span> (i--) *el++ = *el1++ + *el2++;
00136                     i = l2-l1; <span class="keywordflow">while</span> (i--) *el++ = *el2++;
00137                     i = l-l2;  <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00138                 }
00139             }
00140         }
00141     }
00142 
00143     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a9">MatrixRowCol::Sub</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1, <span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc2) {
00144         <span class="comment">// THIS = mrc1 - mrc2</span>
00145         <span class="keywordtype">int</span> f = skip; <span class="keywordtype">int</span> l = skip + storage;
00146         <span class="keywordtype">int</span> f1 = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l1 = f1 + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>;
00147         <span class="keywordflow">if</span> (f1&lt;f) f1=f; if (l1&gt;l) l1=l;
00148         <span class="keywordtype">int</span> f2 = mrc2.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l2 = f2 + mrc2.<a class="code" href="classMatrixRowCol.html#m2">storage</a>;
00149         <span class="keywordflow">if</span> (f2&lt;f) f2=f; if (l2&gt;l) l2=l;
00150         <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el = data + (f-skip);
00151         <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el1 = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f1-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>); <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el2 = mrc2.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f2-mrc2.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00152         <span class="keywordflow">if</span> (f1&lt;f2) {
00153             <span class="keywordtype">int</span> i = f1-f; <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00154             <span class="keywordflow">if</span> (l1&lt;=f2) {                               <span class="comment">// disjoint</span>
00155                 <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>                                    <span class="comment">// not accessed</span>
00156                     i = l1-f1;     <span class="keywordflow">while</span> (i--) *el++ = *el1++;
00157                 i = f2-l1;     <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00158                 i = l2-f2;     <span class="keywordflow">while</span> (i--) *el++ = - *el2++;
00159                 i = l-l2;      <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00160             }
00161             <span class="keywordflow">else</span> {
00162                 i = f2-f1;    <span class="keywordflow">while</span> (i--) *el++ = *el1++;
00163                 <span class="keywordflow">if</span> (l1&lt;=l2) {
00164                     <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00165                         i = l1-f2; <span class="keywordflow">while</span> (i--) *el++ = *el1++ - *el2++;
00166                     i = l2-l1; <span class="keywordflow">while</span> (i--) *el++ = - *el2++;
00167                     i = l-l2;  <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00168                 }
00169                 <span class="keywordflow">else</span> {
00170                     <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00171                         i = l2-f2; <span class="keywordflow">while</span> (i--) *el++ = *el1++ - *el2++;
00172                     i = l1-l2; <span class="keywordflow">while</span> (i--) *el++ = *el1++;
00173                     i = l-l1;  <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00174                 }
00175             }
00176         }
00177         <span class="keywordflow">else</span> {
00178             <span class="keywordtype">int</span> i = f2-f; <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00179             <span class="keywordflow">if</span> (l2&lt;=f1) {                               <span class="comment">// disjoint</span>
00180                 <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>                                    <span class="comment">// not accessed</span>
00181                     i = l2-f2;     <span class="keywordflow">while</span> (i--) *el++ = - *el2++;
00182                 i = f1-l2;     <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00183                 i = l1-f1;     <span class="keywordflow">while</span> (i--) *el++ = *el1++;
00184                 i = l-l1;      <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00185             }
00186             <span class="keywordflow">else</span> {
00187                 i = f1-f2;    <span class="keywordflow">while</span> (i--) *el++ = - *el2++;
00188                 <span class="keywordflow">if</span> (l2&lt;=l1) {
00189                     <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00190                         i = l2-f1; <span class="keywordflow">while</span> (i--) *el++ = *el1++ - *el2++;
00191                     i = l1-l2; <span class="keywordflow">while</span> (i--) *el++ = *el1++;
00192                     i = l-l1;  <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00193                 }
00194                 <span class="keywordflow">else</span> {
00195                     <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00196                         i = l1-f1; <span class="keywordflow">while</span> (i--) *el++ = *el1++ - *el2++;
00197                     i = l2-l1; <span class="keywordflow">while</span> (i--) *el++ = - *el2++;
00198                     i = l-l2;  <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00199                 }
00200             }
00201         }
00202     }
00203 
00204     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a4">MatrixRowCol::Add</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1, <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> x) {
00205         <span class="comment">// THIS = mrc1 + x</span>
00206         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00207             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00208             <span class="keywordflow">if</span> (f &lt; skip) { f = skip; <span class="keywordflow">if</span> (l &lt; f) l = f; }
00209             <span class="keywordflow">if</span> (l &gt; lx) { l = lx; <span class="keywordflow">if</span> (f &gt; lx) f = lx; }
00210 
00211             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00212 
00213             <span class="keywordtype">int</span> l1 = f-skip;  <span class="keywordflow">while</span> (l1--) *elx++ = x;
00214             l1 = l-f;     <span class="keywordflow">while</span> (l1--) *elx++ = *ely++ + x;
00215             lx -= l;      <span class="keywordflow">while</span> (lx--) *elx++ = x;
00216     }
00217 
00218     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a8">MatrixRowCol::NegAdd</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1, <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> x) {
00219         <span class="comment">// THIS = x - mrc1</span>
00220         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00221             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00222             <span class="keywordflow">if</span> (f &lt; skip) { f = skip; <span class="keywordflow">if</span> (l &lt; f) l = f; }
00223             <span class="keywordflow">if</span> (l &gt; lx) { l = lx; <span class="keywordflow">if</span> (f &gt; lx) f = lx; }
00224 
00225             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00226 
00227             <span class="keywordtype">int</span> l1 = f-skip;  <span class="keywordflow">while</span> (l1--) *elx++ = x;
00228             l1 = l-f;     <span class="keywordflow">while</span> (l1--) *elx++ = x - *ely++;
00229             lx -= l;      <span class="keywordflow">while</span> (lx--) *elx++ = x;
00230     }
00231 
00232     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a11">MatrixRowCol::RevSub</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1) {
00233         <span class="comment">// THIS = mrc - THIS</span>
00234         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00235             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00236             <span class="keywordflow">if</span> (f &lt; skip) { f = skip; <span class="keywordflow">if</span> (l &lt; f) l = f; }
00237             <span class="keywordflow">if</span> (l &gt; lx) { l = lx; <span class="keywordflow">if</span> (f &gt; lx) f = lx; }
00238 
00239             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00240 
00241             <span class="keywordtype">int</span> l1 = f-skip;  <span class="keywordflow">while</span> (l1--) { *elx = - *elx; elx++; }
00242             l1 = l-f;     <span class="keywordflow">while</span> (l1--) { *elx = *ely++ - *elx; elx++; }
00243             lx -= l;      <span class="keywordflow">while</span> (lx--) { *elx = - *elx; elx++; }
00244     }
00245 
00246     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a12">MatrixRowCol::ConCat</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1, <span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc2) {
00247         <span class="comment">// THIS = mrc1 | mrc2</span>
00248         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00249             <span class="keywordtype">int</span> f1 = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l1 = f1 + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00250             <span class="keywordflow">if</span> (f1 &lt; skip) { f1 = skip; <span class="keywordflow">if</span> (l1 &lt; f1) l1 = f1; }
00251             <span class="keywordflow">if</span> (l1 &gt; lx) { l1 = lx; <span class="keywordflow">if</span> (f1 &gt; lx) f1 = lx; }
00252 
00253             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data;
00254 
00255             <span class="keywordtype">int</span> i = f1-skip;  <span class="keywordflow">while</span> (i--) *elx++ =0.0;
00256             i = l1-f1;
00257             <span class="keywordflow">if</span> (i)                                        <span class="comment">// in case f1 would take ely out of range</span>
00258             { <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f1-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);  <span class="keywordflow">while</span> (i--) *elx++ = *ely++; }
00259 
00260             <span class="keywordtype">int</span> f2 = mrc2.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l2 = f2 + mrc2.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; i = mrc1.<a class="code" href="classMatrixRowCol.html#m0">length</a>;
00261             <span class="keywordtype">int</span> skipx = l1 - i; lx -= i;                  <span class="comment">// addresses rel to second seg, maybe -ve</span>
00262             <span class="keywordflow">if</span> (f2 &lt; skipx) { f2 = skipx; <span class="keywordflow">if</span> (l2 &lt; f2) l2 = f2; }
00263             <span class="keywordflow">if</span> (l2 &gt; lx) { l2 = lx; <span class="keywordflow">if</span> (f2 &gt; lx) f2 = lx; }
00264 
00265             i = f2-skipx; <span class="keywordflow">while</span> (i--) *elx++ = 0.0;
00266             i = l2-f2;
00267             <span class="keywordflow">if</span> (i)                                        <span class="comment">// in case f2 would take ely out of range</span>
00268             { <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = mrc2.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f2-mrc2.<a class="code" href="classMatrixRowCol.html#m1">skip</a>); <span class="keywordflow">while</span> (i--) *elx++ = *ely++; }
00269             lx -= l2;     <span class="keywordflow">while</span> (lx--) *elx++ = 0.0;
00270     }
00271 
00272     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a13">MatrixRowCol::Multiply</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1) {
00273         <span class="comment">// element by element multiply into</span>
00274         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00275             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00276             <span class="keywordflow">if</span> (f &lt; skip) { f = skip; <span class="keywordflow">if</span> (l &lt; f) l = f; }
00277             <span class="keywordflow">if</span> (l &gt; lx) { l = lx; <span class="keywordflow">if</span> (f &gt; lx) f = lx; }
00278 
00279             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00280 
00281             <span class="keywordtype">int</span> l1 = f-skip;  <span class="keywordflow">while</span> (l1--) *elx++ = 0;
00282             l1 = l-f;     <span class="keywordflow">while</span> (l1--) *elx++ *= *ely++;
00283             lx -= l;      <span class="keywordflow">while</span> (lx--) *elx++ = 0;
00284     }
00285 
00286     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a13">MatrixRowCol::Multiply</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1, <span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc2) {
00287         <span class="comment">// element by element multiply</span>
00288         <span class="keywordtype">int</span> f = skip; <span class="keywordtype">int</span> l = skip + storage;
00289         <span class="keywordtype">int</span> f1 = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l1 = f1 + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>;
00290         <span class="keywordflow">if</span> (f1&lt;f) f1=f; if (l1&gt;l) l1=l;
00291         <span class="keywordtype">int</span> f2 = mrc2.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l2 = f2 + mrc2.<a class="code" href="classMatrixRowCol.html#m2">storage</a>;
00292         <span class="keywordflow">if</span> (f2&lt;f) f2=f; if (l2&gt;l) l2=l;
00293         <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el = data + (f-skip); <span class="keywordtype">int</span> i;
00294         <span class="keywordflow">if</span> (f1&lt;f2) f1 = f2; if (l1&gt;l2) l1 = l2;
00295         <span class="keywordflow">if</span> (l1&lt;=f1) {                                 <span class="comment">// disjoint</span>
00296             <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a> i = l-f; <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00297         }
00298         <span class="keywordflow">else</span> {
00299             <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00300                 <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el1 = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f1-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00301             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* el2 = mrc2.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f1-mrc2.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00302             i = f1-f ;    <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00303             i = l1-f1;    <span class="keywordflow">while</span> (i--) *el++ = *el1++ * *el2++;
00304             i = l-l1;     <span class="keywordflow">while</span> (i--) *el++ = 0.0;
00305         }
00306     }
00307 
00308     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a15">MatrixRowCol::Copy</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1) {
00309         <span class="comment">// THIS = mrc1</span>
00310         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00311             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00312             <span class="keywordflow">if</span> (f &lt; skip) { f = skip; <span class="keywordflow">if</span> (l &lt; f) l = f; }
00313             <span class="keywordflow">if</span> (l &gt; lx) { l = lx; <span class="keywordflow">if</span> (f &gt; lx) f = lx; }
00314 
00315             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00316 
00317             <span class="keywordtype">int</span> l1 = f-skip;  <span class="keywordflow">while</span> (l1--) *elx++ = 0.0;
00318             l1 = l-f;     <span class="keywordflow">while</span> (l1--) *elx++ = *ely++;
00319             lx -= l;      <span class="keywordflow">while</span> (lx--) *elx++ = 0.0;
00320     }
00321 
00322     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a16">MatrixRowCol::CopyCheck</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1) {
00323         <span class="comment">// Throw an exception if this would lead to a loss of data</span>
00324         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00325             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00326             <span class="keywordflow">if</span> (f &lt; skip || l &gt; lx) Throw(ProgramException(<span class="stringliteral">"Illegal Conversion"</span>));
00327 
00328             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00329 
00330             <span class="keywordtype">int</span> l1 = f-skip;  <span class="keywordflow">while</span> (l1--) *elx++ = 0.0;
00331             l1 = l-f;     <span class="keywordflow">while</span> (l1--) *elx++ = *ely++;
00332             lx -= l;      <span class="keywordflow">while</span> (lx--) *elx++ = 0.0;
00333     }
00334 
00335     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a18">MatrixRowCol::Check</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1) {
00336         <span class="comment">// Throw an exception if +=, -=, copy etc would lead to a loss of data</span>
00337         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00338             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00339             <span class="keywordflow">if</span> (f &lt; skip || l &gt; lx) Throw(ProgramException(<span class="stringliteral">"Illegal Conversion"</span>));
00340     }
00341 
00342     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a18">MatrixRowCol::Check</a>() {
00343         <span class="comment">// Throw an exception if +=, -= of constant would lead to a loss of data</span>
00344         <span class="comment">// that is: check full row is present</span>
00345         <span class="comment">// may not be appropriate for symmetric matrices</span>
00346         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00347             <span class="keywordflow">if</span> (skip!=0 || storage!=length)
00348                 Throw(ProgramException(<span class="stringliteral">"Illegal Conversion"</span>));
00349     }
00350 
00351     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a26">MatrixRowCol::Negate</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1) {
00352         <span class="comment">// THIS = -mrc1</span>
00353         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00354             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00355             <span class="keywordflow">if</span> (f &lt; skip) { f = skip; <span class="keywordflow">if</span> (l &lt; f) l = f; }
00356             <span class="keywordflow">if</span> (l &gt; lx) { l = lx; <span class="keywordflow">if</span> (f &gt; lx) f = lx; }
00357 
00358             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00359 
00360             <span class="keywordtype">int</span> l1 = f-skip;  <span class="keywordflow">while</span> (l1--) *elx++ = 0.0;
00361             l1 = l-f;     <span class="keywordflow">while</span> (l1--) *elx++ = - *ely++;
00362             lx -= l;      <span class="keywordflow">while</span> (lx--) *elx++ = 0.0;
00363     }
00364 
00365     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a13">MatrixRowCol::Multiply</a>(<span class="keyword">const</span> <a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc1, <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> s) {
00366         <span class="comment">// THIS = mrc1 * s</span>
00367         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00368             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = skip + storage;
00369             <span class="keywordflow">if</span> (f &lt; skip) { f = skip; <span class="keywordflow">if</span> (l &lt; f) l = f; }
00370             <span class="keywordflow">if</span> (l &gt; lx) { l = lx; <span class="keywordflow">if</span> (f &gt; lx) f = lx; }
00371 
00372             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = mrc1.<a class="code" href="classMatrixRowCol.html#m5">data</a>+(f-mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>);
00373 
00374             <span class="keywordtype">int</span> l1 = f-skip;  <span class="keywordflow">while</span> (l1--) *elx++ = 0.0;
00375             l1 = l-f;     <span class="keywordflow">while</span> (l1--) *elx++ = *ely++ * s;
00376             lx -= l;      <span class="keywordflow">while</span> (lx--) *elx++ = 0.0;
00377     }
00378 
<a name="l00379"></a><a class="code" href="classNEWMAT_1_1DiagonalMatrix.html#a23">00379</a>     <span class="keywordtype">void</span> DiagonalMatrix::Solver(<a class="code" href="classMatrixColX.html">MatrixColX</a>&amp; mrc, <span class="keyword">const</span> <a class="code" href="classMatrixColX.html">MatrixColX</a>&amp; mrc1) {
00380         <span class="comment">// mrc = mrc / mrc1   (elementwise)</span>
00381         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00382             <span class="keywordtype">int</span> f = mrc1.<a class="code" href="classMatrixRowCol.html#m1">skip</a>; <span class="keywordtype">int</span> f0 = mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a>;
00383         <span class="keywordtype">int</span> l = f + mrc1.<a class="code" href="classMatrixRowCol.html#m2">storage</a>; <span class="keywordtype">int</span> lx = f0 + mrc.<a class="code" href="classMatrixRowCol.html#m2">storage</a>;
00384         <span class="keywordflow">if</span> (f &lt; f0) { f = f0; <span class="keywordflow">if</span> (l &lt; f) l = f; }
00385         <span class="keywordflow">if</span> (l &gt; lx) { l = lx; <span class="keywordflow">if</span> (f &gt; lx) f = lx; }
00386 
00387         <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = mrc.<a class="code" href="classMatrixRowCol.html#m5">data</a>; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* eld = <a class="code" href="classNEWMAT_1_1GeneralMatrix.html#n4">store</a>+f;
00388 
00389         <span class="keywordtype">int</span> l1 = f-f0;    <span class="keywordflow">while</span> (l1--) *elx++ = 0.0;
00390         l1 = l-f;     <span class="keywordflow">while</span> (l1--) *elx++ /= *eld++;
00391         lx -= l;      <span class="keywordflow">while</span> (lx--) *elx++ = 0.0;
00392         <span class="comment">// Solver makes sure input and output point to same memory</span>
00393     }
00394 
00395     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a15">MatrixRowCol::Copy</a>(<span class="keyword">const</span> <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>*&amp; r) {
00396         <span class="comment">// THIS = *r</span>
00397         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00398             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <span class="keyword">const</span> <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* ely = r+skip; r += length;
00399             <span class="keywordtype">int</span> l = <a class="code" href="classNEWMAT_1_1GeneralMatrix.html#n3">storage</a>; <span class="keywordflow">while</span> (l--) *elx++ = *ely++;
00400     }
00401 
00402     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a15">MatrixRowCol::Copy</a>(<a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> r) {
00403         <span class="comment">// THIS = r</span>
00404         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00405             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <span class="keywordtype">int</span> l = <a class="code" href="classNEWMAT_1_1GeneralMatrix.html#n3">storage</a>; <span class="keywordflow">while</span> (l--) *elx++ = r;
00406     }
00407 
00408     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a13">MatrixRowCol::Multiply</a>(<a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> r) {
00409         <span class="comment">// THIS *= r</span>
00410         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00411             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <span class="keywordtype">int</span> l = <a class="code" href="classNEWMAT_1_1GeneralMatrix.html#n3">storage</a>; <span class="keywordflow">while</span> (l--) *elx++ *= r;
00412     }
00413 
00414     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a4">MatrixRowCol::Add</a>(<a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> r) {
00415         <span class="comment">// THIS += r</span>
00416         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00417             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <span class="keywordtype">int</span> l = <a class="code" href="classNEWMAT_1_1GeneralMatrix.html#n3">storage</a>; <span class="keywordflow">while</span> (l--) *elx++ += r;
00418     }
00419 
00420     <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> <a class="code" href="classMatrixRowCol.html#a23">MatrixRowCol::SumAbsoluteValue</a>() {
00421         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00422             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> sum = 0.0; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <span class="keywordtype">int</span> l = <a class="code" href="classNEWMAT_1_1GeneralMatrix.html#n3">storage</a>;
00423             <span class="keywordflow">while</span> (l--) sum += <a class="code" href="OLINALG_8CPP.html#a2">fabs</a>(*elx++);
00424             <span class="keywordflow">return</span> sum;
00425     }
00426 
00427     <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> <a class="code" href="classMatrixRowCol.html#a24">MatrixRowCol::Sum</a>() {
00428         <a class="code" href="NEWMAT2_8CPP.html#a1">REPORT</a>
00429             <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a> sum = 0.0; <a class="code" href="namespaceRBD__COMMON.html#a0">Real</a>* elx = data; <span class="keywordtype">int</span> l = <a class="code" href="classNEWMAT_1_1GeneralMatrix.html#n3">storage</a>;
00430             <span class="keywordflow">while</span> (l--) sum += *elx++;
00431             <span class="keywordflow">return</span> sum;
00432     }
00433 
00434     <span class="keywordtype">void</span> <a class="code" href="classMatrixRowCol.html#a35">MatrixRowCol::SubRowCol</a>(<a class="code" href="classMatrixRowCol.html">MatrixRowCol</a>&amp; mrc, <span class="keywordtype">int</span> skip1, <span class="keywordtype">int</span> l1)<span class="keyword"> const </span>{
00435         mrc.<a class="code" href="classMatrixRowCol.html#m0">length</a> = l1;  <span class="keywordtype">int</span> d = skip - skip1;
00436         <span class="keywordflow">if</span> (d&lt;0) { mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a> = 0; mrc.<a class="code" href="classMatrixRowCol.html#m5">data</a> = data - d; }
00437         <span class="keywordflow">else</span>  { mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a> = d; mrc.<a class="code" href="classMatrixRowCol.html#m5">data</a> = data; }
00438         d = skip + <a class="code" href="classNEWMAT_1_1GeneralMatrix.html#n3">storage</a> - skip1;
00439         d = ((l1 &lt; d) ? l1 : d) - mrc.<a class="code" href="classMatrixRowCol.html#m1">skip</a>;  mrc.<a class="code" href="classMatrixRowCol.html#m2">storage</a> = (d &lt; 0) ? 0 : d;
00440         mrc.<a class="code" href="classMatrixRowCol.html#m6">cw</a> = 0;
00441     }
00442 
00443 <span class="preprocessor">#ifdef use_namespace</span>
00444 <span class="preprocessor"></span>}
00445 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:37:05 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
