<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OVGABUF3.CPP Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>OVGABUF3.CPP</h1><a href="OVGABUF3_8CPP.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 <span class="comment">//----------- Begin of function VgaBuf::d3_panel_up ------------//</span>
00017 <span class="comment">void VgaBuf::d3_panel_up(int x1,int y1,int x2,int y2,int t,int paintCentre, char* tileName) {</span>
00018     <span class="keywordtype">int</span> i,x,y;
00019 
00020     <span class="keywordflow">if</span>( !image_init_flag ) {
00021         <a class="code" href="ALL_8H.html#a0">err_when</a>( x1&gt;x2 || y1&gt;y2 || x1&lt;0 || y1&lt;0 || x2&gt;=<a class="code" href="OVGA_8H.html#a0">VGA_WIDTH</a> || y2&gt;=<a class="code" href="OVGA_8H.html#a1">VGA_HEIGHT</a> );
00022 
00023         <span class="keywordflow">if</span>( d3_has_shadow )
00024             mouse.hide_area( max(0,x1-VGA_SHADOW_WIDTH), y1, x2, min(<a class="code" href="OVGA_8H.html#a1">VGA_HEIGHT</a>-1,y2+VGA_SHADOW_HEIGHT) );
00025         <span class="keywordflow">else</span>
00026             mouse.hide_area( x1,y1,x2,y2 );
00027     }
00028     <span class="keywordflow">else</span> {
00029         <a class="code" href="ALL_8H.html#a2">err_if</a>( x1&gt;x2 || y1&gt;y2 || x1&lt;0 || y1&lt;0 || x2&gt;=image_width|| y2&gt;=image_height )
00030             <a class="code" href="ALL_8H.html#a1">err_here</a>();
00031     }
00032 
00033     <span class="comment">//------------------------------------------------//</span>
00034 
00035     <span class="keywordflow">if</span>( d3_has_border ) {
00036         <span class="keywordflow">if</span>( paintCentre ) {
00037             <span class="keywordflow">if</span>( tileName )
00038                 tile( x1+t+1, y1+t+1, x2-t-1, y2-t-1, tileName);
00039             <span class="keywordflow">else</span>
00040                 <span class="comment">// centre</span>
00041                 (*vga_bar_fp)( x1+t+1, y1+t+1, x2-t-1, y2-t-1, color_up );
00042         }
00043 
00044         <span class="keywordflow">for</span>( i=t, y=y1+t ; y&gt;y1 ; y--,i-- )
00045             <span class="comment">// top side</span>
00046             (*vga_bar_fp)( x1+i,y,x2-i,y, i==0?<a class="code" href="COLOR_8H.html#a17">V_WHITE</a>:color_light );
00047 
00048         <span class="keywordflow">for</span>( i=t, x=x1+t ; x&gt;x1 ; x--,i-- )           <span class="comment">// right side</span>
00049             <span class="comment">// left side</span>
00050             (*vga_bar_fp)( x,y1+i,x,y2-i, i==0?<a class="code" href="COLOR_8H.html#a17">V_WHITE</a>:color_light );
00051 
00052         <span class="keywordflow">for</span>( i=t, y=y2-t ; y&lt;y2 ; y++,i-- )
00053             <span class="comment">// bottom side</span>
00054             (*vga_bar_fp)( x1+i,y,x2-i,y, i==0?color_dark+2:color_dark-2 );
00055 
00056         <span class="keywordflow">for</span>( i=t, x=x2-t ; x&lt;x2 ; x++,i-- )           <span class="comment">// right side</span>
00057             (*vga_bar_fp)( x,y1+i,x,y2-i, i==0?color_dark+2:color_dark-2 );
00058 
00059         (*vga_bar_fp)( x1,y1,x2,y1, color_border );   <span class="comment">// border</span>
00060         (*vga_bar_fp)( x1,y2,x2,y2, color_border );
00061         (*vga_bar_fp)( x1,y1,x1,y2, color_border );
00062         (*vga_bar_fp)( x2,y1,x2,y2, color_border );
00063     }
00064     <span class="keywordflow">else</span> {
00065         <span class="keywordflow">if</span>( paintCentre ) {
00066             <span class="keywordflow">if</span>( tileName )
00067                 tile( x1+t, y1+t, x2-t, y2-t, tileName);
00068             <span class="keywordflow">else</span>
00069                 <span class="comment">// centre</span>
00070                 (*vga_bar_fp)( x1+t, y1+t, x2-t, y2-t, color_up );
00071         }
00072 
00073         <span class="keywordflow">for</span>( i=t-1, y=y1+t-1 ; y&gt;=y1 ; y--,i-- )
00074             <span class="comment">// top side</span>
00075             (*vga_bar_fp)( x1+i,y,x2-i,y, i==0?<a class="code" href="COLOR_8H.html#a17">V_WHITE</a>:color_light );
00076 
00077         <span class="keywordflow">for</span>( i=t-1, x=x1+t-1 ; x&gt;=x1 ; x--,i-- )
00078             <span class="comment">// left side</span>
00079             (*vga_bar_fp)( x,y1+i,x,y2-i, i==0?<a class="code" href="COLOR_8H.html#a17">V_WHITE</a>:color_light );
00080 
00081         <span class="keywordflow">for</span>( i=t-1, y=y2-t+1 ; y&lt;=y2 ; y++,i-- )
00082             <span class="comment">// bottom side</span>
00083             (*vga_bar_fp)( x1+i,y,x2-i,y, i==0?color_dark+2:color_dark-2 );
00084 
00085         <span class="keywordflow">for</span>( i=t-1, x=x2-t+1 ; x&lt;=x2 ; x++,i-- )      <span class="comment">// right side</span>
00086             (*vga_bar_fp)( x,y1+i,x,y2-i, i==0?color_dark+2:color_dark-2 );
00087     }
00088 
00089     <span class="comment">//-------- Display shadow ------------//</span>
00090 
00091     <span class="keywordflow">if</span>( d3_has_shadow &amp;&amp; !image_init_flag ) {
00092         <span class="keywordflow">if</span>( x1&gt;0 )                                    <span class="comment">// left vertical shadow</span>
00093             darken( max(0,x1-VGA_SHADOW_WIDTH), y1+VGA_SHADOW_HEIGHT, x1-1, y2, VGA_SHADOW_DEGREE );
00094 
00095         <span class="keywordflow">if</span>( y2 &lt; <a class="code" href="OVGA_8H.html#a1">VGA_HEIGHT</a>-1 )                       <span class="comment">// bottom horizontal shadow</span>
00096             darken( max(0,x1-VGA_SHADOW_WIDTH), y2+1, x2-VGA_SHADOW_WIDTH, min(<a class="code" href="OVGA_8H.html#a1">VGA_HEIGHT</a>-1, y2+VGA_SHADOW_HEIGHT), VGA_SHADOW_DEGREE );
00097     }
00098 
00099     <span class="comment">//-------------------------------------------//</span>
00100 
00101     <span class="keywordflow">if</span>( !image_init_flag )
00102         mouse.show_area();
00103 }
00104 
00105 <span class="comment">//------------- End of function VgaBuf::d3_panel_up ------------//</span>
00106 
00107 <span class="comment">//----------- Begin of function VgaBuf::d3_panel_down ------------//</span>
00120 <span class="comment">void VgaBuf::d3_panel_down(int x1,int y1,int x2,int y2,int t,int paintCentre, char* tileName) {</span>
00121     <span class="keywordtype">int</span> i,x,y;
00122 
00123     <span class="keywordflow">if</span>( !image_init_flag ) {
00124         <a class="code" href="ALL_8H.html#a0">err_when</a>( x1&gt;x2 || y1&gt;y2 || x1&lt;0 || y1&lt;0 || x2&gt;=<a class="code" href="OVGA_8H.html#a0">VGA_WIDTH</a> || y2&gt;=<a class="code" href="OVGA_8H.html#a1">VGA_HEIGHT</a> );
00125 
00126         mouse.hide_area( x1,y1,x2,y2 );               <span class="comment">// if the mouse cursor is in that area, hide it</span>
00127     }
00128     <span class="keywordflow">else</span>
00129         <a class="code" href="ALL_8H.html#a0">err_when</a>( x1&gt;x2 || y1&gt;y2 || x1&lt;0 || y1&lt;0 || x2&gt;=image_width|| y2&gt;=image_height );
00130 
00131     <span class="comment">//---------- main centre area -----------//</span>
00132 
00133     <span class="keywordflow">if</span>( paintCentre ) {
00134         <span class="keywordflow">if</span>( d3_has_border ) {
00135             <span class="keywordflow">if</span>( tileName )
00136                 tile( x1+t+1, y1+t+1, x2-t-1, y2-t-1, tileName);
00137             <span class="keywordflow">else</span>
00138                 <span class="comment">// centre</span>
00139                 (*vga_bar_fp)( x1+t+1, y1+t+1, x2-t-1, y2-t-1, color_down );
00140         }
00141         <span class="keywordflow">else</span> {
00142             <span class="keywordflow">if</span>( tileName )
00143                 tile( x1+t, y1+t, x2-t, y2-t, tileName );
00144             <span class="keywordflow">else</span>
00145                 (*vga_bar_fp)( x1+t, y1+t, x2-t, y2-t, color_down );
00146         }
00147     }
00148 
00149     <span class="comment">//----------- panel sides -----------//</span>
00150 
00151     <span class="keywordflow">if</span>( t == 2 ) {                                  <span class="comment">// when thickness==2, use four different color for the down panel</span>
00152         <span class="comment">// outer lines</span>
00153 
00154         <span class="comment">// top</span>
00155         (*vga_bar_fp)( x1,y1,x2-1,y1,color_scheme+8  );
00156         <span class="comment">// bottom</span>
00157         (*vga_bar_fp)( x1+1,y2,x2,y2,<a class="code" href="COLOR_8H.html#a17">V_WHITE</a>         );
00158         <span class="comment">// left</span>
00159         (*vga_bar_fp)( x1,y1,x1,y2-1,color_scheme+8  );
00160         <span class="comment">// right</span>
00161         (*vga_bar_fp)( x2,y1+1,x2,y2,<a class="code" href="COLOR_8H.html#a17">V_WHITE</a>         );
00162 
00163         <span class="comment">// inner lines</span>
00164 
00165         <span class="comment">// bottom</span>
00166         (*vga_bar_fp)( x1+1,y1+1,x2-1,y1+1,color_scheme+15 );
00167         <span class="comment">// top</span>
00168         (*vga_bar_fp)( x1+1,y2-1,x2-1,y2-1,color_scheme+1  );
00169         <span class="comment">// left</span>
00170         (*vga_bar_fp)( x1+1,y1+1,x1+1,y2-1,color_scheme+15 );
00171         <span class="comment">// right</span>
00172         (*vga_bar_fp)( x2-1,y1+1,x2-1,y2-1,color_scheme+1  );
00173     }
00174     <span class="keywordflow">else</span> {                                          <span class="comment">// one unit thickness</span>
00175         <span class="keywordflow">for</span>( i=t-1, y=y2-t+1 ; y&lt;=y2 ; y++,i-- )
00176             <span class="comment">// bottom</span>
00177             (*vga_bar_fp)( x1+i,y,x2-i,y,i==0?<a class="code" href="COLOR_8H.html#a17">V_WHITE</a>:color_light );
00178 
00179         <span class="keywordflow">for</span>( i=t-1, x=x2-t+1 ; x&lt;=x2 ; x++,i-- )      <span class="comment">// left</span>
00180             <span class="comment">// right</span>
00181             (*vga_bar_fp)( x,y1+i,x2,y2-i,i==0?<a class="code" href="COLOR_8H.html#a17">V_WHITE</a>:color_light );
00182 
00183         <span class="keywordflow">for</span>( i=t-1, y=y1+t-1 ; y&gt;=y1 ; y--,i-- )      <span class="comment">// top</span>
00184             (*vga_bar_fp)( x1+i,y,x2-i,y,i==0?color_dark+2:color_dark-2 );
00185 
00186         <span class="keywordflow">for</span>( i=t-1, x=x1+t-1 ; x&gt;=x1 ; x--,i-- )      <span class="comment">// left</span>
00187             (*vga_bar_fp)( x,y1+i,x,y2-i,i==0?color_dark+2:color_dark-2 );
00188     }
00189 
00190     <span class="comment">//---------- dark border ------------//</span>
00191 
00192     <span class="keywordflow">if</span>( d3_has_border ) {
00193         x1+=t;
00194         x2-=t;
00195         y1+=t;
00196         y2-=t;
00197 
00198         (*vga_bar_fp)( x1,y1,x2,y1, color_border );
00199         (*vga_bar_fp)( x1,y2,x2,y2, color_border );
00200         (*vga_bar_fp)( x1,y1,x1,y2, color_border );
00201         (*vga_bar_fp)( x2,y1,x2,y2, color_border );
00202     }
00203 
00204     <span class="keywordflow">if</span>( !image_init_flag )
00205         mouse.show_area();
00206 }
00207 
00208 <span class="comment">//------------- End of function VgaBuf::d3_panel_down ------------//</span>
00209 
00210 <span class="comment">//----------- Begin of function VgaBuf::d3_panel_up_clear ------------//</span>
00220 <span class="comment">void VgaBuf::d3_panel_up_clear(int x1,int y1,int x2,int y2,int t, char* tileName) {</span>
00221     t += d3_has_border;
00222 
00223     <span class="keywordflow">if</span>( tileName )
00224         tile( x1+t, y1+t, x2-t, y2-t, tileName );
00225     <span class="keywordflow">else</span>
00226         bar( x1+t, y1+t, x2-t, y2-t, color_up );
00227 }
00228 
00229 <span class="comment">//------------- End of function VgaBuf::d3_panel_up_clear ------------//</span>
00230 
00231 <span class="comment">//----------- Begin of function VgaBuf::d3_panel_down_clear ------------//</span>
00241 <span class="comment">void VgaBuf::d3_panel_down_clear(int x1,int y1,int x2,int y2,int t, char* tileName) {</span>
00242     t += d3_has_border;
00243 
00244     <span class="keywordflow">if</span>( tileName )
00245         tile( x1+t, y1+t, x2-t, y2-t, tileName );
00246     <span class="keywordflow">else</span>
00247         bar( x1+t, y1+t, x2-t, y2-t, color_down );
00248 }
00249 
00250 <span class="comment">//------------- End of function VgaBuf::d3_panel_down_clear ------------//</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:38:35 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
