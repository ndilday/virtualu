<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Ofacilit.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Ofacilit.h</h1><a href="Ofacilit_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : OFACILIT.H</span>
00002 <span class="comment">//Description : Facility Office Class Declaration</span>
00003 <span class="comment">//              Refer to HE.Facilities.xls and techdoc 2.4</span>
00004 <span class="comment">//Owner           : Fred</span>
00005 
00006 <span class="preprocessor">#ifndef __OFacilit_H</span>
00007 <span class="preprocessor"></span><span class="preprocessor">#define __OFacilit_H</span>
00008 <span class="preprocessor"></span>
00009 <span class="preprocessor">#include &lt;GAMEDEF.H&gt;</span>
00010 
00011 <span class="comment">//----------- Define constants -------------//</span>
00012 
00013 <span class="comment">//----------- Define class Facility --------------//</span>
00014 <span class="comment">//</span>
<a name="l00018"></a><a class="code" href="classFacility.html">00018</a> <span class="comment">class Facility {</span>
00019 <span class="keyword">public</span>:
00020     <span class="comment">//##### begin ho 980813 #####//</span>
00021 <span class="keyword">public</span>:
00022     <a class="code" href="classFacility.html">Facility</a>();
00023     ~<a class="code" href="classFacility.html">Facility</a>();
00024     <span class="keywordtype">void</span> init();
00025     <span class="keywordtype">void</span> deinit();
00026     <span class="keywordtype">void</span> report(<span class="keywordtype">int</span>);
00027     <span class="keywordtype">int</span> detect();
00028     <span class="keywordtype">int</span> detect2();
00029 
<a name="l00030"></a><a class="code" href="classFacility.html#m0">00030</a>     <span class="keywordtype">char</span> current_mode;
00031     <span class="comment">//##### end ho 980813 #####//</span>
00032 
00033     <span class="keywordtype">int</span>     write_file(<a class="code" href="classFile.html">File</a>* filePtr);
00034     <span class="keywordtype">int</span>     read_file(<a class="code" href="classFile.html">File</a>* filePtr);
00035 
00036     <span class="comment">//----- vars and methods related to simulation and statistics</span>
00037 
00038 <span class="keyword">public</span>:
00039     <span class="comment">//----- constants or other factors -----//</span>
00040     <span class="comment">// Debt capacity parameters</span>
00041     <span class="comment">//### begin zhoubin 02/25/99</span>
<a name="l00042"></a><a class="code" href="classFacility.html#m2">00042</a>     <span class="keywordtype">float</span> spinner_var1,spinner_var3,debt_spinner_var1,debt_spinner_var2;
00043 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00044 <span class="preprocessor"></span>    <span class="keywordtype">float</span> spinner_var4;
00045 <span class="preprocessor">#endif</span>
00046 <span class="preprocessor"></span>    <span class="comment">//### end zhoubin 02/25/99</span>
00047     <span class="comment">// = 0.5f;</span>
<a name="l00048"></a><a class="code" href="classFacility.html#m5">00048</a>     <span class="keywordtype">float</span> maximum_debt_balance_as_a_percent_of_funds_balances;
00049     <span class="comment">// = 0.08f;</span>
<a name="l00050"></a><a class="code" href="classFacility.html#m6">00050</a>     <span class="keywordtype">float</span> max_interest_payments_as_a_percent_of_operating_expenditures;
00051 
00052     <span class="comment">// = 0.1f;</span>
<a name="l00053"></a><a class="code" href="classFacility.html#m7">00053</a>     <span class="keywordtype">float</span> percent_gap_required_before_new_construction_is_considered;
<a name="l00054"></a><a class="code" href="classFacility.html#m8">00054</a>     <span class="keywordtype">float</span> escalation_factor_for_deferrd_maintenance_per_year;
00055 
00056     <span class="comment">//----- for intermediate calculation -----//</span>
<a name="l00057"></a><a class="code" href="classFacility.html#m9">00057</a>     <span class="keywordtype">int</span> total_normal_onm;
<a name="l00058"></a><a class="code" href="classFacility.html#m10">00058</a>     <span class="keywordtype">float</span> total_actual_new_debt;
00059     <span class="comment">// G63</span>
<a name="l00060"></a><a class="code" href="classFacility.html#m11">00060</a>     <span class="keywordtype">float</span> construction_project_spending[HISTORY_YEAR_COUNT];
00061 
00062     <span class="comment">//-----------------------------------//</span>
00063 
00064 <span class="keyword">public</span>:
00065     <span class="comment">//----- player_input -----//</span>
<a name="l00066"></a><a class="code" href="classFacility.html#m12">00066</a>     <span class="keywordtype">int</span> cur_debt_limit;
<a name="l00067"></a><a class="code" href="classFacility.html#m13">00067</a>     <span class="keywordtype">float</span> percent_project_funded_with_debt;       <span class="comment">// 33.3 =&gt; 33.3%</span>
00068 
<a name="l00069"></a><a class="code" href="classFacility.html#m14">00069</a>     <span class="keywordtype">int</span> min_capital_reserve_balance;              <span class="comment">// new input</span>
00070 
00071     <span class="comment">//----- interface_output -----//</span>
00072 
<a name="l00073"></a><a class="code" href="classFacility.html#m15">00073</a>     <span class="keywordtype">int</span> begin_backlog;                            <span class="comment">// amount needed to keep up</span>
<a name="l00074"></a><a class="code" href="classFacility.html#m16">00074</a>     <span class="keywordtype">int</span> cur_change_backlog;
<a name="l00075"></a><a class="code" href="classFacility.html#m17">00075</a>     <span class="keywordtype">float</span> facility_staff_morale;
00076 
00077     <span class="comment">// this old var can be removed</span>
00078     <span class="comment">// G68</span>
<a name="l00079"></a><a class="code" href="classFacility.html#m18">00079</a>     <span class="keywordtype">float</span> ratio_of_square_footage_to_benchmark[HISTORY_YEAR_COUNT];
00080 
00081     <span class="comment">// for screen Space Usage</span>
<a name="l00082"></a><a class="code" href="classFacility.html#m19">00082</a>     <span class="keywordtype">float</span> total_invest_close_gap;                 <span class="comment">// $000               // updated monthly in calc_facility_staff_morale</span>
<a name="l00083"></a><a class="code" href="classFacility.html#m22">00083</a>     <span class="keywordtype">int</span> normal_area[HISTORY_MONTH_COUNT],
00084         actual_area[HISTORY_MONTH_COUNT],
00085         projected_area[HISTORY_MONTH_COUNT];        <span class="comment">// unit: square foot</span>
00086 
00087     <span class="comment">// for other screens</span>
<a name="l00088"></a><a class="code" href="classFacility.html#m23">00088</a>     <span class="keywordtype">int</span> total_debt_capacity[HISTORY_YEAR_COUNT];  <span class="comment">// E42 &amp; E44</span>
00089     <span class="comment">// E44</span>
<a name="l00090"></a><a class="code" href="classFacility.html#m24">00090</a>     <span class="keywordtype">int</span> outstanding_debt_balance[HISTORY_YEAR_COUNT];
<a name="l00091"></a><a class="code" href="classFacility.html#m25">00091</a>     <span class="keywordtype">int</span> debt_limit[HISTORY_YEAR_COUNT];           <span class="comment">// is input also</span>
00092 
00093     <span class="comment">// O&amp;M expense and backlog history with projected values</span>
<a name="l00094"></a><a class="code" href="classFacility.html#m26">00094</a>     <span class="keywordtype">int</span> onm_n_backlog_history[HISTORY_YEAR_COUNT2];
00095 
00096     <span class="comment">// three history in a graph</span>
<a name="l00097"></a><a class="code" href="classFacility.html#m27">00097</a>     <span class="keywordtype">int</span> transfer_history[HISTORY_YEAR_COUNT];     <span class="comment">// transfer to capital reserve</span>
<a name="l00098"></a><a class="code" href="classFacility.html#m28">00098</a>     <span class="keywordtype">int</span> gifts_to_facility[HISTORY_YEAR_COUNT];
<a name="l00099"></a><a class="code" href="classFacility.html#m29">00099</a>     <span class="keywordtype">float</span> captial_reserve_expense[HISTORY_YEAR_COUNT];
00100 
00101     <span class="comment">// ##### Begin MArco ##### //</span>
00102 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00103 <span class="preprocessor"></span>    <span class="keywordtype">float</span> initial_total_invest_close_gap;
00104     <span class="comment">//  float   initial_captial_reserve_expense[HISTORY_YEAR_COUNT];</span>
00105     <span class="keywordtype">float</span> initial_captial_reserve_expense;
00106     <span class="keywordtype">int</span> initial_crime_index;                      <span class="comment">// 0-100</span>
00107     <span class="keywordtype">int</span> initial_normal_area;
00108     <span class="keywordtype">int</span> initial_actual_area;
00109     <span class="keywordtype">int</span> initial_projected_area;                   <span class="comment">// unit: square foot</span>
00110 <span class="preprocessor">#endif</span>
00111 <span class="preprocessor"></span>    <span class="comment">// ##### End MArco ##### //</span>
00112 
00113     <span class="comment">//-----------------------------------//</span>
00114 
00115 <span class="keyword">public</span>:
00116     <span class="keywordtype">void</span>  init_data_pre_finance();
00117     <span class="keywordtype">void</span>  init_data();
00118     <span class="keywordtype">void</span>  update_history_yearly();
00119     <span class="keywordtype">void</span>  next_day();
00120     <span class="keywordtype">void</span>  run_new_construction();
00121 
00122     <span class="comment">// ##### Begin Marco ##### //</span>
00123 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00124 <span class="preprocessor"></span>    <span class="keywordtype">void</span>  save_initial_data();
00125     <span class="keywordtype">void</span>  begin_space_inventory();
00126 <span class="preprocessor">#endif</span>
00127 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00128 
00129 <span class="keyword">private</span>:
00130     <span class="keywordtype">void</span>  update_history_sub();
00131     <span class="keywordtype">void</span>  calc_facility_staff_morale();
00132 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00133 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00134 <span class="preprocessor"></span>    <span class="keywordtype">void</span>  begin_space_inventory();
00135 <span class="preprocessor">#endif</span>
00136 <span class="preprocessor"></span>    <span class="keywordtype">void</span>  update_vars_monthly();
00137 
00138     <span class="comment">//------------------------------------------//</span>
00139     <span class="comment">// Parking and Crime model</span>
00140     <span class="comment">//------------------------------------------//</span>
00141 <span class="keyword">public</span>:
<a name="l00142"></a><a class="code" href="classFacility.html#m30">00142</a>     <span class="keywordtype">int</span> cur_parking_supply;
<a name="l00143"></a><a class="code" href="classFacility.html#m31">00143</a>     <span class="keywordtype">int</span> projected_parking_supply;
<a name="l00144"></a><a class="code" href="classFacility.html#m32">00144</a>     <span class="keywordtype">int</span> farout_capacity;
00145 
<a name="l00146"></a><a class="code" href="classFacility.html#m33">00146</a>     <span class="keywordtype">int</span> parking_demand[HISTORY_YEAR_COUNT];
<a name="l00147"></a><a class="code" href="classFacility.html#m34">00147</a>     <span class="keywordtype">int</span> parking_supply[HISTORY_YEAR_COUNT];
<a name="l00148"></a><a class="code" href="classFacility.html#m35">00148</a>     <span class="keywordtype">char</span>  crime_index[HISTORY_MONTH_COUNT];       <span class="comment">// 0-100</span>
00149 
00150     <span class="keywordtype">void</span>  update_parking(<span class="keywordtype">bool</span> init=<span class="keyword">false</span>);
00151     <span class="keywordtype">void</span>  update_crime(<span class="keywordtype">bool</span> init=<span class="keyword">false</span>);
00152 };
00153 
<a name="l00154"></a><a class="code" href="Ofacilit_8h.html#a0">00154</a> <span class="keyword">extern</span> <a class="code" href="classFacility.html">Facility</a> <a class="code" href="Ofacilit_8h.html#a0">facility_office</a>;
00155 
00156 <span class="comment">//-------------------------------------------------//</span>
00157 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:37:32 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
