<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Ofinance.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Ofinance.h</h1><a href="Ofinance_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : OFINANCE.h</span>
00002 <span class="comment">//Description : Finance Class Declaration</span>
00003 <span class="comment">//Owner       : Fred</span>
00004 
00005 <span class="comment">//IMPORTANT NOTE: most of the financial-model-related values are in $000 format!</span>
00006 
00007 <span class="preprocessor">#ifndef __OFINANCE_H</span>
00008 <span class="preprocessor"></span><span class="preprocessor">#define __OFINANCE_H</span>
00009 <span class="preprocessor"></span>
00010 <span class="preprocessor">#include &lt;OFINANC2.H&gt;</span>
00011 <span class="preprocessor">#include &lt;<a class="code" href="OHISTORY_8H.html">OHISTORY.H</a>&gt;</span>
00012 
00013 <span class="comment">//------- define report types -------//</span>
00014 
00015 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a89a1">REPORT_TYPE_COUNT</a> = 4 };
00016 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a90a2">REPORT_YEAR_COUNT</a> = 4 };
00017 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a91a3">REPORT_OPT_COUNT</a> = 3 };
00018 
00019 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a92a4">REPORT_TYPE_REVENUE</a>, <a class="code" href="Ofinance_8h.html#a92a5">REPORT_TYPE_BALANCE</a>, <a class="code" href="Ofinance_8h.html#a92a6">REPORT_TYPE_OPTIMIZATION</a>, <a class="code" href="Ofinance_8h.html#a92a7">REPORT_TYPE_DETAIL_REN</a>, <a class="code" href="Ofinance_8h.html#a92a8">REPORT_TYPE_BUDGET_VS_ACTUAL</a>};
00020 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a93a9">REPORT_OPT_REVENUE</a>, <a class="code" href="Ofinance_8h.html#a93a10">REPORT_OPT_FUNCTION</a>, <a class="code" href="Ofinance_8h.html#a93a11">REPORT_OPT_FACULTY</a>};
00021 
00022 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a94a12">REPORT_YEAR_THREE_YEARS</a>, <a class="code" href="Ofinance_8h.html#a94a13">REPORT_YEAR_PREV</a>, <a class="code" href="Ofinance_8h.html#a94a14">REPORT_YEAR_THIS</a>, <a class="code" href="Ofinance_8h.html#a94a15">REPORT_YEAR_NEXT</a> };
00023 
00024 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a95a16">POSITIVE</a> = 1, <a class="code" href="Ofinance_8h.html#a95a17">NEGATIVE</a> = -1, <a class="code" href="Ofinance_8h.html#a95a18">NO_SIGN</a> = 0 };
00025 
00026 <span class="comment">//----- define asset items in the balance sheet -----//</span>
00027 
00028 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00029 <span class="preprocessor"></span><span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a96a19">ASSET_ITEM_COUNT</a> = 7 };
00030 <span class="preprocessor">#else</span>
00031 <span class="preprocessor"></span><span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a96a19">ASSET_ITEM_COUNT</a> = 6 };
00032 <span class="preprocessor">#endif</span>
00033 <span class="preprocessor"></span>
00034 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00035 <span class="preprocessor"></span><span class="keyword">enum</span> {
00036     <a class="code" href="Ofinance_8h.html#a97a20">AC_OPERATING_RESERVE</a>,
00037     <a class="code" href="Ofinance_8h.html#a97a21">AC_CAPITAL_RESERVE</a>,                             <span class="comment">// also called "plant reserve"</span>
00038     <a class="code" href="Ofinance_8h.html#a97a22">AC_ENDOWMENT</a>,                                   <span class="comment">// also called "endowment market value"</span>
00039     <a class="code" href="Ofinance_8h.html#a97a23">AC_BUILDINGS</a>,                                   <span class="comment">// also called "replacement cost of facilities" or "plant value"</span>
00040     <a class="code" href="Ofinance_8h.html#a97a24">AC_RESIDENCE</a>,
00041     AC_QUASI,
00042 
00043     <a class="code" href="Ofinance_8h.html#a97a25">AC_ASSET_TOTAL</a>,
00044 };
00045 <span class="preprocessor">#else</span>
00046 <span class="preprocessor"></span><span class="keyword">enum</span> {
00047     <a class="code" href="Ofinance_8h.html#a97a20">AC_OPERATING_RESERVE</a>,
00048     <a class="code" href="Ofinance_8h.html#a97a21">AC_CAPITAL_RESERVE</a>,                             <span class="comment">// also called "plant reserve"</span>
00049     <a class="code" href="Ofinance_8h.html#a97a22">AC_ENDOWMENT</a>,                                   <span class="comment">// also called "endowment market value"</span>
00050     <a class="code" href="Ofinance_8h.html#a97a23">AC_BUILDINGS</a>,                                   <span class="comment">// also called "replacement cost of facilities" or "plant value"</span>
00051     <a class="code" href="Ofinance_8h.html#a97a24">AC_RESIDENCE</a>,
00052 
00053     <a class="code" href="Ofinance_8h.html#a97a25">AC_ASSET_TOTAL</a>,
00054 };
00055 <span class="preprocessor">#endif</span>
00056 <span class="preprocessor"></span>
00057 <span class="comment">//--- define liability items in the balance sheet ---//</span>
00058 
00059 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a98a26">LIABILITY_ITEM_COUNT</a> = 3 };
00060 
00061 <span class="keyword">enum</span> {
00062     <a class="code" href="Ofinance_8h.html#a99a27">AC_GENERAL_PLANT_DEBT</a>,
00063     <a class="code" href="Ofinance_8h.html#a99a28">AC_RESIDENCE_HALL_DEBT</a>,
00064 
00065     <a class="code" href="Ofinance_8h.html#a99a29">AC_LIABILITY_TOTAL</a>,
00066 
00067     <a class="code" href="Ofinance_8h.html#a99a30">AC_BANK_BORROWING</a> = 2,
00068 };
00069 
00070 <span class="comment">//-------- define revenue items ---------//</span>
00071 
00072 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a100a31">REVENUE_ITEM_COUNT</a> = 10 };
00073 
00074 <span class="keyword">enum</span> {
00075     <a class="code" href="Ofinance_8h.html#a101a32">AC_GROSS_TUITION_INCOME</a>,
00076     <a class="code" href="Ofinance_8h.html#a101a33">AC_FINANCIAL_AID</a>,
00077     <a class="code" href="Ofinance_8h.html#a101a34">AC_NET_TUITION_INCOME</a>,                          <span class="comment">// fred 0603</span>
00078     <a class="code" href="Ofinance_8h.html#a101a35">AC_SPONSORED_RESEARCH_REVENUE</a>,
00079     <a class="code" href="Ofinance_8h.html#a101a36">AC_GIFTS</a>,
00080     <a class="code" href="Ofinance_8h.html#a101a37">AC_ENDOWMENT_SPENDING</a>,
00081     <a class="code" href="Ofinance_8h.html#a101a38">AC_INTERCOLLEGIATE_ATHLETICS</a>,
00082     <a class="code" href="Ofinance_8h.html#a101a39">AC_OTHER_OPERATING_INCOME</a>,
00083     <a class="code" href="Ofinance_8h.html#a101a40">AC_INTEREST_EARNED_OR_PAID</a>,
00084     <a class="code" href="Ofinance_8h.html#a101a41">AC_STATE_APPROPRIATION</a>,                         <span class="comment">// fred 1106</span>
00085 };
00086 
00087 <span class="keyword">enum</span> {
00088     <a class="code" href="Ofinance_8h.html#a102a42">OPERATING_EXPENSE_ITEM_COUNT</a> = 10,
00089     <a class="code" href="Ofinance_8h.html#a102a43">TOTAL_EXPENSE_ITEM_COUNT</a> = <a class="code" href="Ofinance_8h.html#a102a42">OPERATING_EXPENSE_ITEM_COUNT</a> + 2
00090 };
00091 
00092 <span class="comment">//-------- define expense items ---------//</span>
00093 
00094 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a103a44">EXPENSE_ITEM_COUNT</a> = <a class="code" href="Ofinance_8h.html#a102a43">TOTAL_EXPENSE_ITEM_COUNT</a> };
00095 
00096 <span class="keyword">enum</span> {
00097     <a class="code" href="Ofinance_8h.html#a104a45">AC_ACADEMIC_DEPARTMENTS</a>,
00098     <a class="code" href="Ofinance_8h.html#a104a46">AC_SPONSORED_RESEARCH_EXPENSE</a>,
00099     <a class="code" href="Ofinance_8h.html#a104a47">AC_LIBRARIES</a>=2,
00100     <a class="code" href="Ofinance_8h.html#a104a48">AC_IT_RESOURCES</a>=3,
00101     <a class="code" href="Ofinance_8h.html#a104a49">AC_STUDENT_LIFE</a>,
00102     <a class="code" href="Ofinance_8h.html#a104a50">AC_ATHLETICS</a>,
00103     <a class="code" href="Ofinance_8h.html#a104a51">AC_INST_ADVANCEMENT</a>,
00104     <a class="code" href="Ofinance_8h.html#a104a52">AC_ADMINISTRATION_N_OTHER_OPERATING_EXPENSE</a>,
00105     <a class="code" href="Ofinance_8h.html#a104a53">AC_OPERATIONS_AND_MAINTENANCE</a>,
00106     <a class="code" href="Ofinance_8h.html#a104a54">AC_ENROLLMENT_MANAGEMENT</a>,
00107     <a class="code" href="Ofinance_8h.html#a104a55">AC_SERVICE_ON_GENERAL_PLANT_DEBT</a>,               <span class="comment">// other uses of funds</span>
00108     <a class="code" href="Ofinance_8h.html#a104a56">AC_TRANSFER_TO_CAPITAL_RESERVE</a>,
00109 };
00110 
00111 <span class="comment">//-------- define student policies -------//</span>
00112 
00113 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a105a57">STUDENT_POLICY_COUNT</a> = 6 };
00114 
00115 <span class="keyword">enum</span> {
00116     <a class="code" href="Ofinance_8h.html#a106a58">PL_TRADITIONAL_UG</a>,
00117     <a class="code" href="Ofinance_8h.html#a106a59">PL_NON_TRADITIONAL_UG</a>,
00118     <a class="code" href="Ofinance_8h.html#a106a60">PL_MASTERS_PROFESSIONAL</a>,
00119     <a class="code" href="Ofinance_8h.html#a106a61">PL_DOCTORAL</a>,
00120     <a class="code" href="Ofinance_8h.html#a106a62">PL_DISTANCE_LEARN</a>,
00121     <a class="code" href="Ofinance_8h.html#a106a63">PL_TOTAL</a>,
00122 };
00123 
00124 <span class="comment">//-------- define revenue policies -------//</span>
00125 
00126 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a107a64">REVENUE_POLICY_COUNT</a> = 4 };
00127 
00128 <span class="keyword">enum</span> {
00129     <a class="code" href="Ofinance_8h.html#a108a65">PL_TUITION_RATE_GROWTH</a>,
00130     <a class="code" href="Ofinance_8h.html#a108a66">PL_FINANCIAL_AID</a>,
00131     <a class="code" href="Ofinance_8h.html#a108a67">PL_ENDOWMENT_SPENDING_RATE</a>,
00132     <a class="code" href="Ofinance_8h.html#a108a68">PL_INDIRECT_COST_RATE</a>,                          <span class="comment">// = Research overhead rate // total = direct * (1+overhead)</span>
00133 };
00134 
00135 <span class="comment">//-------- define expense policies -------//</span>
00136 
00137 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a109a69">EXPENSE_POLICY_COUNT</a> = 5 };
00138 
00139 <span class="keyword">enum</span> {
00140     <a class="code" href="Ofinance_8h.html#a110a70">PL_FACULTY_SALARY_INCREASES</a>,
00141     <a class="code" href="Ofinance_8h.html#a110a71">PL_STAFF_SALARY_INCREASES</a>,
00142     <span class="comment">//PL_OTHER_COST_RISE_PROVISION,</span>
00143     <a class="code" href="Ofinance_8h.html#a110a72">PL_BUDGET_ADJUSTMENT</a>,                           <span class="comment">// = NET_OPERATING_BUDGET_GROWTH            // BUG ?</span>
00144     <a class="code" href="Ofinance_8h.html#a110a73">PL_REAL_TRANSFER_TO_PLANT_GROWTH</a>,
00145     <a class="code" href="Ofinance_8h.html#a110a74">PL_SURPLUS_DEFICIT</a>,
00146 };
00147 
00148 <span class="comment">//--- define policy variables for allocating net operating budget growth ---//</span>
00149 <span class="keyword">enum</span> { <a class="code" href="Ofinance_8h.html#a111a75">COST_RISE_POLICY_COUNT</a> = 10 };
00150 
00151 <span class="keyword">enum</span> {
00152     <a class="code" href="Ofinance_8h.html#a112a76">PL_FACULTY_FTE</a>,
00153     <a class="code" href="Ofinance_8h.html#a112a77">PL_NON_FACULTY_DEPARTMENTAL_EXPENSE</a>,
00154     <a class="code" href="Ofinance_8h.html#a112a78">PL_LIBRARIES</a> = 2,
00155     <a class="code" href="Ofinance_8h.html#a112a79">PL_INFO_TECH_RESOURCES</a> = 3,
00156     <a class="code" href="Ofinance_8h.html#a112a80">PL_STUDENT_LIFE</a>,
00157     <a class="code" href="Ofinance_8h.html#a112a81">PL_ATHLETICS</a>,
00158     <a class="code" href="Ofinance_8h.html#a112a82">PL_INST_ADVANCEMENT</a>,
00159     <a class="code" href="Ofinance_8h.html#a112a83">PL_ADMINISTRATION</a>,
00160     <a class="code" href="Ofinance_8h.html#a112a84">PL_OPERATIONS_AND_MAINTENANCE</a>,
00161     <a class="code" href="Ofinance_8h.html#a112a85">PL_ENROLLMENT_MANAGEMENT</a>,
00162 };
00163 
00164 <span class="comment">//------- Define constants for budget change (BC)------//</span>
00165 
00166 <span class="keyword">enum</span> {
00167     <a class="code" href="Ofinance_8h.html#a113a86">CONSIDER_NEXT_YEAR</a>,
00168     <a class="code" href="Ofinance_8h.html#a113a87">ANNOUNCE_NEXT_YEAR</a>,
00169     <a class="code" href="Ofinance_8h.html#a113a88">IMPLEMENT_NOW</a>,
00170 };
00171 
00172 <span class="comment">//------- Define struct RevenueItem ------//</span>
00173 
<a name="l00177"></a><a class="code" href="structRevenueItem.html">00177</a> <span class="keyword">struct </span><a class="code" href="structRevenueItem.html">RevenueItem</a> {
<a name="l00178"></a><a class="code" href="structRevenueItem.html#m0">00178</a>     <span class="keywordtype">double</span>   <a class="code" href="structRevenueItem.html#m0">direct</a>;
<a name="l00179"></a><a class="code" href="structRevenueItem.html#m1">00179</a>     <span class="keywordtype">double</span> <a class="code" href="structRevenueItem.html#m1">indirect</a>;
<a name="l00180"></a><a class="code" href="structRevenueItem.html#m2">00180</a>     <span class="keywordtype">double</span> <a class="code" href="structRevenueItem.html#m2">total</a>;
<a name="l00181"></a><a class="code" href="structRevenueItem.html#m3">00181</a>     <span class="keywordtype">double</span> <a class="code" href="structRevenueItem.html#m3">percent</a>;
00182 };
00183 
00184 <span class="comment">//------- Define struct ExpenseItem ------//</span>
00185 
<a name="l00187"></a><a class="code" href="structExpenseItem.html">00187</a> <span class="keyword">struct </span><a class="code" href="structExpenseItem.html">ExpenseItem</a> {
<a name="l00188"></a><a class="code" href="structExpenseItem.html#m0">00188</a>     <span class="keywordtype">double</span>   <a class="code" href="structExpenseItem.html#m0">faculty</a>;
<a name="l00189"></a><a class="code" href="structExpenseItem.html#m1">00189</a>     <span class="keywordtype">double</span> <a class="code" href="structExpenseItem.html#m1">staff</a>;
<a name="l00190"></a><a class="code" href="structExpenseItem.html#m2">00190</a>     <span class="keywordtype">double</span> <a class="code" href="structExpenseItem.html#m2">other</a>;
<a name="l00191"></a><a class="code" href="structExpenseItem.html#m3">00191</a>     <span class="keywordtype">double</span> <a class="code" href="structExpenseItem.html#m3">total</a>;
<a name="l00192"></a><a class="code" href="structExpenseItem.html#m4">00192</a>     <span class="keywordtype">double</span> <a class="code" href="structExpenseItem.html#m4">percent</a>;
00193 };
00194 
00195 <span class="comment">//------ Define struct StudentPolicy ------//</span>
<a name="l00199"></a><a class="code" href="structStudentPolicy.html">00199</a> <span class="comment">struct StudentPolicy {                            // for estimate number of each of the 5 groups of student</span>
00200     <span class="comment">//int       last_year;</span>
<a name="l00201"></a><a class="code" href="structStudentPolicy.html#m0">00201</a>     <span class="keywordtype">int</span>  continue_next_year;
00202     <span class="comment">//int       intake_target;                  // inputed by the player</span>
<a name="l00203"></a><a class="code" href="structStudentPolicy.html#m1">00203</a>     <span class="keywordtype">int</span>  estimate_next_year;
00204 };
00205 
00206 <span class="comment">//------ Define struct FinancePolicy ------//</span>
00207 
<a name="l00209"></a><a class="code" href="structFinancePolicy.html">00209</a> <span class="keyword">struct </span><a class="code" href="structFinancePolicy.html">FinancePolicy</a> {                            <span class="comment">// for revenue policies, expense and surplus/deficit policies</span>
00210     <span class="comment">// inputed by the player</span>
<a name="l00211"></a><a class="code" href="structFinancePolicy.html#m0">00211</a>     <span class="keywordtype">double</span> <a class="code" href="structFinancePolicy.html#m0">target_value</a>;
<a name="l00212"></a><a class="code" href="structFinancePolicy.html#m1">00212</a>     <span class="keywordtype">double</span> <a class="code" href="structFinancePolicy.html#m1">lower_bound</a>;
<a name="l00213"></a><a class="code" href="structFinancePolicy.html#m2">00213</a>     <span class="keywordtype">double</span> <a class="code" href="structFinancePolicy.html#m2">upper_bound</a>;
<a name="l00214"></a><a class="code" href="structFinancePolicy.html#m3">00214</a>     <span class="keywordtype">double</span> <a class="code" href="structFinancePolicy.html#m3">import_weight</a>;
<a name="l00215"></a><a class="code" href="structFinancePolicy.html#m4">00215</a>     <span class="keywordtype">bool</span>   <a class="code" href="structFinancePolicy.html#m4">required_flag</a>;                           <span class="comment">// = true if "implemented" is selected by player</span>
<a name="l00216"></a><a class="code" href="structFinancePolicy.html#m5">00216</a>     <span class="keywordtype">double</span> <a class="code" href="structFinancePolicy.html#m5">result_value</a>;
00217 
<a name="l00218"></a><a class="code" href="structFinancePolicy.html#m6">00218</a>     <span class="keywordtype">char</span>   <a class="code" href="structFinancePolicy.html#m6">applied_flag</a>;                            <span class="comment">// = P_NONE, P_CONSIDER, P_PROMOISE, P_IMPLEMENT,</span>
00219 
00220     <span class="comment">//--- model-determined constants; unchanged after battle start ---//</span>
00221 
<a name="l00222"></a><a class="code" href="structFinancePolicy.html#m7">00222</a>     <span class="keywordtype">double</span> <a class="code" href="structFinancePolicy.html#m7">lower_limit</a>;                             <span class="comment">// limit of lower bound</span>
<a name="l00223"></a><a class="code" href="structFinancePolicy.html#m8">00223</a>     <span class="keywordtype">double</span> <a class="code" href="structFinancePolicy.html#m8">upper_limit</a>;                             <span class="comment">// limit of upper bound</span>
00224 
00225     <span class="comment">//----- save last for restore -------//</span>
00226 
<a name="l00227"></a><a class="code" href="structFinancePolicy.html#m9">00227</a>     <span class="keywordtype">double</span> <a class="code" href="structFinancePolicy.html#m9">last_target_value</a>;
<a name="l00228"></a><a class="code" href="structFinancePolicy.html#m10">00228</a>     <span class="keywordtype">double</span>  <a class="code" href="structFinancePolicy.html#m10">last_upper_bound</a>;
<a name="l00229"></a><a class="code" href="structFinancePolicy.html#m11">00229</a>     <span class="keywordtype">double</span>  <a class="code" href="structFinancePolicy.html#m11">last_lower_bound</a>;
00230 
<a name="l00231"></a><a class="code" href="structFinancePolicy.html#m12">00231</a>     <span class="keywordtype">double</span>  <a class="code" href="structFinancePolicy.html#m12">last_import_weight</a>;                     <span class="comment">// these two are only used fore restore when applied_flag &gt; none</span>
<a name="l00232"></a><a class="code" href="structFinancePolicy.html#m13">00232</a>     <span class="keywordtype">bool</span>    <a class="code" href="structFinancePolicy.html#m13">last_required_flag</a>;
00233 
00234     <span class="comment">//--- for penalty of change of financial policy ---//</span>
00235     <span class="comment">//double    last_target_change;</span>
00236 
<a name="l00237"></a><a class="code" href="structFinancePolicy.html#m14">00237</a>     <span class="keywordtype">char</span>   <a class="code" href="structFinancePolicy.html#m14">penalty_direction</a>;                       <span class="comment">// = { POSITIVE, NEGATIVE }</span>
<a name="l00238"></a><a class="code" href="structFinancePolicy.html#m15">00238</a>     <span class="keywordtype">int</span>    <a class="code" href="structFinancePolicy.html#m15">max_penalty1</a>;                            <span class="comment">// 33%</span>
<a name="l00239"></a><a class="code" href="structFinancePolicy.html#m16">00239</a>     <span class="keywordtype">int</span>    <a class="code" href="structFinancePolicy.html#m16">max_penalty2</a>;                            <span class="comment">// 33%</span>
00240 
<a name="l00241"></a><a class="code" href="structFinancePolicy.html#m17">00241</a>     <span class="keywordtype">double</span> <a class="code" href="structFinancePolicy.html#m17">penalty_multiplier1</a>;
<a name="l00242"></a><a class="code" href="structFinancePolicy.html#m18">00242</a>     <span class="keywordtype">double</span> <a class="code" href="structFinancePolicy.html#m18">penalty_multiplier2</a>;
00243 
00244     <span class="comment">//--------- functions --------//</span>
00245 
00246     <span class="keywordtype">void</span>   <a class="code" href="structFinancePolicy.html#a0">reset_change</a>(<span class="keywordtype">bool</span> resetAll=<span class="keyword">false</span>);
00247     <span class="keywordtype">void</span>   <a class="code" href="structFinancePolicy.html#a1">bound_correction</a>();
00248     <span class="keywordtype">void</span>   <a class="code" href="structFinancePolicy.html#a2">set_constraint_policy</a>(<span class="keywordtype">int</span> saveLast=1);
00249     <span class="keywordtype">void</span>    <a class="code" href="structFinancePolicy.html#a3">reset_constraint_policy</a>();
00250 };
00251 
<a name="l00254"></a><a class="code" href="structHiringPolicy.html">00254</a> <span class="keyword">struct </span><a class="code" href="structHiringPolicy.html">HiringPolicy</a> {                             <span class="comment">// for stage 3 optimization</span>
<a name="l00255"></a><a class="code" href="structHiringPolicy.html#m0">00255</a>     <span class="keywordtype">int</span>  <a class="code" href="structHiringPolicy.html#m0">upper_bound</a>;
<a name="l00256"></a><a class="code" href="structHiringPolicy.html#m1">00256</a>     <span class="keywordtype">float</span>  <a class="code" href="structHiringPolicy.html#m1">weight</a>;                                  <span class="comment">// = OPT_LOW_WEIGHT, OPT_MID_WEIGHT, OPT_HIGH_WEIGHT</span>
00257 
<a name="l00258"></a><a class="code" href="structHiringPolicy.html#m2">00258</a>     <span class="keywordtype">int</span>  <a class="code" href="structHiringPolicy.html#m2">target_value</a>;
<a name="l00259"></a><a class="code" href="structHiringPolicy.html#m3">00259</a>     <span class="keywordtype">int</span>  <a class="code" href="structHiringPolicy.html#m3">result_value</a>;
00260 
<a name="l00261"></a><a class="code" href="structHiringPolicy.html#m4">00261</a>     <span class="keywordtype">int</span>  <a class="code" href="structHiringPolicy.html#m4">fac_count</a>;
<a name="l00262"></a><a class="code" href="structHiringPolicy.html#m5">00262</a>     <span class="keywordtype">float</span>  <a class="code" href="structHiringPolicy.html#m5">avg_salary</a>;                              <span class="comment">// $000</span>
00263 };
00264 
00265 <span class="comment">//----- Define struct RevenueItemChange &amp; ExpenseItemChange------//</span>
00266 <span class="comment">// see "design doc June 5.doc" p.11</span>
00267 
<a name="l00269"></a><a class="code" href="structRevenueItemChange.html">00269</a> <span class="keyword">struct </span><a class="code" href="structRevenueItemChange.html">RevenueItemChange</a> {
00270     <span class="comment">// values stored for report only; not for further calculation</span>
<a name="l00271"></a><a class="code" href="structRevenueItemChange.html#m0">00271</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a>  <a class="code" href="structRevenueItemChange.html#m0">change_last_year</a>;                  <span class="comment">// "change" of this year relative to last year.</span>
<a name="l00272"></a><a class="code" href="structRevenueItemChange.html#m1">00272</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a>  <a class="code" href="structRevenueItemChange.html#m1">change_next_year</a>;                  <span class="comment">// "change" of next year relative to this year.</span>
00273 
00274     <span class="comment">// values stored for engine and report</span>
00275     <span class="comment">//ExpenseItem       last_year;                              // values stored in revenue_array and expense array instead</span>
<a name="l00276"></a><a class="code" href="structRevenueItemChange.html#m2">00276</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a>  <a class="code" href="structRevenueItemChange.html#m2">this_year</a>;                         <span class="comment">// projected value of revenue of the current financial year</span>
<a name="l00277"></a><a class="code" href="structRevenueItemChange.html#m3">00277</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a>  <a class="code" href="structRevenueItemChange.html#m3">next_year</a>;                         <span class="comment">// projected value of revenue of the next financial year</span>
00278 
<a name="l00279"></a><a class="code" href="structRevenueItemChange.html#m4">00279</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a> <a class="code" href="structRevenueItemChange.html#m4">last_month</a>;                         <span class="comment">// acutal value of last month</span>
<a name="l00280"></a><a class="code" href="structRevenueItemChange.html#m5">00280</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a>  <a class="code" href="structRevenueItemChange.html#m5">year_to_date</a>;                      <span class="comment">// for calc this_year</span>
<a name="l00281"></a><a class="code" href="structRevenueItemChange.html#m6">00281</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a>  <a class="code" href="structRevenueItemChange.html#m6">change_budget_year</a>;                <span class="comment">// "change" of budget year relative to the last year.</span>
00282 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00283 <span class="preprocessor"></span>    <a class="code" href="structRevenueItem.html">RevenueItem</a> month_start;                        <span class="comment">// value this_year at month start</span>
00284 <span class="preprocessor">#endif</span>
00285 <span class="preprocessor"></span>};
00286 
<a name="l00289"></a><a class="code" href="structExpenseItemChange.html">00289</a> <span class="keyword">struct </span><a class="code" href="structExpenseItemChange.html">ExpenseItemChange</a> {
00290     <span class="comment">// values stored for report only; not for further calculation</span>
<a name="l00291"></a><a class="code" href="structExpenseItemChange.html#m0">00291</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a>  <a class="code" href="structExpenseItemChange.html#m0">change_last_year</a>;                  <span class="comment">//</span>
<a name="l00292"></a><a class="code" href="structExpenseItemChange.html#m1">00292</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a>  <a class="code" href="structExpenseItemChange.html#m1">change_next_year</a>;                  <span class="comment">//</span>
00293 
00294     <span class="comment">// values stored for engine and report</span>
00295     <span class="comment">//ExpenseItem       last_year;                              // values stored in revenue_array and expense array instead</span>
<a name="l00296"></a><a class="code" href="structExpenseItemChange.html#m2">00296</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a>  <a class="code" href="structExpenseItemChange.html#m2">this_year</a>;                         <span class="comment">// projected value of revenue of the current financial year</span>
<a name="l00297"></a><a class="code" href="structExpenseItemChange.html#m3">00297</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a>  <a class="code" href="structExpenseItemChange.html#m3">next_year</a>;                         <span class="comment">// projected value of revenue of the next financial year</span>
00298 
<a name="l00299"></a><a class="code" href="structExpenseItemChange.html#m4">00299</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a> <a class="code" href="structExpenseItemChange.html#m4">last_month</a>;                         <span class="comment">// acutal value of last month</span>
<a name="l00300"></a><a class="code" href="structExpenseItemChange.html#m5">00300</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a>  <a class="code" href="structExpenseItemChange.html#m5">year_to_date</a>;                      <span class="comment">// for calc this_year</span>
<a name="l00301"></a><a class="code" href="structExpenseItemChange.html#m6">00301</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a>  <a class="code" href="structExpenseItemChange.html#m6">change_budget_year</a>;                <span class="comment">// values for calc next_year from budget_*_array</span>
00302 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00303 <span class="preprocessor"></span>    <a class="code" href="structExpenseItem.html">ExpenseItem</a> month_start;                        <span class="comment">// value this_year at month start</span>
00304 <span class="preprocessor">#endif</span>
00305 <span class="preprocessor"></span>};
00306 
00307 <span class="comment">//----- Define struct YearReport -----//</span>
<a name="l00310"></a><a class="code" href="structYearReport.html">00310</a> <span class="comment">struct YearReport {</span>
<a name="l00311"></a><a class="code" href="structYearReport.html#m0">00311</a>     <span class="keywordtype">double</span> surplus_deficit;
00312 
00313     <span class="comment">//---- assets and liabilities ------//</span>
<a name="l00314"></a><a class="code" href="structYearReport.html#m1">00314</a>     <span class="keywordtype">double</span> asset_array[<a class="code" href="Ofinance_8h.html#a96a19">ASSET_ITEM_COUNT</a>];
<a name="l00315"></a><a class="code" href="structYearReport.html#m2">00315</a>     <span class="keywordtype">double</span> liability_array[<a class="code" href="Ofinance_8h.html#a98a26">LIABILITY_ITEM_COUNT</a>];
00316 };
00317 
00318 <span class="comment">//--------- Define class Finance ---------//</span>
00319 
<a name="l00324"></a><a class="code" href="classFinance.html">00324</a> <span class="keyword">class </span><a class="code" href="classFinance.html">Finance</a> {
00325 <span class="keyword">public</span>:
00326 
<a name="l00327"></a><a class="code" href="classFinance.html#m0">00327</a>     <span class="keywordtype">char</span>     <a class="code" href="classFinance.html#m0">fiscal_year_start_month</a>;
<a name="l00328"></a><a class="code" href="classFinance.html#m1">00328</a>     <span class="keywordtype">char</span>     <a class="code" href="classFinance.html#m1">fiscal_year_end_month</a>;
<a name="l00329"></a><a class="code" href="classFinance.html#m2">00329</a>     <span class="keywordtype">int</span>      <a class="code" href="classFinance.html#m2">report_financial_recno</a>;
00330 
00331     <span class="comment">//------- revenues and expenses ---------//</span>
00332 
00333     <span class="comment">// 1 of 3: last year: displayed on report</span>
<a name="l00334"></a><a class="code" href="classFinance.html#m3">00334</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a>  <a class="code" href="classFinance.html#m3">revenue_array</a>[<a class="code" href="Ofinance_8h.html#a100a31">REVENUE_ITEM_COUNT</a>];
<a name="l00335"></a><a class="code" href="classFinance.html#m4">00335</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a>  <a class="code" href="classFinance.html#m4">expense_array</a>[<a class="code" href="Ofinance_8h.html#a103a44">EXPENSE_ITEM_COUNT</a>];
00336 
00337 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00338 <span class="preprocessor"></span>    <a class="code" href="structExpenseItem.html">ExpenseItem</a> net_distance_learning_expense;
00339     <span class="keywordtype">float</span>     transfer_operating_reserve;
00340     <span class="keywordtype">float</span>     transfer_capital_reserve;
00341     <span class="keywordtype">float</span>     transfer_quasi;
00342 
00343     <span class="keywordtype">float</span>     endowment_quasi_ratio;              <span class="comment">// store the ratio of quasi to total endowment(endowment+quasi)</span>
00344 <span class="preprocessor">#endif</span>
00345 <span class="preprocessor"></span>
<a name="l00346"></a><a class="code" href="classFinance.html#m5">00346</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a>  <a class="code" href="classFinance.html#m5">total_revenue</a>;
<a name="l00347"></a><a class="code" href="classFinance.html#m6">00347</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a> <a class="code" href="classFinance.html#m6">total_operating_expense</a>;          <span class="comment">// for optimize_policy_1()</span>
<a name="l00348"></a><a class="code" href="classFinance.html#m7">00348</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a> <a class="code" href="classFinance.html#m7">total_expense</a>;
00349 
00350     <span class="comment">// 2 of 3: budget this year: NOT displayed on report</span>
<a name="l00351"></a><a class="code" href="classFinance.html#m8">00351</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a>  <a class="code" href="classFinance.html#m8">budget_revenue_array</a>[<a class="code" href="Ofinance_8h.html#a100a31">REVENUE_ITEM_COUNT</a>];
<a name="l00352"></a><a class="code" href="classFinance.html#m9">00352</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a>  <a class="code" href="classFinance.html#m9">budget_expense_array</a>[<a class="code" href="Ofinance_8h.html#a103a44">EXPENSE_ITEM_COUNT</a>];
00353 
<a name="l00354"></a><a class="code" href="classFinance.html#m10">00354</a>     <a class="code" href="structRevenueItem.html">RevenueItem</a>  <a class="code" href="classFinance.html#m10">budget_total_revenue</a>;
<a name="l00355"></a><a class="code" href="classFinance.html#m11">00355</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a> <a class="code" href="classFinance.html#m11">budget_total_operating_expense</a>;
<a name="l00356"></a><a class="code" href="classFinance.html#m12">00356</a>     <a class="code" href="structExpenseItem.html">ExpenseItem</a> <a class="code" href="classFinance.html#m12">budget_total_expense</a>;
00357 
00358     <span class="comment">// 3 of 3: projected this AND next years: displayed on report</span>
00359 
<a name="l00360"></a><a class="code" href="classFinance.html#m13">00360</a>     <a class="code" href="structRevenueItemChange.html">RevenueItemChange</a>    <a class="code" href="classFinance.html#m13">projected_revenue_array</a>[<a class="code" href="Ofinance_8h.html#a100a31">REVENUE_ITEM_COUNT</a>];
<a name="l00361"></a><a class="code" href="classFinance.html#m14">00361</a>     <a class="code" href="structExpenseItemChange.html">ExpenseItemChange</a>    <a class="code" href="classFinance.html#m14">projected_expense_array</a>[<a class="code" href="Ofinance_8h.html#a103a44">EXPENSE_ITEM_COUNT</a>];
00362 
00363 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00364 <span class="preprocessor"></span>    <a class="code" href="structExpenseItemChange.html">ExpenseItemChange</a>   projected_net_distance_learning_expense;
00365 <span class="preprocessor">#endif</span>
00366 <span class="preprocessor"></span>
<a name="l00367"></a><a class="code" href="classFinance.html#m15">00367</a>     <a class="code" href="structRevenueItemChange.html">RevenueItemChange</a>    <a class="code" href="classFinance.html#m15">projected_total_revenue</a>;
<a name="l00368"></a><a class="code" href="classFinance.html#m16">00368</a>     <a class="code" href="structExpenseItemChange.html">ExpenseItemChange</a>    <a class="code" href="classFinance.html#m16">projected_total_operating_expense</a>;
<a name="l00369"></a><a class="code" href="classFinance.html#m17">00369</a>     <a class="code" href="structExpenseItemChange.html">ExpenseItemChange</a>    <a class="code" href="classFinance.html#m17">projected_total_expense</a>;
00370 
<a name="l00371"></a><a class="code" href="classFinance.html#m18">00371</a>     <a class="code" href="structYearReport.html">YearReport</a>   <a class="code" href="classFinance.html#m18">this_year</a>, <a class="code" href="classFinance.html#m19">next_year</a>, <a class="code" href="classFinance.html#m20">last_year</a>, <a class="code" href="classFinance.html#m21">budget_year</a>;
00372 
00373 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00374 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00375"></a><a class="code" href="classFinance.html#m22">00375</a> <span class="preprocessor"></span>    <a class="code" href="structStage1Revenue.html">Stage1Revenue</a>  <a class="code" href="classFinance.html#m22">stage1_revenue</a>[<a class="code" href="Ofinanc2_8h.html#a39a9">STAGE1_REVENUE_ITEM_COUNT</a>];
<a name="l00376"></a><a class="code" href="classFinance.html#m23">00376</a>     <a class="code" href="structStage1Expense.html">Stage1Expense</a>  <a class="code" href="classFinance.html#m23">stage1_expense</a>[<a class="code" href="Ofinanc2_8h.html#a41a20">STAGE1_EXPENSE_ITEM_COUNT</a>];
<a name="l00377"></a><a class="code" href="classFinance.html#m24">00377</a>     <a class="code" href="structStage2Expense.html">Stage2Expense</a>  <a class="code" href="classFinance.html#m24">stage2_expense</a>[<a class="code" href="Ofinanc2_8h.html#a43a27">STAGE2_EXPENSE_POLICY_COUNT</a>];
00378 <span class="preprocessor">#endif</span>
00379 <span class="preprocessor"></span>
00380 <span class="keyword">public</span>:
00381 
00382     <span class="comment">//--- target_student_intake ---//</span>
<a name="l00383"></a><a class="code" href="classFinance.html#m25">00383</a>     <span class="keywordtype">int</span> <a class="code" href="classFinance.html#m25">tradU_target_student_intake</a>;
<a name="l00384"></a><a class="code" href="classFinance.html#m26">00384</a>     <span class="keywordtype">int</span> <a class="code" href="classFinance.html#m26">nontradU_target_student_intake</a>;
<a name="l00385"></a><a class="code" href="classFinance.html#m27">00385</a>     <span class="keywordtype">int</span> <a class="code" href="classFinance.html#m27">master_target_student_intake</a>;
<a name="l00386"></a><a class="code" href="classFinance.html#m28">00386</a>     <span class="keywordtype">int</span> <a class="code" href="classFinance.html#m28">dl_target_student_intake</a>;
00387 
00388     <span class="comment">//---- assets and liabilities ------//</span>
<a name="l00389"></a><a class="code" href="classFinance.html#m29">00389</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m29">smoothed_endowment_value</a>;              <span class="comment">// 981016             // no use after 981023</span>
00390 
00391     <span class="comment">//---- input affected by other models ("input from elsewhere in the model") ----//</span>
<a name="l00392"></a><a class="code" href="classFinance.html#m30">00392</a>     <span class="keywordtype">int</span>    <a class="code" href="classFinance.html#m30">tuition_rate</a>;                          <span class="comment">// not ($000) // c63; for stage1</span>
00393     <span class="keywordtype">float</span>    <a class="code" href="classFinance.html#a0">get_research_overhead_rate</a>();
00394 
00395     <span class="comment">//--------- time variation variable 1017 --------//</span>
00396 
<a name="l00397"></a><a class="code" href="classFinance.html#m31">00397</a>     <a class="code" href="structHistoryData.html">HistoryData</a>  <a class="code" href="classFinance.html#m31">inflation_rate_hist</a>;
<a name="l00398"></a><a class="code" href="classFinance.html#m32">00398</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m32">base_short_term_debt_interest</a>;
<a name="l00399"></a><a class="code" href="classFinance.html#m33">00399</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m33">base_long_term_debt_interest</a>;
00400 
00401     <span class="comment">//double    other_operating_income_last2;</span>
<a name="l00402"></a><a class="code" href="classFinance.html#m34">00402</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m34">state_appropriation_last2</a>;
00403     <span class="comment">// "bank deposit rate" = annualInflationRate + .01</span>
00404 
00405     <span class="comment">//---- fully exogenous factors -----//</span>
00406 
<a name="l00407"></a><a class="code" href="classFinance.html#m35">00407</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m35">inflation_rate</a>;                        <span class="comment">// C72</span>
<a name="l00408"></a><a class="code" href="classFinance.html#m36">00408</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m36">short_term_debt_interest</a>;              <span class="comment">// Real int. rate on short-term investments   // "bank borrowing rate" = "short-term real interest rate" // = "bank rate" if OpReserve &gt;0, else = "borrowing rate" = "bank rate" + 4%</span>
<a name="l00409"></a><a class="code" href="classFinance.html#m37">00409</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m37">long_term_debt_interest</a>;               <span class="comment">// Nominal interest rate on long term debt    // for facilities borrowing</span>
<a name="l00410"></a><a class="code" href="classFinance.html#m38">00410</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m38">debt_fraction_repaid_annually</a>;
<a name="l00411"></a><a class="code" href="classFinance.html#m39">00411</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m39">family_income_growth</a>;                  <span class="comment">// C76</span>
<a name="l00412"></a><a class="code" href="classFinance.html#m40">00412</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m40">construction_cost_growth</a>;              <span class="comment">// C78</span>
00413 
00414     <span class="comment">//--- exogenous, but may be influenced by the player ---//</span>
00415 
<a name="l00416"></a><a class="code" href="classFinance.html#m41">00416</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m41">endowment_return</a>;                      <span class="comment">// dummy since 0106</span>
<a name="l00417"></a><a class="code" href="classFinance.html#m42">00417</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m42">sponsored_research_growth</a>;
<a name="l00418"></a><a class="code" href="classFinance.html#m43">00418</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m43">gifts_growth</a>;
<a name="l00419"></a><a class="code" href="classFinance.html#m44">00419</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m44">athletics_revenue_growth</a>;              <span class="comment">// G75</span>
<a name="l00420"></a><a class="code" href="classFinance.html#m45">00420</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m45">bank_debt_interest</a>;                    <span class="comment">// 0222 assume this is bank borrowing rate</span>
<a name="l00421"></a><a class="code" href="classFinance.html#m46">00421</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m46">other_expense_growth</a>;
<a name="l00422"></a><a class="code" href="classFinance.html#m47">00422</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m47">other_income_growth</a>;
<a name="l00423"></a><a class="code" href="classFinance.html#m48">00423</a>     <span class="keywordtype">int</span>    <a class="code" href="classFinance.html#m48">building_life_for_calc_depreciation</a>;   <span class="comment">// G80</span>
00424 
<a name="l00425"></a><a class="code" href="classFinance.html#m49">00425</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m49">prior_dept_fac_exp</a>;                    <span class="comment">// 990525 by email ccengine0525.txt</span>
00426 
<a name="l00427"></a><a class="code" href="classFinance.html#m50">00427</a>     <span class="keywordtype">float</span> <a class="code" href="classFinance.html#m50">state_appropriation_real_growth</a>;        <span class="comment">//## chea 300899 put the state_appropriation_real_growth into opt stage 1</span>
00428 
<a name="l00429"></a><a class="code" href="classFinance.html#m51">00429</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m51">last_month_SR_D</a>;                       <span class="comment">//## chea 041199</span>
<a name="l00430"></a><a class="code" href="classFinance.html#m52">00430</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m52">last_month_SR_ID</a>;                      <span class="comment">//## chea 041199</span>
00431 
00432     <span class="comment">//---- for update_projected_arrays_monthly() ----//</span>
<a name="l00433"></a><a class="code" href="classFinance.html#m53">00433</a>     <span class="keywordtype">char</span>   <a class="code" href="classFinance.html#m53">month_left</a>;
<a name="l00434"></a><a class="code" href="classFinance.html#m54">00434</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m54">total_faculty_salary</a>;
00435     <span class="comment">// ($000)</span>
<a name="l00436"></a><a class="code" href="classFinance.html#m55">00436</a>     <span class="keywordtype">int</span>    <a class="code" href="classFinance.html#m55">projected_total_research_expense_this_year</a>;
<a name="l00437"></a><a class="code" href="classFinance.html#m56">00437</a>     <span class="keywordtype">float</span>    <a class="code" href="classFinance.html#m56">academic_support_ratio</a>;              <span class="comment">// [0.0:5.0]; for faculty pi calc</span>
00438 
00439 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00440 <span class="preprocessor"></span>
00441     <span class="keywordtype">long</span>    last_warn_bankrupt_date;
00442 <span class="preprocessor">#endif</span>
00443 <span class="preprocessor"></span>
<a name="l00444"></a><a class="code" href="classFinance.html#m57">00444</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m57">research_expense_fac_ratio</a>;
<a name="l00445"></a><a class="code" href="classFinance.html#m58">00445</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m58">research_expense_staff_ratio</a>;
00446 
00447     <span class="comment">//--------- budget policies --------//</span>
00448 
<a name="l00449"></a><a class="code" href="classFinance.html#m59">00449</a>     <a class="code" href="structStudentPolicy.html">StudentPolicy</a>  <a class="code" href="classFinance.html#m59">student_policy_array</a>[<a class="code" href="Ofinance_8h.html#a105a57">STUDENT_POLICY_COUNT</a>];
<a name="l00450"></a><a class="code" href="classFinance.html#m60">00450</a>     <a class="code" href="structFinancePolicy.html">FinancePolicy</a>  <a class="code" href="classFinance.html#m60">revenue_policy_array</a>[<a class="code" href="Ofinance_8h.html#a107a64">REVENUE_POLICY_COUNT</a>];
<a name="l00451"></a><a class="code" href="classFinance.html#m61">00451</a>     <a class="code" href="structFinancePolicy.html">FinancePolicy</a>  <a class="code" href="classFinance.html#m61">expense_policy_array</a>[<a class="code" href="Ofinance_8h.html#a109a69">EXPENSE_POLICY_COUNT</a>];
<a name="l00452"></a><a class="code" href="classFinance.html#m62">00452</a>     <a class="code" href="structFinancePolicy.html">FinancePolicy</a>  <a class="code" href="classFinance.html#m62">cost_rise_policy_array</a>[<a class="code" href="Ofinance_8h.html#a111a75">COST_RISE_POLICY_COUNT</a>];
00453 
00454     <span class="comment">//--------- stage 3 optimization ------//</span>
<a name="l00455"></a><a class="code" href="classFinance.html#m63">00455</a>     <a class="code" href="structHiringPolicy.html">HiringPolicy</a> <a class="code" href="classFinance.html#m63">hiring_policy_array</a>[<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>];
00456 
<a name="l00457"></a><a class="code" href="classFinance.html#m64">00457</a>     <span class="keywordtype">int</span> <a class="code" href="classFinance.html#m64">max_hires</a>;                                <span class="comment">// "Maximum number of leadership hires possible given the budget"</span>
<a name="l00458"></a><a class="code" href="classFinance.html#m65">00458</a>     <span class="keywordtype">int</span> <a class="code" href="classFinance.html#m65">total_hires</a>;                              <span class="comment">// player input: "Total faculty to be hired"</span>
<a name="l00459"></a><a class="code" href="classFinance.html#m66">00459</a>     <span class="keywordtype">float</span> <a class="code" href="classFinance.html#m66">cost_limit</a>;                             <span class="comment">// ($000)</span>
00460 
00461     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a1">calc_max_hires</a>();
00462 
00463     <span class="comment">//----- member variables for report display -----//</span>
<a name="l00464"></a><a class="code" href="classFinance.html#m67">00464</a>     <span class="keywordtype">char</span> <a class="code" href="classFinance.html#m67">current_report_mode</a>;
00465 
00466     <span class="comment">//##### begin: ho 1012 #####//</span>
<a name="l00467"></a><a class="code" href="classFinance.html#m68">00467</a>     <span class="keywordtype">int</span>    <a class="code" href="classFinance.html#m68">report_type</a>;
<a name="l00468"></a><a class="code" href="classFinance.html#m69">00468</a>     <span class="keywordtype">int</span>    <a class="code" href="classFinance.html#m69">report_year</a>;
<a name="l00469"></a><a class="code" href="classFinance.html#m70">00469</a>     <span class="keywordtype">int</span>    <a class="code" href="classFinance.html#m70">report_opt</a>;
<a name="l00470"></a><a class="code" href="classFinance.html#m71">00470</a>     <span class="keywordtype">char</span>   <a class="code" href="classFinance.html#m71">report_is_expanded</a>;
00471     <span class="comment">//##### end: ho 1012 #####//</span>
00472 
00473 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00474 <span class="preprocessor"></span>    <span class="comment">// For calculate state appropiation and report each year</span>
00475     <span class="keywordtype">double</span>  base_appropriation[2];
00476     <span class="keywordtype">double</span>  enroll_appropriation[2];
00477     <span class="keywordtype">double</span>  performance_appropriation[2];
00478     <span class="keywordtype">double</span>  education_quality_appropriation[2];
00479     <span class="keywordtype">double</span>  total_appropriation[2];
00480     <span class="keywordtype">double</span>  facility_reserve_appropriation[2];
00481 
00482     <span class="comment">// store the initial value</span>
00483     <span class="keywordtype">double</span>  initial_state_appropriation;
00484     <span class="keywordtype">double</span>  initial_base_appropriation;
00485     <span class="keywordtype">double</span>  initial_enrollment_appropriation;
00486     <span class="keywordtype">double</span>  initial_performance_appropriation;
00487     <span class="keywordtype">double</span>  initial_eq_appropriation;
00488 <span class="preprocessor">#endif</span>
00489 <span class="preprocessor"></span>
00490     <span class="comment">//---------------------------------------------------------------//</span>
00491     <span class="comment">//--------------------- member methods --------------------------//</span>
00492     <span class="comment">//---------------------------------------------------------------//</span>
00493 
00494 <span class="keyword">public</span>:
00495     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a2">init</a>();
00496     <span class="keywordtype">void</span>   <a class="code" href="classFinance.html#a3">deinit</a>();
00497 
00498     <span class="keywordtype">int</span>  <a class="code" href="classFinance.html#a4">write_file</a>(<a class="code" href="classFile.html">File</a>* filePtr);
00499     <span class="keywordtype">int</span>  <a class="code" href="classFinance.html#a5">read_file</a>(<a class="code" href="classFile.html">File</a>* filePtr);
00500 
00501     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a6">init_data_pre_enroll</a>();
00502     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a7">init_data</a>();
00503     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a8">post_init_data</a>();
00504     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a9">process_budget</a>();
00505 
00506     <span class="keywordtype">bool</span> <a class="code" href="classFinance.html#a10">pre_optimization_stage_3</a>(<span class="keywordtype">bool</span> <a class="code" href="classFinance.html#a2">init</a>=<span class="keyword">false</span>);
00507 
00508     <span class="keywordtype">bool</span> <a class="code" href="classFinance.html#a11">optimize_policy_1</a>(<span class="keywordtype">bool</span> <a class="code" href="classFinance.html#a2">init</a>=<span class="keyword">false</span>);
00509     <span class="keywordtype">bool</span> <a class="code" href="classFinance.html#a12">optimize_policy_2</a>();
00510     <span class="keywordtype">bool</span> <a class="code" href="classFinance.html#a13">optimize_policy_3</a>();
00511     <span class="keywordtype">void</span>  <a class="code" href="classFinance.html#a14">correct_surplus_deficit</a>();
00512 
00513     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a15">next_day</a>();
00514 
00515     <span class="comment">//## begin trevor 31/7 ##//</span>
00516     <span class="keywordtype">void</span>  <a class="code" href="classFinance.html#a16">next_month</a>();
00517     <span class="keywordtype">void</span>   <a class="code" href="classFinance.html#a17">new_fiscal_year_report</a>();
00518     <span class="comment">//## end trevor 31/7 ##//</span>
00519 
00520     <span class="comment">//#### begin trevor 10/8 ####//</span>
00521     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a18">disp_report_main</a>(<span class="keywordtype">int</span> refreshFlag, <span class="keywordtype">int</span> dispReport=1, <span class="keywordtype">char</span>* reportTitle=<a class="code" href="OHELP_8H.html#a0">NULL</a>);
00522     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a19">report_detect</a>(<span class="keywordtype">int</span> detectReport=1);
00523     <span class="comment">//## end trevor 7/8 ##//</span>
00524 
00525 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00526 <span class="preprocessor"></span>    <span class="keywordtype">void</span>  calc_distance_learning_expenditure();
00527 <span class="preprocessor">#endif</span>
00528 <span class="preprocessor"></span>
00529     <span class="comment">//## begin Ho 1011 ##//</span>
00530     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a20">report_deinit</a>();
00531     <span class="keywordtype">void</span>  <a class="code" href="classFinance.html#a21">new_fiscal_year</a>();
00532     <span class="keywordtype">void</span>   <a class="code" href="classFinance.html#a17">new_fiscal_year_report</a>(<span class="keywordtype">int</span> refreshFlag);
00533     <span class="keywordtype">void</span>   <a class="code" href="classFinance.html#a23">new_fiscal_year_report_detect</a>();
00534     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a24">report_paint_button</a>(<span class="keywordtype">int</span> refreshFlag);
00535     <span class="comment">//## end Ho 1011 ##//</span>
00536 
00537     <span class="comment">//## chea 250899</span>
00538     <span class="keywordtype">void</span>  <a class="code" href="classFinance.html#a25">update_projected_arrays_post_optimization</a>();
00539 
00540     <span class="comment">//----- methods for updating projected arrays for this and next year (and for next_day())</span>
00541 
00542 <span class="keyword">private</span>:
00543     <span class="comment">//## begin trevor 7/8 ##//</span>
00544     <span class="keywordtype">void</span> disp_financial_reports(<span class="keywordtype">int</span> refreshFlag);
00545     <span class="comment">//## end trevor 7/8 ##//</span>
00546 
00547     <span class="keywordtype">void</span> update_external_factors_yearly();
00548     <span class="keywordtype">void</span> update_external_factors_monthly();
00549     <span class="keywordtype">void</span> calc_interest(<span class="keywordtype">char</span> updateFlag=UPDATE_YEAR);
00550     <span class="comment">//          void    update_projected_arrays_post_optimization();</span>
00551     <span class="keywordtype">void</span> update_projected_arrays_monthly();
00552     <span class="keywordtype">void</span> update_projected_arrays_monthly_sub();
00553 
00554 <span class="keyword">public</span>:
00555     <a class="code" href="structFinancePolicy.html">FinancePolicy</a>* <a class="code" href="classFinance.html#a26">get_policy_var</a>(<span class="keywordtype">bool</span> isRevenue, <span class="keywordtype">char</span> index);
00556 
00557     <span class="keywordtype">bool</span> <a class="code" href="classFinance.html#a27">update_projected_arrays_pre_optimization</a>();
00558     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a28">calc_projected_total_n_percent</a>(<span class="keywordtype">int</span> reCalc=0);
00559     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a29">calc_total_last_year</a>();
00560 
00561     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a30">change_budget</a>(<span class="keywordtype">char</span> changeType, <span class="keywordtype">bool</span> isRevenue, <span class="keywordtype">char</span> index, <span class="keywordtype">float</span> percentChange, <span class="keywordtype">char</span> showMsg=1);
00562     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a31">calc_budget_report</a>();
00563     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a32">set_policy_target</a>(<span class="keywordtype">bool</span> isRevenue, <span class="keywordtype">char</span> index);
00564 
00565     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a33">budget_calc_total</a>();
00566     <span class="keywordtype">void</span> <a class="code" href="classFinance.html#a34">budget_calc_percent</a>();
00567     <span class="keywordtype">void</span>  <a class="code" href="classFinance.html#a35">budget_calc_change</a>();
00568 
00569     <span class="keywordtype">void</span>  <a class="code" href="classFinance.html#a36">calc_asset_total</a>();
00570 
00571     <span class="keywordtype">double</span>     <a class="code" href="classFinance.html#a37">get_available_funds</a>();
00572     <span class="keywordtype">double</span>     <a class="code" href="classFinance.html#a38">calc_total_faculty_salary</a>();
00573 
00574     <span class="comment">//## chea 170899 calc_change have bug it can't calc. change with two - no.</span>
00575     <span class="comment">//   I have make some change.Since this function is called by other cpp. So may have bug</span>
00576     <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="classFinance.html#d0">calc_change</a>(<span class="keywordtype">double</span> dest, <span class="keywordtype">double</span> base);
00577 
00578     <span class="comment">//## chea 240699 for(WFM comments;3/19/99 15.3.1)</span>
<a name="l00579"></a><a class="code" href="classFinance.html#m72">00579</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m72">surplus_deficit_history</a>[HISTORY_MONTH_COUNT];
00580     <span class="comment">//## chea 240699 for(WFM comments;3/19/99 15.3.2)</span>
<a name="l00581"></a><a class="code" href="classFinance.html#m73">00581</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m73">operating_sub_surplus_history</a>[HISTORY_MONTH_COUNT];
00582     <span class="comment">//## chea 240699 for(WFM comments;3/19/99 15.3.4)</span>
<a name="l00583"></a><a class="code" href="classFinance.html#m74">00583</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m74">sponsored_research_history</a>[HISTORY_MONTH_COUNT];
<a name="l00584"></a><a class="code" href="classFinance.html#m75">00584</a>     <span class="keywordtype">float</span> <a class="code" href="classFinance.html#m75">sl1_sel_history</a>[HISTORY_YEAR_COUNT];    <span class="comment">//## chea 240699 for(WFM comments;3/19/99 15.3.5)</span>
00585     <span class="comment">//## chea 110899 added by b.massy</span>
<a name="l00586"></a><a class="code" href="classFinance.html#m76">00586</a>     <span class="keywordtype">double</span> <a class="code" href="classFinance.html#m76">net_tuition_history</a>[HISTORY_MONTH_COUNT];
00587 
00588     <span class="comment">// ##### Begin Marco ##### //</span>
00589 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00590 <span class="preprocessor"></span>
00591     <span class="comment">// expense_policy_array[PL_FACULTY_SALARY_INCREASES].result_value</span>
00592     <span class="keywordtype">double</span> faculty_salary_increase_history[HISTORY_YEAR_COUNT];
00593     <span class="comment">// finance.revenue_policy_array[PL_TUITION_RATE_GROWTH].result_value</span>
00594     <span class="keywordtype">double</span> tuition_increase_history[HISTORY_YEAR_COUNT];
00595 
00596     <span class="keywordtype">double</span> short_term_debt_interest_history[HISTORY_MONTH_COUNT];
00597     <span class="keywordtype">double</span> long_term_debt_interest_history[HISTORY_YEAR_COUNT];
00598 
00599     <a class="code" href="structRevenueItem.html">RevenueItem</a>       initial_revenue_array[<a class="code" href="Ofinance_8h.html#a100a31">REVENUE_ITEM_COUNT</a>];
00600     <span class="comment">//  RevenueItem                             initial_total_revenue;</span>
00601     <span class="keywordtype">double</span>          initial_total_revenue_total;
00602     <a class="code" href="structExpenseItem.html">ExpenseItem</a>       initial_expense_array[<a class="code" href="Ofinance_8h.html#a103a44">EXPENSE_ITEM_COUNT</a>];
00603     <a class="code" href="structExpenseItem.html">ExpenseItem</a>       initial_total_operating_expense;
00604     <a class="code" href="structExpenseItem.html">ExpenseItem</a>       initial_total_expense;
00605     <span class="comment">//  ExpenseItemChange               initial_projected_total_expense;</span>
00606     <a class="code" href="structYearReport.html">YearReport</a>        initial_last_year;
00607 
00608     <span class="comment">// expense_policy_array[PL_FACULTY_SALARY_INCREASES].result_value</span>
00609     <span class="keywordtype">double</span>          initial_faculty_salary_increase;
00610     <span class="keywordtype">double</span>          initial_tuition_increase;     <span class="comment">// finance.revenue_policy_array[PL_TUITION_RATE_GROWTH].result_value</span>
00611 
00612     <span class="keywordtype">void</span> save_initial_value();
00613 
00614     <span class="keywordtype">double</span>          next_indirect_cost_rate_upper_bound;
00615 <span class="preprocessor">#endif</span>
00616 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00617 
00618 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00619 <span class="preprocessor"></span>    <span class="keywordtype">void</span>  update_appropiation();
00620 <span class="preprocessor">#endif</span>
00621 <span class="preprocessor"></span>
00622 <span class="keyword">private</span>:
00623     <span class="keywordtype">void</span>  update_history(<span class="keywordtype">char</span> update_flag);
00624     <span class="keywordtype">void</span> calc_percent_last_year();
00625     <span class="keywordtype">void</span>  update_hiring_policy();
00626 
00627     <span class="keywordtype">void</span> set_student_policy(<span class="keywordtype">bool</span> <a class="code" href="classFinance.html#a2">init</a>);
00628     <span class="keywordtype">void</span> init_optimize_policy_1();
00629     <span class="keywordtype">void</span> adjust_budget_1();
00630 
00631     <span class="keywordtype">void</span> init_optimize_policy_2();
00632     <span class="keywordtype">void</span> adjust_budget_2();
00633 
00634     <span class="keywordtype">void</span> optimization_input_reset();
00635     <span class="keywordtype">void</span>  apply_relative_wealth_effect();
00636 
00637     <span class="keywordtype">int</span>  disp_last_year_report(<span class="keywordtype">int</span> reportOrder, <span class="keywordtype">int</span> reportType, <span class="keywordtype">int</span> reportYear, <span class="keywordtype">char</span>* reportTitle);
00638 };
00639 
<a name="l00640"></a><a class="code" href="Ofinance_8h.html#a0">00640</a> <span class="keyword">extern</span> <a class="code" href="classFinance.html">Finance</a> <a class="code" href="Ofinance_8h.html#a0">finance</a>;
00641 
00642 <span class="comment">//------------------------------------------//</span>
00643 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:37:39 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
