<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OMOUSECR.H Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>OMOUSECR.H</h1><a href="OMOUSECR_8H.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : OMOUSECR.H</span>
00002 <span class="comment">//Description : Header file of Object Cursor resource</span>
00003 
00004 <span class="preprocessor">#ifndef __OMOUSECR_H</span>
00005 <span class="preprocessor"></span><span class="preprocessor">#define __OMOUSECR_H</span>
00006 <span class="preprocessor"></span>
00007 <span class="preprocessor">#include &lt;<a class="code" href="ORESDB_8H.html">ORESDB.H</a>&gt;</span>
00008 <span class="preprocessor">#include &lt;<a class="code" href="OBLOB2W_8H.html">OBLOB2W.H</a>&gt;</span>
00009 
00010 <span class="comment">// ------------ Define constant -------- //</span>
00011 
<a name="l00012"></a><a class="code" href="OMOUSECR_8H.html#a0">00012</a> <span class="preprocessor">#define MAX_VGA_WIDTH 800</span>
<a name="l00013"></a><a class="code" href="OMOUSECR_8H.html#a1">00013</a> <span class="preprocessor"></span><span class="preprocessor">#define MAX_VGA_HEIGHT 600</span>
00014 <span class="preprocessor"></span>
00015 <span class="comment">//------------ Define cursor id. ----------//</span>
00016 
00017 <span class="keyword">enum</span> {
00018     <a class="code" href="OMOUSECR_8H.html#a6a3">CURSOR_NORMAL</a>=1,
00019     <a class="code" href="OMOUSECR_8H.html#a6a4">CURSOR_NORMAL_DOWN</a>,                             <span class="comment">// when the normal cursor is clicked on something</span>
00020     <a class="code" href="OMOUSECR_8H.html#a6a5">CURSOR_WAITING</a>,
00021 };
00022 
00023 <span class="comment">//------------ Define struct CursorRec ---------------//</span>
00024 
<a name="l00026"></a><a class="code" href="structCursorRec.html">00026</a> <span class="keyword">struct </span><a class="code" href="structCursorRec.html">CursorRec</a> {
00027     <span class="keyword">enum</span> { <a class="code" href="structCursorRec.html#s3s0">HOT_SPOT_LEN</a>=3, <a class="code" href="structCursorRec.html#s3s1">FILE_NAME_LEN</a>=8, <a class="code" href="structCursorRec.html#s3s2">BITMAP_PTR_LEN</a>=4 };
00028 
<a name="l00029"></a><a class="code" href="structCursorRec.html#m0">00029</a>     <span class="keywordtype">char</span> <a class="code" href="structCursorRec.html#m0">file_name</a>[<a class="code" href="structCursorRec.html#s3s1">FILE_NAME_LEN</a>];
00030 
<a name="l00031"></a><a class="code" href="structCursorRec.html#m1">00031</a>     <span class="keywordtype">char</span> <a class="code" href="structCursorRec.html#m1">hot_spot_x</a>[<a class="code" href="structCursorRec.html#s3s0">HOT_SPOT_LEN</a>];
<a name="l00032"></a><a class="code" href="structCursorRec.html#m2">00032</a>     <span class="keywordtype">char</span> <a class="code" href="structCursorRec.html#m2">hot_spot_y</a>[<a class="code" href="structCursorRec.html#s3s0">HOT_SPOT_LEN</a>];
00033 
<a name="l00034"></a><a class="code" href="structCursorRec.html#m3">00034</a>     <span class="keywordtype">char</span> <a class="code" href="structCursorRec.html#m3">bitmap_ptr</a>[<a class="code" href="structCursorRec.html#s3s2">BITMAP_PTR_LEN</a>];
00035 };
00036 
00037 <span class="comment">//------------- Define struct CursorInfo --------------//</span>
00038 
<a name="l00040"></a><a class="code" href="structCursorInfo.html">00040</a> <span class="keyword">struct </span><a class="code" href="structCursorInfo.html">CursorInfo</a> {
<a name="l00041"></a><a class="code" href="structCursorInfo.html#m0">00041</a>     <span class="keywordtype">short</span> <a class="code" href="structCursorInfo.html#m0">hot_spot_x</a>;
<a name="l00042"></a><a class="code" href="structCursorInfo.html#m1">00042</a>     <span class="keywordtype">short</span> <a class="code" href="structCursorInfo.html#m1">hot_spot_y</a>;
00043 
<a name="l00044"></a><a class="code" href="structCursorInfo.html#m2">00044</a>     <span class="keywordtype">char</span>* <a class="code" href="structCursorInfo.html#m2">bitmap_ptr</a>;
00045 };
00046 
00047 <span class="comment">//--------- Define class MouseCursor --------//</span>
00048 
00049 <span class="keyword">class </span><a class="code" href="classBlob2DW.html">Blob2DW</a>;
00050 <span class="keyword">class </span><a class="code" href="classVgaBuf.html">VgaBuf</a>;
00051 
<a name="l00054"></a><a class="code" href="classMouseCursor.html">00054</a> <span class="keyword">class </span><a class="code" href="classMouseCursor.html">MouseCursor</a> {
00055 <span class="keyword">public</span>:
<a name="l00056"></a><a class="code" href="classMouseCursor.html#m0">00056</a>     <span class="keywordtype">char</span>  <a class="code" href="classMouseCursor.html#m0">init_flag</a>;
<a name="l00057"></a><a class="code" href="classMouseCursor.html#m1">00057</a>     <span class="keywordtype">char</span>  <a class="code" href="classMouseCursor.html#m1">hide_all_flag</a>;
<a name="l00058"></a><a class="code" href="classMouseCursor.html#m2">00058</a>     <span class="keywordtype">char</span>  <a class="code" href="classMouseCursor.html#m2">hide_area_flag</a>;
00059 
<a name="l00060"></a><a class="code" href="classMouseCursor.html#m3">00060</a>     <span class="keywordtype">short</span> <a class="code" href="classMouseCursor.html#m3">cur_icon</a>;
00061 
<a name="l00062"></a><a class="code" href="classMouseCursor.html#m7">00062</a>     <span class="keywordtype">int</span>   <a class="code" href="classMouseCursor.html#m4">hide_x1</a>, <a class="code" href="classMouseCursor.html#m5">hide_y1</a>, <a class="code" href="classMouseCursor.html#m6">hide_x2</a>, <a class="code" href="classMouseCursor.html#m7">hide_y2</a>;
<a name="l00063"></a><a class="code" href="classMouseCursor.html#m11">00063</a>     <span class="keywordtype">int</span>   <a class="code" href="classMouseCursor.html#m8">cur_x1</a>, <a class="code" href="classMouseCursor.html#m9">cur_y1</a>, <a class="code" href="classMouseCursor.html#m10">cur_x2</a>, <a class="code" href="classMouseCursor.html#m11">cur_y2</a>;
00064 
<a name="l00065"></a><a class="code" href="classMouseCursor.html#m13">00065</a>     <span class="keywordtype">int</span> <a class="code" href="classMouseCursor.html#m12">hot_spot_x</a>, <a class="code" href="classMouseCursor.html#m13">hot_spot_y</a>;
00066 
<a name="l00067"></a><a class="code" href="classMouseCursor.html#m14">00067</a>     <span class="keywordtype">int</span>   <a class="code" href="classMouseCursor.html#m14">icon_width</a>;
<a name="l00068"></a><a class="code" href="classMouseCursor.html#m15">00068</a>     <span class="keywordtype">int</span>   <a class="code" href="classMouseCursor.html#m15">icon_height</a>;
00069 
<a name="l00070"></a><a class="code" href="classMouseCursor.html#m16">00070</a>     <span class="keywordtype">char</span>  <a class="code" href="classMouseCursor.html#m16">cursor_shown</a>;                           <span class="comment">// whether the cursor has been shown on the screen</span>
<a name="l00071"></a><a class="code" href="classMouseCursor.html#m17">00071</a>     <span class="keywordtype">char</span>  <a class="code" href="classMouseCursor.html#m17">processing_flag</a>;                        <span class="comment">// whether process() is being run or not, prevent nested call by interrupt</span>
<a name="l00072"></a><a class="code" href="classMouseCursor.html#m18">00072</a>     <span class="keywordtype">char</span>  <a class="code" href="classMouseCursor.html#m18">wait_mode_count</a>;                        <span class="comment">// allow nested wait cursor</span>
00073 
<a name="l00074"></a><a class="code" href="classMouseCursor.html#m19">00074</a>     <span class="keywordtype">char</span>  *<a class="code" href="classMouseCursor.html#m19">icon_ptr</a>, *<a class="code" href="classMouseCursor.html#m20">icon_data_ptr</a>;
<a name="l00075"></a><a class="code" href="classMouseCursor.html#m21">00075</a>     <a class="code" href="classBlob2DW.html">Blob2DW</a> *<a class="code" href="classMouseCursor.html#m21">save_scr</a>, *<a class="code" href="classMouseCursor.html#m22">save_back_scr</a>, *<a class="code" href="classMouseCursor.html#m23">merge_buf</a>;
00076 
00077     <span class="comment">//------- nation selection frame --------//</span>
00078 
<a name="l00079"></a><a class="code" href="classMouseCursor.html#m24">00079</a>     <span class="keywordtype">char</span>  <a class="code" href="classMouseCursor.html#m24">frame_flag</a>;                             <span class="comment">// whether nation selection frame is on</span>
<a name="l00080"></a><a class="code" href="classMouseCursor.html#m25">00080</a>     <span class="keywordtype">char</span>  <a class="code" href="classMouseCursor.html#m25">frame_shown</a>;
00081 
<a name="l00082"></a><a class="code" href="classMouseCursor.html#m29">00082</a>     <span class="keywordtype">int</span> <a class="code" href="classMouseCursor.html#m26">frame_x1</a>, <a class="code" href="classMouseCursor.html#m27">frame_y1</a>, <a class="code" href="classMouseCursor.html#m28">frame_x2</a>, <a class="code" href="classMouseCursor.html#m29">frame_y2</a>;
<a name="l00083"></a><a class="code" href="classMouseCursor.html#m31">00083</a>     <span class="keywordtype">int</span> <a class="code" href="classMouseCursor.html#m30">frame_origin_x</a>, <a class="code" href="classMouseCursor.html#m31">frame_origin_y</a>;
<a name="l00084"></a><a class="code" href="classMouseCursor.html#m35">00084</a>     <span class="keywordtype">int</span> <a class="code" href="classMouseCursor.html#m32">frame_border_x1</a>, <a class="code" href="classMouseCursor.html#m33">frame_border_y1</a>, <a class="code" href="classMouseCursor.html#m34">frame_border_x2</a>, <a class="code" href="classMouseCursor.html#m35">frame_border_y2</a>;
00085 
<a name="l00086"></a><a class="code" href="classMouseCursor.html#m36">00086</a>     <span class="keywordtype">short</span> <a class="code" href="classMouseCursor.html#m36">frame_top_save_scr</a>[<a class="code" href="OMOUSECR_8H.html#a0">MAX_VGA_WIDTH</a>+2];    <span class="comment">// for saving the nation selection frame</span>
<a name="l00087"></a><a class="code" href="classMouseCursor.html#m37">00087</a>     <span class="keywordtype">short</span> <a class="code" href="classMouseCursor.html#m37">frame_bottom_save_scr</a>[<a class="code" href="OMOUSECR_8H.html#a0">MAX_VGA_WIDTH</a>+2]; <span class="comment">// +4 is for the width &amp; height info</span>
<a name="l00088"></a><a class="code" href="classMouseCursor.html#m38">00088</a>     <span class="keywordtype">short</span> <a class="code" href="classMouseCursor.html#m38">frame_left_save_scr</a>[<a class="code" href="OMOUSECR_8H.html#a1">MAX_VGA_HEIGHT</a>+2];
<a name="l00089"></a><a class="code" href="classMouseCursor.html#m39">00089</a>     <span class="keywordtype">short</span> <a class="code" href="classMouseCursor.html#m39">frame_right_save_scr</a>[<a class="code" href="OMOUSECR_8H.html#a1">MAX_VGA_HEIGHT</a>+2];
00090 
00091     <span class="comment">//------- cursor bitmap resource --------//</span>
00092 
00093 <span class="keyword">private</span>:
00094     <span class="keywordtype">short</span>      cursor_count;
00095     <a class="code" href="structCursorInfo.html">CursorInfo</a>*  cursor_info_array;
00096 
00097     <a class="code" href="classResourceDb.html">ResourceDb</a>   res_bitmap;
00098 
00099 <span class="keyword">public</span>:
00100     <a class="code" href="classMouseCursor.html#a0">MouseCursor</a>();
00101     <a class="code" href="classMouseCursor.html#a1">~MouseCursor</a>();
00102 
00103     <span class="keywordtype">void</span>  <a class="code" href="classMouseCursor.html#a2">init</a>();
00104     <span class="keywordtype">void</span>  <a class="code" href="classMouseCursor.html#a3">deinit</a>();
00105 
00106     <span class="keywordtype">void</span>  <a class="code" href="classMouseCursor.html#a4">set_icon</a>(<span class="keywordtype">int</span>);
00107     <span class="keywordtype">void</span>  <a class="code" href="classMouseCursor.html#a5">set_frame</a>(<span class="keywordtype">char</span>,<span class="keywordtype">char</span>=0);
00108     <span class="keywordtype">void</span>  <a class="code" href="classMouseCursor.html#a6">set_frame_border</a>(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>);
00109 
00110     <span class="keywordtype">void</span>  <a class="code" href="classMouseCursor.html#a7">process</a>(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>);
00111     <span class="keywordtype">void</span>  <a class="code" href="classMouseCursor.html#a8">disp_back_buf</a>(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>);
00112 
00113     <span class="comment">// ####### begin Gilbert 18/8 ########//</span>
<a name="l00114"></a><a class="code" href="classMouseCursor.html#a9">00114</a>     <span class="keywordtype">int</span> <a class="code" href="classMouseCursor.html#a9">get_icon</a>()        { <span class="keywordflow">return</span> <a class="code" href="classMouseCursor.html#m3">cur_icon</a>; }
00115     <span class="keywordtype">void</span>  <a class="code" href="classMouseCursor.html#a10">restore_icon</a>(<span class="keywordtype">int</span>);
00116     <span class="comment">// ####### end Gilbert 18/8 ########//</span>
00117 
00118 <span class="keyword">private</span>:
00119     <span class="keywordtype">void</span>  process_frame(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>);
00120     <span class="keywordtype">void</span>  disp_frame(<a class="code" href="classVgaBuf.html">VgaBuf</a>*);
00121     <span class="keywordtype">int</span> is_touch(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>);
00122 
00123     <span class="keywordtype">void</span>  load_cursor_info();
00124 };
00125 
<a name="l00126"></a><a class="code" href="OMOUSECR_8H.html#a2">00126</a> <span class="keyword">extern</span> <a class="code" href="classMouseCursor.html">MouseCursor</a> <a class="code" href="OMOUSECR_8H.html#a2">mouse_cursor</a>;
00127 
00128 <span class="comment">//----------------------------------------------//</span>
00129 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:38:07 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
