<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Ofac_sum.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Ofac_sum.cpp</h1><a href="Ofac__sum_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : OFAC_SUM.CPP</span>
00002 <span class="comment">//Description : Faculty Report</span>
00003 
00004 <span class="preprocessor">#include &lt;<a class="code" href="KEY_8H.html">KEY.H</a>&gt;</span>
00005 <span class="preprocessor">#include &lt;<a class="code" href="OVGA_8H.html">OVGA.H</a>&gt;</span>
00006 <span class="preprocessor">#include &lt;OFONT.H&gt;</span>
00007 <span class="preprocessor">#include &lt;<a class="code" href="OWORLD_8H.html">OWORLD.H</a>&gt;</span>
00008 <span class="preprocessor">#include &lt;OSYS.H&gt;</span>
00009 <span class="preprocessor">#include &lt;<a class="code" href="OBOX_8H.html">OBOX.H</a>&gt;</span>
00010 <span class="preprocessor">#include &lt;<a class="code" href="OHELP_8H.html">OHELP.H</a>&gt;</span>
00011 <span class="preprocessor">#include &lt;OPSCHOOL.H&gt;</span>
00012 <span class="preprocessor">#include &lt;OINFO.H&gt;</span>
00013 <span class="preprocessor">#include &lt;OIFACE.H&gt;</span>
00014 <span class="preprocessor">#include &lt;OBUTTON.H&gt;</span>
00015 <span class="preprocessor">#include &lt;<a class="code" href="OTEXT_8H.html">OTEXT.H</a>&gt;</span>
00016 <span class="preprocessor">#include &lt;ODEPT.H&gt;</span>
00017 <span class="preprocessor">#include &lt;OFINANCE.H&gt;</span>
00018 <span class="preprocessor">#include &lt;OGAMESTR.H&gt;</span>
00019 <span class="preprocessor">#include &lt;OFACULTY.H&gt;</span>
00020 <span class="preprocessor">#include &lt;OFACURES.H&gt;</span>
00021 <span class="preprocessor">#include &lt;<a class="code" href="OGRPHYR_8H.html">OGRPHYR.H</a>&gt;</span>
00022 <span class="preprocessor">#include &lt;<a class="code" href="OGRPHMTH_8H.html">OGRPHMTH.H</a>&gt;</span>
00023 <span class="preprocessor">#include &lt;<a class="code" href="OPIECHRT_8H.html">OPIECHRT.H</a>&gt;</span>
00024 <span class="preprocessor">#include &lt;<a class="code" href="OGRPH__PY_8H.html">OGRPH_PY.H</a>&gt;</span>
00025 <span class="preprocessor">#include &lt;<a class="code" href="OGRPH__PM_8H.html">OGRPH_PM.H</a>&gt;</span>
00026 <span class="preprocessor">#include &lt;<a class="code" href="OGRPH__PT_8H.html">OGRPH_PT.H</a>&gt;</span>
00027 <span class="preprocessor">#include &lt;<a class="code" href="OGRPDYR_8H.html">OGRPDYR.H</a>&gt;</span>
00028 <span class="preprocessor">#include &lt;<a class="code" href="OGRPDMTH_8H.html">OGRPDMTH.H</a>&gt;</span>
00029 <span class="preprocessor">#include &lt;<a class="code" href="OVALSLDR_8H.html">OVALSLDR.H</a>&gt;</span>
00030 <span class="preprocessor">#include &lt;<a class="code" href="ORADIO_8H.html">ORADIO.H</a>&gt;</span>
00031 <span class="preprocessor">#include &lt;OMOUSE.H&gt;</span>
00032 
00033 <span class="comment">//---------- Define constant ------------//</span>
00034 
00035 <span class="keyword">enum</span> {
00036     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a> = <a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>+15,
00037     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a> = <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>+15,
00038     <a class="code" href="Ofac__sum_8cpp.html#a97a48">REPORT_X2</a> = <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>-15,
00039     <a class="code" href="Ofac__sum_8cpp.html#a97a49">REPORT_Y2</a> = <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>-40,
00040 };
00041 
00042 <span class="keyword">enum</span> { <a class="code" href="Ofac__sum_8cpp.html#a98a50">BUTTON_Y1</a>=<a class="code" href="Ofac__sum_8cpp.html#a97a49">REPORT_Y2</a>+10 };
00043 <span class="keyword">enum</span> { <a class="code" href="Ofac__sum_8cpp.html#a99a51">BUTTON_WIDTH</a>=80, <a class="code" href="Ofac__sum_8cpp.html#a99a52">BUTTON_HEIGHT</a>=20 };
00044 
00045 <span class="keyword">enum</span> { <a class="code" href="Ofac__sum_8cpp.html#a100a53">REPORT_TYPE_LIST</a>, <a class="code" href="Ofac__sum_8cpp.html#a100a54">REPORT_TYPE_DETAIL</a>, <a class="code" href="Ofac__sum_8cpp.html#a100a55">REPORT_RETIRE</a> };
00046 <span class="keyword">enum</span> { <a class="code" href="Ofac__sum_8cpp.html#a101a56">FACULTY_REC_HEIGHT</a> = 84, <a class="code" href="Ofac__sum_8cpp.html#a101a57">RESEARCH_REC_HEIGHT</a> = 16 };
00047 
00048 <span class="comment">//--------- Define report modes ----------//</span>
00049 
00050 <span class="keyword">enum</span> {                                            <span class="comment">// the bg image id</span>
00051     <a class="code" href="Ofac__sum_8cpp.html#a102a58">BG_PIC_ID</a> = 13
00052 };
00053 
00054 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00055 <span class="preprocessor"></span><span class="keyword">enum</span> { <a class="code" href="Ofac__sum_8cpp.html#a103a59">FAC_SUM_REPORT_TYPE_COUNT</a> = 14 };
00056 
00057 <span class="keyword">enum</span> {
00058     <a class="code" href="Ofac__sum_8cpp.html#a104a60">REPORT_TYPE_DEPARTMENT_PROFILE1</a>,
00059     <a class="code" href="Ofac__sum_8cpp.html#a104a61">REPORT_TYPE_DEPARTMENT_PROFILE2</a>,
00060     <a class="code" href="Ofac__sum_8cpp.html#a104a62">REPORT_TYPE_DEPARTMENT_ACTIVITIES</a>,
00061     <a class="code" href="Ofac__sum_8cpp.html#a104a63">REPORT_TYPE_DEPARTMENT_RESEARCH</a>,
00062     <a class="code" href="Ofac__sum_8cpp.html#a104a65">REPORT_TYPE_DEPARTMENT_HIRING</a>,
00063     <a class="code" href="Ofac__sum_8cpp.html#a104a64">REPORT_TYPE_DEPARTMENT_DIRECTORY</a>,
00064     REPORT_TYPE_DEPARTMENT_TURNOVER,
00065     <a class="code" href="Ofac__sum_8cpp.html#a104a66">REPORT_TYPE_INSTITUTION_PROFILE1</a>,
00066     <a class="code" href="Ofac__sum_8cpp.html#a104a67">REPORT_TYPE_INSTITUTION_PROFILE2</a>,
00067     <a class="code" href="Ofac__sum_8cpp.html#a104a68">REPORT_TYPE_INSTITUTION_ACTIVITIES</a>,
00068     <a class="code" href="Ofac__sum_8cpp.html#a104a69">REPORT_TYPE_INSTITUTION_RESEARCH</a>,
00069     <a class="code" href="Ofac__sum_8cpp.html#a104a70">REPORT_TYPE_INSTITUTION_SALARY</a>,
00070     <a class="code" href="Ofac__sum_8cpp.html#a104a71">REPORT_TYPE_INSTITUTION_PROMOTION</a>,
00071     REPORT_TYPE_INSTITUTION_TURNOVER,
00072     REPORT_TYPE_DEPARTMENT_TURNOVER_DETAIL,
00073 };
00074 
00075 <span class="keyword">enum</span> {
00076     FACULTY_LISTS,
00077     FACULTY_DETAILS,
00078 };
00079 
00080 <span class="preprocessor">#else</span>
00081 <span class="preprocessor"></span><span class="keyword">enum</span> { <a class="code" href="Ofac__sum_8cpp.html#a103a59">FAC_SUM_REPORT_TYPE_COUNT</a> = 12 };
00082 
00083 <span class="keyword">enum</span> {
00084     <a class="code" href="Ofac__sum_8cpp.html#a104a60">REPORT_TYPE_DEPARTMENT_PROFILE1</a>,
00085     <a class="code" href="Ofac__sum_8cpp.html#a104a61">REPORT_TYPE_DEPARTMENT_PROFILE2</a>,
00086     <a class="code" href="Ofac__sum_8cpp.html#a104a62">REPORT_TYPE_DEPARTMENT_ACTIVITIES</a>,
00087     <a class="code" href="Ofac__sum_8cpp.html#a104a63">REPORT_TYPE_DEPARTMENT_RESEARCH</a>,
00088     <a class="code" href="Ofac__sum_8cpp.html#a104a64">REPORT_TYPE_DEPARTMENT_DIRECTORY</a>,
00089     <a class="code" href="Ofac__sum_8cpp.html#a104a65">REPORT_TYPE_DEPARTMENT_HIRING</a>,
00090     <a class="code" href="Ofac__sum_8cpp.html#a104a66">REPORT_TYPE_INSTITUTION_PROFILE1</a>,
00091     <a class="code" href="Ofac__sum_8cpp.html#a104a67">REPORT_TYPE_INSTITUTION_PROFILE2</a>,
00092     <a class="code" href="Ofac__sum_8cpp.html#a104a68">REPORT_TYPE_INSTITUTION_ACTIVITIES</a>,
00093     <a class="code" href="Ofac__sum_8cpp.html#a104a69">REPORT_TYPE_INSTITUTION_RESEARCH</a>,
00094     <a class="code" href="Ofac__sum_8cpp.html#a104a70">REPORT_TYPE_INSTITUTION_SALARY</a>,
00095     <a class="code" href="Ofac__sum_8cpp.html#a104a71">REPORT_TYPE_INSTITUTION_PROMOTION</a>,
00096 };
00097 <span class="preprocessor">#endif</span>
00098 <span class="preprocessor"></span>
00099 <span class="keyword">enum</span> { <a class="code" href="Ofac__sum_8cpp.html#a105a72">REPORT_MODE_COUNT</a> = 2 };
00100 <span class="keyword">enum</span> { <a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>, <a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>};
00101 
00102 <span class="keyword">enum</span> {
00103     <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a> = <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+90,
00104     <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a> = <a class="code" href="Ofac__sum_8cpp.html#a97a49">REPORT_Y2</a>-20,
00105     <a class="code" href="Ofac__sum_8cpp.html#a107a77">BOTTOM_BUTTON_TAB1</a> = 400,
00106     <a class="code" href="Ofac__sum_8cpp.html#a107a78">BOTTOM_BUTTON_X2</a> = <a class="code" href="Ofac__sum_8cpp.html#a97a48">REPORT_X2</a>-20,
00107     <a class="code" href="Ofac__sum_8cpp.html#a107a79">BOTTOM_BUTTON_Y2</a> = <a class="code" href="Ofac__sum_8cpp.html#a97a49">REPORT_Y2</a>+10
00108 };
00109 
00110 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00111 <span class="preprocessor"></span><span class="keyword">enum</span> {
00112     <a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a> = 74,
00113     <a class="code" href="Ofac__sum_8cpp.html#a108a81">BOTTOM_BUTTON_WIDTH2</a> = 78,
00114     <a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a> = 22,
00115     <a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>
00116     = (<a class="code" href="Ofac__sum_8cpp.html#a107a78">BOTTOM_BUTTON_X2</a>-<a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>-<a class="code" href="Ofac__sum_8cpp.html#a108a81">BOTTOM_BUTTON_WIDTH2</a>*7)/8
00117 };
00118 <span class="preprocessor">#else</span>
00119 <span class="preprocessor"></span><span class="keyword">enum</span> {
00120     <a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a> = 87,
00121     <a class="code" href="Ofac__sum_8cpp.html#a108a81">BOTTOM_BUTTON_WIDTH2</a> = 80,
00122     <a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a> = 22,
00123     <a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>
00124     = (<a class="code" href="Ofac__sum_8cpp.html#a107a78">BOTTOM_BUTTON_X2</a>-<a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>-<a class="code" href="Ofac__sum_8cpp.html#a108a81">BOTTOM_BUTTON_WIDTH2</a>*6)/7
00125 };
00126 <span class="preprocessor">#endif</span>
00127 <span class="preprocessor"></span>
00128 <span class="keyword">static</span> <a class="code" href="classButtonGroup.html">ButtonGroup</a> type_button_group(<a class="code" href="Ofac__sum_8cpp.html#a103a59">FAC_SUM_REPORT_TYPE_COUNT</a>);
00129 <span class="comment">//static short *type_button_up_bitmap[FAC_SUM_REPORT_TYPE_COUNT];</span>
00130 <span class="comment">//static short *type_button_down_bitmap[FAC_SUM_REPORT_TYPE_COUNT];</span>
00131 
00132 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00133 <span class="preprocessor"></span><span class="keyword">enum</span> {
00134     <a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>=20,
00135     <a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>=200,
00136     <a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>=210,
00137     <a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>=480,
00138     <a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>=500,
00139     <a class="code" href="Ofac__sum_8cpp.html#a109a89">TAB6</a>=610,
00140     TAB7=80,
00141     <a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>=22,
00142     <a class="code" href="Ofac__sum_8cpp.html#a109a91">VTAB2</a>=160,
00143     <a class="code" href="Ofac__sum_8cpp.html#a109a92">VTAB3</a>=180,
00144     <a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>=310,
00145     <a class="code" href="Ofac__sum_8cpp.html#a109a94">VTAB5</a>=420,
00146     VTAB6=22,
00147 };
00148 <span class="preprocessor">#else</span>
00149 <span class="preprocessor"></span><span class="keyword">enum</span> {
00150     <a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>=20,
00151     <a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>=200,
00152     <a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>=210,
00153     <a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>=450,
00154     <a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>=500,
00155     <a class="code" href="Ofac__sum_8cpp.html#a109a89">TAB6</a>=610,
00156     <a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>=5,
00157     <a class="code" href="Ofac__sum_8cpp.html#a109a91">VTAB2</a>=160,
00158     <a class="code" href="Ofac__sum_8cpp.html#a109a92">VTAB3</a>=180,
00159     <a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>=310,
00160     <a class="code" href="Ofac__sum_8cpp.html#a109a94">VTAB5</a>=420,
00161 };
00162 <span class="preprocessor">#endif</span>
00163 <span class="preprocessor"></span>
00164 <span class="keyword">enum</span> { <a class="code" href="Ofac__sum_8cpp.html#a110a95">MONTHLY</a>=0,<a class="code" href="Ofac__sum_8cpp.html#a110a96">ANNUALLY</a>=1 };
00165 
00166 <span class="keyword">static</span> <span class="keywordtype">short</span> *text_refresh_bitmap1;
00167 
00168 <span class="keyword">static</span> <a class="code" href="classDepartment.html">Department</a>* cur_dept_ptr;
00169 <span class="comment">// the department whose faculty we are looking at</span>
00170 
00171 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00172 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">char</span>* fac_avg_salary_label[] ={ <span class="stringliteral">"Avg. Salary"</span>, <span class="stringliteral">"# of"</span>, <span class="stringliteral">"% of"</span>, <span class="stringliteral">"initial"</span> };
00173 <span class="preprocessor">#endif</span>
00174 <span class="preprocessor"></span>
00175 <span class="keyword">static</span> <span class="keywordtype">char</span>* reportModeStrArray[] = { <span class="stringliteral">"Summary 1"</span>, <span class="stringliteral">"Summary 2"</span> };
00176 <span class="keyword">static</span> <span class="keywordtype">char</span>* fac_sum_rank_label[] = {
00177     <span class="stringliteral">"Assistant professor"</span>,
00178     <span class="stringliteral">"Associate professor"</span>,
00179     <span class="stringliteral">"Full professor"</span>,
00180     <span class="stringliteral">"Long-term adjunct"</span>,
00181     <span class="stringliteral">"Short-term adjunct"</span>,
00182     <span class="stringliteral">"Total"</span>,
00183 };
00184 
00185 <span class="keyword">static</span> <span class="keywordtype">char</span>* fac_sum_ge_label[] = {
00186     <span class="stringliteral">"Male nonminority"</span>,
00187     <span class="stringliteral">"Female nonminority"</span>,
00188     <span class="stringliteral">"Male minority"</span>,
00189     <span class="stringliteral">"Female minority"</span>,
00190     <span class="stringliteral">"Total"</span>,
00191     <span class="stringliteral">"Total"</span>,
00192 };
00193 <span class="keyword">static</span> <span class="keywordtype">char</span>* fac_sum_title[] = {
00194     <span class="stringliteral">"Faculty Distribution by Rank"</span>,
00195     <span class="stringliteral">"Faculty Distribution by Gender and Ethnicity"</span>,
00196 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00197 <span class="preprocessor"></span>    <span class="stringliteral">"Faculty Changes &amp; Adjustments"</span>,
00198 <span class="preprocessor">#endif</span>
00199 <span class="preprocessor"></span>};
00200 
00201 <span class="keyword">static</span> <span class="keywordtype">char</span>* std_sum_title2[] = {
00202     <span class="stringliteral">"Talent\t\t\tPerformance"</span>,
00203     <span class="stringliteral">"The number of degrees awarded"</span>,
00204 };
00205 
00206 <span class="keyword">static</span> <span class="keywordtype">char</span>* std_sum_label2[] = {
00207     <span class="stringliteral">"Teaching"</span>,<span class="stringliteral">"Scholarship"</span>,<span class="stringliteral">"Research"</span>,<span class="stringliteral">"Normal Teaching load"</span>,<span class="stringliteral">"Course preparation"</span>,
00208     <span class="stringliteral">"Out-of-class student contact"</span>,<span class="stringliteral">"Educational development"</span>,
00209     <span class="stringliteral">"Research"</span>,<span class="stringliteral">"Scholarship"</span>,<span class="stringliteral">"Institutional and public service"</span>,<span class="stringliteral">"Average faculty work hours per week"</span>,
00210     <span class="stringliteral">"Morale"</span>,<span class="stringliteral">"Percent and regular faculty who currently have active research projects"</span>
00211 };
00212 
00213 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00214 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">char</span>* hire_report_label1[] = {
00215     <span class="stringliteral">""</span>,<span class="stringliteral">"Prior year"</span>,<span class="stringliteral">""</span>,<span class="stringliteral">""</span>,<span class="stringliteral">"Promotions"</span>,
00216     <span class="stringliteral">"Current year"</span>,<span class="stringliteral">"Click for"</span>,
00217 };
00218 <span class="keyword">static</span> <span class="keywordtype">char</span>* hire_report_label2[] = { <span class="stringliteral">"Department"</span>,<span class="stringliteral">"total"</span>,<span class="stringliteral">"Departures"</span>,<span class="stringliteral">"New hires"</span>,<span class="stringliteral">"to tenure"</span>,<span class="stringliteral">"total"</span>,<span class="stringliteral">"detail"</span>, };
00219 <span class="keyword">static</span> <span class="keywordtype">char</span>* hire_report_label3[] = {  <span class="stringliteral">""</span>, <span class="stringliteral">"Prior year"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"Promotions"</span>, <span class="stringliteral">""</span>, };
00220 <span class="keyword">static</span> <span class="keywordtype">char</span>* hire_report_label4[] = {  <span class="stringliteral">"Year"</span>, <span class="stringliteral">"total"</span>, <span class="stringliteral">"Departures"</span>, <span class="stringliteral">"New hires"</span>, <span class="stringliteral">"to tenure"</span>, <span class="stringliteral">"Year total"</span>, };
00221 <span class="preprocessor">#endif</span>
00222 <span class="preprocessor"></span>
00223 <span class="keyword">static</span> <span class="keywordtype">char</span> current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>;
00224 <span class="keyword">static</span> <span class="keywordtype">char</span> current_graph_mode=<a class="code" href="Ofac__sum_8cpp.html#a110a96">ANNUALLY</a>;
00225 
00226 <span class="keyword">static</span> <a class="code" href="classGraphMonth.html">GraphMonth</a> mode_fac_sum_graphmonth1;
00227 <span class="keyword">static</span> <a class="code" href="classGraphMonth.html">GraphMonth</a> mode_fac_sum_graphmonth2;
00228 <span class="keyword">static</span> <a class="code" href="classGraphDoubleBarYear.html">GraphDoubleBarYear</a> mode_fac_sum_doublebar_y;
00229 <span class="keyword">static</span> <a class="code" href="classGraphDoubleBarMonth.html">GraphDoubleBarMonth</a> mode_fac_sum_doublebar_m;
00230 
00231 <span class="keyword">static</span> <a class="code" href="classPieChart.html">PieChart</a> fac_sum_rank_piechart;
00232 <span class="keyword">static</span> <a class="code" href="classPieChart.html">PieChart</a> fac_sum_gender_ethnic_piechart;
00233 <span class="keyword">static</span> <span class="keywordtype">char</span>     report_init_flag=0;
00234 
00235 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00236 <span class="preprocessor"></span><span class="keyword">static</span> <a class="code" href="classButton.html">Button</a> mode_fac_hire_button;
00237 <span class="keyword">static</span> <a class="code" href="classButton.html">Button</a> mode_fac_next_button;
00238 <span class="keyword">static</span> <a class="code" href="classButton.html">Button</a> mode_fac_detail_button[<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>];
00239 <span class="keyword">static</span> <span class="keywordtype">char</span>* reportTypeStrArray[]
00240 = {
00241     <span class="stringliteral">"Ranks"</span>, <span class="stringliteral">"Profiles"</span>,<span class="stringliteral">"Activities"</span>,<span class="stringliteral">"Research"</span>,<span class="stringliteral">"Hiring"</span>,<span class="stringliteral">"Directory"</span>,<span class="stringliteral">"Changes "</span>,
00242     <span class="stringliteral">"Ranks"</span>, <span class="stringliteral">"Profiles"</span>,<span class="stringliteral">"Activities"</span>,<span class="stringliteral">"Research"</span>,<span class="stringliteral">"Salary"</span>,<span class="stringliteral">"Promotion"</span>,<span class="stringliteral">"Changes"</span>,
00243 };
00244 <span class="preprocessor">#else</span>
00245 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">char</span>* reportTypeStrArray[]
00246 = {
00247     <span class="stringliteral">"Ranks"</span>, <span class="stringliteral">"Profiles"</span>,<span class="stringliteral">"Activities"</span>,<span class="stringliteral">"Research"</span>,<span class="stringliteral">"Directory"</span>,<span class="stringliteral">"Hiring"</span>,
00248     <span class="stringliteral">"Ranks"</span>, <span class="stringliteral">"Profiles"</span>,<span class="stringliteral">"Activities"</span>,<span class="stringliteral">"Research"</span>,<span class="stringliteral">"Salary"</span>,<span class="stringliteral">"Promotion"</span>
00249 };
00250 <span class="preprocessor">#endif</span>
00251 <span class="preprocessor"></span>
00252 <span class="comment">// screen Hiring setting</span>
00253 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_fac_sum_rblabel[]= {
00254     <span class="stringliteral">"Low"</span>,
00255     <span class="stringliteral">"Medium"</span>,
00256     <span class="stringliteral">"High"</span>,
00257 };
00258 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_fac_sum_rblabel2[]= {
00259     <span class="stringliteral">"Don't hire"</span>,
00260     <span class="stringliteral">"Medium"</span>,
00261     <span class="stringliteral">"High"</span>,
00262 };
00263 
00264 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_fac_sum_rblabel3[]= {
00265     <span class="comment">/*  "Don't do it",</span>
00266 <span class="comment">        "Doesn't matter",</span>
00267 <span class="comment">        "Important",</span>
00268 <span class="comment">        "Very important",</span>
00269 <span class="comment">  */</span>
00270   <span class="comment">/*</span>
00271 <span class="comment">    "Nil",</span>
00272 <span class="comment">    "Medium",</span>
00273 <span class="comment">    "High",</span>
00274 <span class="comment">    "Top",</span>
00275 <span class="comment">  */</span>
00276     <span class="stringliteral">""</span>,<span class="stringliteral">""</span>,<span class="stringliteral">""</span>,<span class="stringliteral">""</span>,
00277 };
00278 
00279 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_fac_sum_rblabel4[]= {
00280     <span class="comment">/*  "Not at all important",</span>
00281 <span class="comment">        "Moderately important",</span>
00282 <span class="comment">        "Important",</span>
00283 <span class="comment">        "Very important",</span>
00284 <span class="comment">        "Nil",                                          */</span>
00285     <span class="stringliteral">"Medium"</span>,
00286     <span class="stringliteral">"High"</span>,
00287     <span class="stringliteral">"Top"</span>,
00288 };
00289 
00290 <span class="comment">// radio button object</span>
00291 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_fac_sum_rb1;
00292 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_fac_sum_rb2;
00293 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_fac_sum_rb3;
00294 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_fac_sum_rb4;
00295 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_fac_sum_rb5;
00296 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_fac_sum_rb6;
00297 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_fac_sum_rb7;
00298 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_fac_sum_rb8;
00299 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_fac_sum_rb9;
00300 <span class="keyword">static</span> <a class="code" href="classRadioButton.html">RadioButton</a> mode_fac_sum_rb10;
00301 
00302 <span class="comment">// Text Object</span>
00303 <span class="keyword">static</span> <a class="code" href="classText.html">Text</a> mode_fac_sum_text1;
00304 
00305 <span class="comment">// Button Object</span>
00306 <span class="keyword">static</span> <a class="code" href="classButton.html">Button</a> mode_fac_sum_button;
00307 <span class="keyword">static</span> <a class="code" href="classButtonGroup.html">ButtonGroup</a> mode_fac_sum_buttongroup(2);
00308 
00309 <span class="comment">// Graph Icon Object</span>
00310 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorYear.html">GraphPerformanceIndicatorYear</a> mode_fac_sum_graphicon_y[6];
00311 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorTrimester.html">GraphPerformanceIndicatorTrimester</a> mode_fac_sum_graphicon_t[16];
00312 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorMonth.html">GraphPerformanceIndicatorMonth</a> mode_fac_sum_graphicon_m[1];
00313 
00314 <span class="comment">// Data Text</span>
00315 <span class="keyword">static</span> <a class="code" href="classText.html">Text</a> mode_fac_sum_data1[16];
00316 <span class="keyword">static</span> <a class="code" href="classText.html">Text</a> mode_fac_sum_data2[4];
00317 <span class="keyword">static</span> <a class="code" href="classText.html">Text</a> mode_fac_sum_data3[<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>];
00318 <span class="keyword">static</span> <a class="code" href="classText.html">Text</a> mode_fac_sum_data4[7];
00319 
00320 <span class="comment">// ValueSlider</span>
00321 <span class="keyword">static</span> <a class="code" href="classValueSlider.html">ValueSlider</a> mode_fac_sum_valueslider[<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>];
00322 <span class="keyword">static</span> <a class="code" href="classValueSlider.html">ValueSlider</a> mode_fac_sum_valueslider2[<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>];
00323 <span class="keyword">static</span> <a class="code" href="classValueSlider.html">ValueSlider</a> mode_fac_sum_valueslider3[<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>];
00324 
00325 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00326 <span class="preprocessor"></span><span class="comment">// new graph</span>
00327 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorYear.html">GraphPerformanceIndicatorYear</a> department_equity_graph;
00328 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorYear.html">GraphPerformanceIndicatorYear</a> gender_ethnic_equity_graph;
00329 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorYear.html">GraphPerformanceIndicatorYear</a> rank_equity_graph;
00330 <span class="keyword">static</span> <a class="code" href="classText.html">Text</a> department_equity_text;
00331 <span class="keyword">static</span> <a class="code" href="classText.html">Text</a> gender_ethnic_equity_text;
00332 <span class="keyword">static</span> <a class="code" href="classText.html">Text</a> rank_equity_text;
00333 <span class="preprocessor">#endif</span>
00334 <span class="preprocessor"></span>
00335 <span class="comment">//----- Begin of Summary Report 1 ------//</span>
<a name="l00336"></a><a class="code" href="classFacultyRes.html#a8">00336</a> <span class="keywordtype">void</span> <a class="code" href="classFacultyRes.html#a8">FacultyRes::summary_report_1</a>(<span class="keywordtype">int</span> refreshFlag) {
00337     <span class="keyword">static</span> <span class="keywordtype">int</span> percentDataArray[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>];
00338     <span class="keyword">static</span> <span class="keywordtype">int</span> xStart = 1991, xEnd = 1998;          <span class="comment">//*** temporary ***//</span>
00339 
00340     <span class="keywordtype">int</span> deptRecno=1;
00341     <span class="keywordtype">int</span> rankLevelCount[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>];
00342 
00343     <span class="comment">// #####  Begin MArco ##### //</span>
00344 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00345 <span class="preprocessor"></span>    <span class="keywordtype">int</span> initialRankLevelCount[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>];
00346 <span class="preprocessor">#endif</span>
00347 <span class="preprocessor"></span>    <span class="comment">// ##### End MArco ##### //</span>
00348 
00349     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num=HISTORY_YEAR_COUNT;
00350     <span class="keyword">static</span> <span class="keywordtype">int</span> *dataArray[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>];
00351 
00352     <span class="comment">// ##### Begin Marco ##### //</span>
00353 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00354 <span class="preprocessor"></span>    <span class="comment">//  static int *initialDataArray[MAX_STUDENT_LEVEL_N_TOTAL];</span>
00355     <span class="keywordtype">int</span> initialDataArray[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>];<span class="comment">//NEW</span>
00356     <span class="comment">//  memset( initialRankLevelCount,0, sizeof(initialRankLevelCount) );</span>
00357 <span class="preprocessor">#endif</span>
00358 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00359 
00360     memset( rankLevelCount,0, <span class="keyword">sizeof</span>(rankLevelCount) );
00361 
00362 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00363 <span class="preprocessor"></span>    <span class="keywordtype">float</span> avgSalary[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>];
00364     <span class="keywordtype">float</span> sumSalary[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>];
00365     <span class="keywordtype">int</span> totalStaff[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>];
00366 
00367     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=0; j&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>; j++ ) {
00368         avgSalary[j] = 0.0;
00369         sumSalary[j] = 0.0;
00370         totalStaff[j] = 0;
00371     }
00372 <span class="preprocessor">#endif</span>
00373 <span class="preprocessor"></span>
00374     <span class="comment">//---- determine the department for display the faculty records ----//</span>
00375     <span class="keywordflow">if</span>(current_report_mode==<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>) {
00376         <span class="keywordflow">if</span>( department_array.selected_recno )
00377             deptRecno = department_array.selected_recno;
00378         cur_dept_ptr = department_array[deptRecno];
00379 
00380         <span class="comment">//-- department wide --//</span>
00381         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00382             dataArray[i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m64">faculty_level_history</a>[i];
00383             rankLevelCount[i]=dataArray[i][data_num-1];
00384 
00385             <span class="comment">// ##### Begin Marco ##### //</span>
00386 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00387 <span class="preprocessor"></span>            initialDataArray[i]=cur_dept_ptr-&gt;initial_faculty_level[i];
00388             <span class="comment">//                  initialRankLevelCount[i]=initialDataArray[i][data_num-1];</span>
00389             initialRankLevelCount[i]=initialDataArray[i];
00390 <span class="preprocessor">#endif</span>
00391 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
00392         }
00393 
00394 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00395 <span class="preprocessor"></span>        <span class="comment">// calculate average salary</span>
00396         <span class="keywordflow">for</span> ( i=1; i&lt;=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classDynArray.html#a28">size</a>(); i++ ) {
00397             <span class="keywordflow">if</span> ( cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classFacultyArray.html#a10">is_deleted</a>(i) )
00398                 <span class="keywordflow">continue</span>;
00399 
00400             <a class="code" href="classFaculty.html">Faculty</a>* facultyPtr = (<a class="code" href="classFaculty.html">Faculty</a>*) cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classDynArray.html#a13">get</a>(i);
00401 
00402             sumSalary[facultyPtr-&gt;<a class="code" href="classFaculty.html#m6">rank_level</a>] += facultyPtr-&gt;<a class="code" href="classFaculty.html#m11">salary</a>;
00403         }
00404 
00405         <span class="keywordflow">for</span> ( i=0; i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1; i++ ) {
00406             <span class="keywordflow">if</span> ( rankLevelCount[i] == 0 )
00407                 avgSalary[i] = 0;
00408             <span class="keywordflow">else</span>
00409                 avgSalary[i] = sumSalary[i] / rankLevelCount[i];
00410 
00411             avgSalary[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1] += sumSalary[i];
00412         }
00413 
00414         <span class="comment">// calculate average in whole institution</span>
00415         <span class="keywordtype">int</span> sumLevelCount=0;
00416         <span class="keywordflow">for</span> ( i=0; i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1; i++ ) {
00417             sumLevelCount += rankLevelCount[i];
00418         }
00419         avgSalary[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1] /= sumLevelCount;
00420 <span class="preprocessor">#endif</span>
00421 <span class="preprocessor"></span>    }
00422     <span class="keywordflow">else</span> {
00423         <span class="comment">//      cur_dept_ptr-&gt;faculty_array.faculty_count;</span>
00424 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00425 <span class="preprocessor"></span>        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=1; j&lt;=department_array.size(); j++ ) {
00426             <a class="code" href="classDepartment.html">Department</a>* deptPtr = department_array[j];
00427 
00428             <span class="keywordflow">if</span> ( !deptPtr )
00429                 <span class="keywordflow">continue</span>;
00430 
00431             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> k=1; k&lt;=deptPtr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classDynArray.html#a28">size</a>(); k++ ) {
00432                 <a class="code" href="classFaculty.html">Faculty</a>* facultyPtr = deptPtr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>[k];
00433 
00434                 <span class="keywordflow">if</span> ( !facultyPtr )
00435                     <span class="keywordflow">continue</span>;
00436 
00437                 sumSalary[facultyPtr-&gt;<a class="code" href="classFaculty.html#m6">rank_level</a>] += facultyPtr-&gt;<a class="code" href="classFaculty.html#m11">salary</a>;
00438                 totalStaff[facultyPtr-&gt;<a class="code" href="classFaculty.html#m6">rank_level</a>]++;
00439             }
00440         }
00441 
00442         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> k=0; k&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>; k++ ) {
00443             dataArray[k]=department_array.faculty_level_history[k];
00444             rankLevelCount[k]=dataArray[k][data_num-1];
00445         }
00446 
00447         <span class="keywordflow">for</span> ( k=0; k&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1; k++ ) {
00448             <span class="keywordflow">if</span> ( totalStaff[k] == 0 )
00449                 avgSalary[k] = 0;
00450             <span class="keywordflow">else</span>
00451                 avgSalary[k] = sumSalary[k] / rankLevelCount[k];
00452 
00453             avgSalary[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1] += avgSalary[k]*rankLevelCount[k];
00454             totalStaff[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1] += rankLevelCount[k];
00455         }
00456 
00457         <span class="comment">// calculate average salary in the institution</span>
00458         avgSalary[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1] /= totalStaff[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1];
00459 <span class="preprocessor">#endif</span>
00460 <span class="preprocessor"></span>
00461         <span class="comment">//-- Institution wide --//</span>
00462         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00463             dataArray[i]=department_array.faculty_level_history[i];
00464             rankLevelCount[i]=dataArray[i][data_num-1];
00465 
00466             <span class="comment">// ##### Begin Marco ##### //</span>
00467 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00468 <span class="preprocessor"></span>            initialDataArray[i]=department_array.initial_faculty_level[i];
00469             <span class="comment">//                  initialRankLevelCount[i]=initialDataArray[i][data_num-1];</span>
00470             initialRankLevelCount[i]=initialDataArray[i];
00471 <span class="preprocessor">#endif</span>
00472 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
00473         }
00474     }
00475 
00476     <span class="comment">//  if(rankLevelCount[MAX_STUDENT_LEVEL_N_TOTAL-1]&gt;1e-9)</span>
00477     <span class="comment">//          for(int i=0;i&lt;MAX_STUDENT_LEVEL_N_TOTAL;i++)</span>
00478     <span class="comment">//                          percentDataArray[i]=(rankLevelCount[i]*100)/rankLevelCount[MAX_STUDENT_LEVEL_N_TOTAL-1];</span>
00479 
00480     <span class="keywordtype">int</span> sum=0;
00481     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1;i++)
00482         sum+=rankLevelCount[i];
00483     rankLevelCount[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1]=sum;
00484 
00485     <span class="comment">// ##### Begin Marco ##### //</span>
00486 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00487 <span class="preprocessor"></span>    <span class="keywordtype">int</span> initialSum=0;
00488     <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1;i++)
00489         initialSum+=initialRankLevelCount[i];
00490     initialRankLevelCount[<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1]=initialSum;
00491 <span class="preprocessor">#endif</span>
00492 <span class="preprocessor"></span>    <span class="comment">// ##### End MArco ##### //</span>
00493 
00494     <span class="keywordflow">if</span>(sum!=0) {
00495         <span class="keywordtype">int</span> diff=200;
00496         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00497             percentDataArray[i]=(rankLevelCount[i]*100)/sum;
00498             diff-=percentDataArray[i];
00499         }
00500         <span class="keywordtype">int</span> maxpercent=percentDataArray[0],maxi=0;
00501         <span class="keywordflow">for</span>(i=1;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1;i++) {
00502             <span class="keywordflow">if</span>(percentDataArray[i]&gt;maxpercent) {
00503                 maxpercent=percentDataArray[i];
00504                 maxi=i;
00505             }
00506         }
00507         percentDataArray[maxi]+=diff;
00508     }
00509     <span class="keywordflow">else</span>
00510         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++)
00511             percentDataArray[i]=0;
00512 
00513     <span class="comment">//------ paint the background -------//</span>
00514     vga.use_back();
00515     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
00516         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
00517             <a class="code" href="classFacultyRes.html#a17">summary_report_deinit</a>();
00518         report_init_flag = 1;
00519 
00520         user_interface.bg_img(<a class="code" href="Ofac__sum_8cpp.html#a102a58">BG_PIC_ID</a>, &amp;vga_back);
00521         user_interface.brighten(
00522             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>,
00523             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+20,
00524             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>,
00525             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>
00526             );
00527         user_interface.brighten(
00528             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>,
00529             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+20,
00530             <a class="code" href="Ofac__sum_8cpp.html#a97a48">REPORT_X2</a>,
00531             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>);
00532 
00533         user_interface.rect(
00534             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2,
00535             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+20,
00536             <a class="code" href="Ofac__sum_8cpp.html#a97a48">REPORT_X2</a>,
00537             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>,1);
00538 
00539         <span class="comment">// top title</span>
00540         user_interface.brighten(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10);
00541         user_interface.rect(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10,1);
00542         font_charts.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+250,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-7,fac_sum_title[0]);
00543 
00544         <span class="comment">//----- initialize the bottom sub-menus buttons -----//</span>
00545 
00546         text_refresh_bitmap1=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00547         text_refresh_bitmap1=vga_back.save_area(
00548             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>,
00549             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>,
00550             <a class="code" href="Ofac__sum_8cpp.html#a97a48">REPORT_X2</a>-100,
00551             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>,
00552             text_refresh_bitmap1);
00553 
00554         <span class="keywordtype">short</span> x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
00555         <span class="keywordtype">short</span> y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>;
00556 
00557         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+2,<span class="stringliteral">"    Department :"</span>);
00558         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+30,<span class="stringliteral">"      Institution :"</span>);
00559 
00560 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00561 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 7; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
00562 <span class="preprocessor">#else</span>
00563 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 6; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
00564 <span class="preprocessor">#endif</span>
00565 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
00566         x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
00567         y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>+28;
00568 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00569 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 7; i &lt; 14; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
00570 <span class="preprocessor">#else</span>
00571 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 6; i &lt; 12; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
00572 <span class="preprocessor">#endif</span>
00573 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
00574         <span class="comment">/*</span>
00575 <span class="comment">          user_interface.create_button_bitmap(x, y,</span>
00576 <span class="comment">          x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
00577 <span class="comment">          reportTypeStrArray[i], &amp;type_button_up_bitmap[i],</span>
00578 <span class="comment">          &amp;type_button_down_bitmap[i], &amp;vga_back);</span>
00579 <span class="comment">          type_button_group[i].create_bitmapW(x, y,</span>
00580 <span class="comment">          x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
00581 <span class="comment">          ((i == current_report_type) ? type_button_down_bitmap[i] : type_button_up_bitmap[i])+4);</span>
00582 <span class="comment">          }</span>
00583 <span class="comment"></span>
00584 <span class="comment">          {</span>
00585 <span class="comment">          user_interface.create_button_bitmap(x, y,</span>
00586 <span class="comment">          x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
00587 <span class="comment">          reportTypeStrArray[i], &amp;type_button_up_bitmap[i],</span>
00588 <span class="comment">          &amp;type_button_down_bitmap[i], &amp;vga_back);</span>
00589 <span class="comment">          type_button_group[i].create_bitmapW(x, y,</span>
00590 <span class="comment">          x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
00591 <span class="comment">          ((i == current_report_type) ? type_button_down_bitmap[i] : type_button_up_bitmap[i])+4);</span>
00592 <span class="comment">          }</span>
00593 <span class="comment">        */</span>
00594         <span class="comment">/*              i=10;</span>
00595 <span class="comment">                        user_interface.create_button_bitmap(x, y,</span>
00596 <span class="comment">                        x+BOTTOM_BUTTON_WIDTH*2, y+BOTTOM_BUTTON_HEIGHT,</span>
00597 <span class="comment">                        reportTypeStrArray[i], &amp;type_button_up_bitmap[i],</span>
00598 <span class="comment">                        &amp;type_button_down_bitmap[i], &amp;vga_back);</span>
00599 <span class="comment">                        type_button_group[i].create_bitmapW(x, y,</span>
00600 <span class="comment">                        x+BOTTOM_BUTTON_WIDTH*2, y+BOTTOM_BUTTON_HEIGHT,</span>
00601 <span class="comment">                        ((i == current_report_type) ? type_button_down_bitmap[i] : type_button_up_bitmap[i])+4);</span>
00602 <span class="comment">        */</span>
00603         report_init_flag = 1;
00604 
00605         fac_sum_rank_piechart.<a class="code" href="classPieChart.html#a0">init</a>(
00606             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>,
00607             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+20,
00608             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>,
00609             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>,5, rankLevelCount, &amp;xStart,&amp;xEnd,
00610             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 3);
00611 
00612 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00613 <span class="preprocessor"></span>        <span class="comment">// print the labels on top</span>
00614         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>-20,
00615                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
00616                                 fac_avg_salary_label[0] );
00617 
00618         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60-30,
00619                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
00620                                 fac_avg_salary_label[1] );
00621 
00622         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+57,
00623                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
00624                                 fac_avg_salary_label[2] );
00625 
00626         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+118,
00627                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
00628                                 fac_avg_salary_label[3] );
00629 <span class="preprocessor">#endif</span>
00630 <span class="preprocessor"></span>
00631         <span class="comment">//-------- draw the legend --------------//</span>
00632 
00633         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00634             font_chartsm.put(
00635                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>+60,
00636                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00637                 fac_sum_rank_label[i]);
00638 
00639 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00640 <span class="preprocessor"></span>            <span class="comment">// print out average salary</span>
00641             font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>-20,
00642                                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00643                                     m.format( avgSalary[i], 2 ) );
00644 <span class="preprocessor">#endif</span>
00645 <span class="preprocessor"></span>
00646             <span class="comment">/*****************Begin marco**********************/</span>
00647 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00648 <span class="preprocessor"></span>            <span class="comment">// print out count</span>
00649             font_chartsm.right_put(
00650                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60-30,
00651                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00652                 m.format(rankLevelCount[i],4));
00653 
00654             <span class="comment">// print out %</span>
00655             font_chartsm.right_put(
00656                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+60,
00657                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00658                 m.format(percentDataArray[i],29));
00659 
00660             <span class="comment">// print out initial value</span>
00661             font_chart_purple_sm.right_put(
00662                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+113,
00663                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00664                 m.format(initialRankLevelCount[i],4));
00665 <span class="preprocessor">#else</span>
00666 <span class="preprocessor"></span>            font_chartsm.right_put(
00667                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60,
00668                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00669                 m.format(rankLevelCount[i],4));
00670             font_chartsm.right_put(
00671                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+60,
00672                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00673                 m.format(percentDataArray[i],3));
00674 <span class="preprocessor">#endif</span>
00675 <span class="preprocessor"></span>            <span class="comment">/****************End Marco**********************/</span>
00676             mode_fac_sum_graphicon_y[i].<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(
00677                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a89">TAB6</a>,
00678                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+30,
00679                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a89">TAB6</a>+80,
00680                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+69,
00681                 1 ,&amp;data_num ,dataArray[i] , 1, 0, 3);
00682             mode_fac_sum_graphicon_y[i].<a class="code" href="classGraphPerformanceIndicatorYear.html#a8">paint</a>();
00683             <span class="keywordflow">if</span>(i!=<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>-1) {
00684                 user_interface.darken(
00685                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>+30,
00686                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+43+i*43,
00687                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>+43,
00688                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+57+i*43);
00689 
00690                 user_interface.bar(
00691                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>+30,
00692                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+43+i*43,
00693                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>+41,
00694                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+55+i*43,
00695                     ((fac_sum_rank_piechart.<a class="code" href="classPieChart.html#m17">series_color</a>)[i]));
00696             }
00697         }
00698 
00699         fac_sum_rank_piechart.<a class="code" href="classPieChart.html#a13">refresh</a>();
00700     }
00701     <span class="keywordflow">else</span> {
00702         fac_sum_rank_piechart.<a class="code" href="classPieChart.html#a13">refresh</a>();
00703         vga_back.rest_area(text_refresh_bitmap1,0,0);
00704 
00705 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00706 <span class="preprocessor"></span>        <span class="comment">// print the labels on top</span>
00707         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>-20,
00708                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
00709                                 fac_avg_salary_label[0] );
00710 
00711         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60-30,
00712                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
00713                                 fac_avg_salary_label[1] );
00714 
00715         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+57,
00716                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
00717                                 fac_avg_salary_label[2] );
00718 
00719         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+118,
00720                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
00721                                 fac_avg_salary_label[3] );
00722 <span class="preprocessor">#endif</span>
00723 <span class="preprocessor"></span>
00724         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Ostudent_8h.html#a34a12">MAX_STUDENT_LEVEL_N_TOTAL</a>;i++) {
00725             <span class="comment">/*****************Begin Marco**********************/</span>
00726 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00727 <span class="preprocessor"></span>            <span class="comment">// print out average salary</span>
00728             font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>-20,
00729                                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00730                                     m.format( avgSalary[i], 2 ) );
00731 
00732             <span class="comment">// print out count</span>
00733             font_chartsm.right_put(
00734                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60-30,
00735                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00736                 m.format(rankLevelCount[i],4));
00737 
00738             <span class="comment">// print out %</span>
00739             font_chartsm.right_put(
00740                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+60,
00741                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00742                 m.format(percentDataArray[i],29));
00743 
00744             <span class="comment">// print out initial value</span>
00745             font_chart_purple_sm.right_put(
00746                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+113,
00747                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00748                 m.format(initialRankLevelCount[i],4));
00749 <span class="preprocessor">#else</span>
00750 <span class="preprocessor"></span>            font_chartsm.right_put(
00751                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60,
00752                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00753                 m.format(rankLevelCount[i],4));
00754             font_chartsm.right_put(
00755                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+60,
00756                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*43+43,
00757                 m.format(percentDataArray[i],3));
00758 <span class="preprocessor">#endif</span>
00759 <span class="preprocessor"></span>            <span class="comment">/*****************End Marco**********************/</span>
00760             mode_fac_sum_graphicon_y[i].<a class="code" href="classGraphPerformanceIndicatorYear.html#a9">refresh</a>();
00761         }
00762     }
00763 
00764     <span class="comment">//----------- paint the summary button group ---------//</span>
00765     type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classFacultyRes.html#m9">current_report_type</a>);
00766 
00767     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
00768     <span class="comment">//##trevor 2807</span>
00769     vga.use_front();
00770     <span class="comment">//##trevor 2807</span>
00771 }
00772 
00773 <span class="comment">//----- End of Summary Report 1 ------//</span>
00774 
00775 <span class="comment">//----- Begin of Summary Report 2 ------//</span>
<a name="l00776"></a><a class="code" href="classFacultyRes.html#a9">00776</a> <span class="keywordtype">void</span> <a class="code" href="classFacultyRes.html#a9">FacultyRes::summary_report_2</a>(<span class="keywordtype">int</span> refreshFlag) {
00777     <span class="keyword">static</span> <span class="keywordtype">int</span> percentDataArray2[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00778     <span class="keyword">static</span> <span class="keywordtype">int</span> xStart = 1991, xEnd = 1998;          <span class="comment">//*** temporary ***//</span>
00779 
00780     <span class="keywordtype">int</span> deptRecno=1;
00781 
00782     <span class="keywordtype">int</span> genderEthnicGroupCount[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00783     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num=HISTORY_YEAR_COUNT;
00784     <span class="keyword">static</span> <span class="keywordtype">int</span> *dataArray[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00785 
00786     memset( genderEthnicGroupCount,0, <span class="keyword">sizeof</span>(genderEthnicGroupCount) );
00787 
00788     <span class="comment">// ##### Begin MArco ##### //</span>
00789 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00790 <span class="preprocessor"></span>    <span class="keywordtype">int</span> initialGenderEthnicGroupCount[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00791     <span class="comment">//  static int *initialDataArray[GENDER_ETHNIC_TYPE_COUNT_N_TOTAL];</span>
00792     <span class="comment">//NEW</span>
00793     <span class="keywordtype">int</span> initialDataArray[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00794 
00795     memset( initialGenderEthnicGroupCount,0, <span class="keyword">sizeof</span>(initialGenderEthnicGroupCount) );
00796 <span class="preprocessor">#endif</span>
00797 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00798 
00799 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00800 <span class="preprocessor"></span>    <span class="keywordtype">float</span> avgSalary[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00801     <span class="keywordtype">float</span> sumSalary[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00802     <span class="keywordtype">int</span> totalStaff[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>];
00803 
00804     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=0; j&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>; j++ ) {
00805         avgSalary[j] = 0.0;
00806         sumSalary[j] = 0.0;
00807         totalStaff[j] = 0;
00808     }
00809 <span class="preprocessor">#endif</span>
00810 <span class="preprocessor"></span>
00811     <span class="comment">//---- determine the department for display the faculty records ----//</span>
00812     <span class="keywordflow">if</span>(current_report_mode==<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>) {
00813         <span class="keywordflow">if</span>(department_array.selected_recno)
00814             deptRecno = department_array.selected_recno;
00815         cur_dept_ptr = department_array[deptRecno];
00816 
00817 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00818 <span class="preprocessor"></span>        <span class="comment">// calculate the total salary</span>
00819         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> k=1; k&lt;=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classDynArray.html#a28">size</a>(); k++ ) {
00820             <a class="code" href="classFaculty.html">Faculty</a>* facultyPtr = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>[k];
00821 
00822             <span class="keywordflow">if</span> ( !facultyPtr )
00823                 <span class="keywordflow">continue</span>;
00824 
00825             sumSalary[facultyPtr-&gt;<a class="code" href="classFaculty.html#m7">gender_ethnic_group</a>] += facultyPtr-&gt;<a class="code" href="classFaculty.html#m11">salary</a>;
00826         }
00827 <span class="preprocessor">#endif</span>
00828 <span class="preprocessor"></span>
00829         <span class="comment">//-- department wide --//</span>
00830         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++) {
00831             dataArray[i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m65">faculty_gender_history</a>[i];
00832             genderEthnicGroupCount[i]=dataArray[i][data_num-1];
00833 
00834             <span class="comment">// ##### Begin Marco ##### //</span>
00835 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00836 <span class="preprocessor"></span>            initialDataArray[i]=cur_dept_ptr-&gt;initial_faculty_gender[i];
00837             <span class="comment">//                  initialGenderEthnicGroupCount[i]=initialDataArray[i][data_num-1];</span>
00838             initialGenderEthnicGroupCount[i]=initialDataArray[i];
00839 <span class="preprocessor">#endif</span>
00840 <span class="preprocessor"></span>            <span class="comment">// ##### End MArco ##### //</span>
00841         }
00842 
00843 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00844 <span class="preprocessor"></span>        <span class="comment">// calculate average salary</span>
00845         <span class="keywordflow">for</span> ( i=0; i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1; i++ ) {
00846             <span class="keywordflow">if</span> ( genderEthnicGroupCount[i] == 0 )
00847                 avgSalary[i] = 0;
00848             <span class="keywordflow">else</span>
00849                 avgSalary[i] = sumSalary[i] / genderEthnicGroupCount[i];
00850 
00851             avgSalary[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1] += avgSalary[i]*genderEthnicGroupCount[i];
00852         }
00853 
00854         avgSalary[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1] /= genderEthnicGroupCount[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1];
00855 <span class="preprocessor">#endif</span>
00856 <span class="preprocessor"></span>    }
00857     <span class="keywordflow">else</span> {
00858         <span class="comment">//-- Institution wide --//</span>
00859         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++) {
00860             dataArray[i]=department_array.faculty_gender_history[i];
00861             genderEthnicGroupCount[i]=dataArray[i][data_num-1];
00862 
00863             <span class="comment">// ##### Begin Marco ##### //</span>
00864 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00865 <span class="preprocessor"></span>            initialDataArray[i]=department_array.initial_faculty_gender[i];
00866             <span class="comment">//                  initialGenderEthnicGroupCount[i]=initialDataArray[i][data_num-1];</span>
00867             initialGenderEthnicGroupCount[i]=initialDataArray[i];
00868 <span class="preprocessor">#endif</span>
00869 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
00870         }
00871 
00872 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00873 <span class="preprocessor"></span>        <span class="comment">// calculate total salary</span>
00874         <span class="keywordflow">for</span> ( i=1; i&lt;=department_array.size(); i++ ) {
00875             <a class="code" href="classDepartment.html">Department</a>* deptPtr = department_array[i];
00876 
00877             <span class="keywordflow">if</span> ( !deptPtr )
00878                 <span class="keywordflow">continue</span>;
00879 
00880             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=1; j&lt;=deptPtr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classDynArray.html#a28">size</a>(); j++ ) {
00881                 <a class="code" href="classFaculty.html">Faculty</a>* facultyPtr = (<a class="code" href="classFaculty.html">Faculty</a>*) deptPtr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>[j];
00882 
00883                 <span class="keywordflow">if</span> ( !facultyPtr )
00884                     <span class="keywordflow">continue</span>;
00885 
00886                 sumSalary[facultyPtr-&gt;<a class="code" href="classFaculty.html#m7">gender_ethnic_group</a>] += facultyPtr-&gt;<a class="code" href="classFaculty.html#m11">salary</a>;
00887             }
00888         }
00889 
00890         <span class="comment">// calculate average salary</span>
00891         <span class="keywordflow">for</span> ( i=0; i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1; i++ ) {
00892             <span class="keywordflow">if</span> ( genderEthnicGroupCount[i] == 0 )
00893                 avgSalary[i] = 0;
00894             <span class="keywordflow">else</span>
00895                 avgSalary[i] = sumSalary[i] / genderEthnicGroupCount[i];
00896 
00897             avgSalary[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1] += avgSalary[i]*genderEthnicGroupCount[i];
00898         }
00899 
00900         <span class="comment">// calculate average salary in whole institution</span>
00901         avgSalary[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1] /=  genderEthnicGroupCount[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1];
00902 <span class="preprocessor">#endif</span>
00903 <span class="preprocessor"></span>
00904     }
00905 
00906     <span class="comment">//  if(genderEthnicGroupCount[GENDER_ETHNIC_TYPE_COUNT_N_TOTAL-1]&gt;1e-9)</span>
00907     <span class="comment">//          for(int i=0;i&lt;GENDER_ETHNIC_TYPE_COUNT_N_TOTAL;i++)</span>
00908     <span class="comment">//                  percentDataArray2[i]=(genderEthnicGroupCount[i]*100)/genderEthnicGroupCount[GENDER_ETHNIC_TYPE_COUNT_N_TOTAL-1];</span>
00909 
00910     <span class="keywordtype">int</span> sum=0;
00911     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1;i++)
00912         sum+=genderEthnicGroupCount[i];
00913     genderEthnicGroupCount[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1]=sum;
00914 
00915     <span class="comment">// ##### Begin Marco ##### //</span>
00916 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00917 <span class="preprocessor"></span>    <span class="keywordtype">int</span> initialSum=0;
00918     <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1;i++)
00919         initialSum+=initialGenderEthnicGroupCount[i];
00920     initialGenderEthnicGroupCount[<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1]=initialSum;
00921 <span class="preprocessor">#endif</span>
00922 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00923 
00924     <span class="keywordflow">if</span>(sum!=0) {
00925         <span class="keywordtype">int</span> diff=200;
00926         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++) {
00927             percentDataArray2[i]=(genderEthnicGroupCount[i]*100)/sum;
00928             diff-=percentDataArray2[i];
00929         }
00930         <span class="keywordtype">int</span> maxpercent=percentDataArray2[0],maxi=0;
00931         <span class="keywordflow">for</span>(i=1;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1;i++) {
00932             <span class="keywordflow">if</span>(percentDataArray2[i]&gt;maxpercent) {
00933                 maxpercent=percentDataArray2[i];
00934                 maxi=i;
00935             }
00936         }
00937         percentDataArray2[maxi]+=diff;
00938     }
00939     <span class="keywordflow">else</span>
00940         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++)
00941             percentDataArray2[i]=0;
00942 
00943     <span class="comment">//------ paint the background -------//</span>
00944     vga.use_back();
00945     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
00946         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
00947             <a class="code" href="classFacultyRes.html#a17">summary_report_deinit</a>();
00948 
00949         user_interface.bg_img(<a class="code" href="Ofac__sum_8cpp.html#a102a58">BG_PIC_ID</a>, &amp;vga_back);
00950         user_interface.brighten(
00951             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>,
00952             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+20,
00953             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>,
00954             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>
00955             );
00956 
00957         user_interface.brighten(
00958             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>,
00959             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+20,
00960             <a class="code" href="Ofac__sum_8cpp.html#a97a48">REPORT_X2</a>,
00961             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>);
00962         user_interface.rect(
00963             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2,
00964             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+20,
00965             <a class="code" href="Ofac__sum_8cpp.html#a97a48">REPORT_X2</a>,
00966             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>,1);
00967         <span class="comment">/*</span>
00968 <span class="comment">          user_interface.brighten(</span>
00969 <span class="comment">          REPORT_X1+TAB2+45,</span>
00970 <span class="comment">          REPORT_Y1+VTAB1-15,</span>
00971 <span class="comment">          REPORT_X1+TAB2+375,</span>
00972 <span class="comment">          REPORT_Y1+VTAB1+8);</span>
00973 <span class="comment"></span>
00974 <span class="comment">          user_interface.rect(</span>
00975 <span class="comment">          REPORT_X1+TAB2+45,</span>
00976 <span class="comment">          REPORT_Y1+VTAB1-15,</span>
00977 <span class="comment">          REPORT_X1+TAB2+375,</span>
00978 <span class="comment">          REPORT_Y1+VTAB1+8);</span>
00979 <span class="comment"></span>
00980 <span class="comment">          font_charts.put(</span>
00981 <span class="comment">          REPORT_X1+TAB2+60,</span>
00982 <span class="comment">          REPORT_Y1+VTAB1-15,</span>
00983 <span class="comment">          fac_sum_title[1]);</span>
00984 <span class="comment">        */</span>
00985         <span class="comment">// top title</span>
00986         user_interface.brighten(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10);
00987         user_interface.rect(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10,1);
00988         font_charts.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+230,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-7,fac_sum_title[1]);
00989 
00990         <span class="comment">//----- initialize the bottom sub-menus buttons -----//</span>
00991 
00992         text_refresh_bitmap1=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00993         text_refresh_bitmap1=vga_back.save_area(
00994             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>,
00995             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>,
00996             <a class="code" href="Ofac__sum_8cpp.html#a97a48">REPORT_X2</a>-100,
00997             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>,
00998             text_refresh_bitmap1);
00999 
01000         fac_sum_gender_ethnic_piechart.<a class="code" href="classPieChart.html#a0">init</a>(
01001             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>,
01002             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+20,
01003             <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>,
01004             <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a93">VTAB4</a>,
01005             4, genderEthnicGroupCount, &amp;xStart,&amp;xEnd,
01006             <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 3);
01007 
01008         <span class="keywordtype">short</span> x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
01009         <span class="keywordtype">short</span> y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>;
01010 
01011         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+2,<span class="stringliteral">"    Department :"</span>);
01012         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+30,<span class="stringliteral">"      Institution :"</span>);
01013 
01014 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01015 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 7; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
01016 <span class="preprocessor">#else</span>
01017 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 6; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
01018 <span class="preprocessor">#endif</span>
01019 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
01020         x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
01021         y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>+28;
01022 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01023 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 7; i &lt; 14; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
01024 <span class="preprocessor">#else</span>
01025 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 6; i &lt; 12; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
01026 <span class="preprocessor">#endif</span>
01027 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
01028         <span class="comment">/*</span>
01029 <span class="comment">          for (int i = 0; i &lt; 6; i++, x+=BOTTOM_BUTTON_WIDTH+BOTTOM_BUTTON_DISTANCE)</span>
01030 <span class="comment">          {</span>
01031 <span class="comment">          user_interface.create_button_bitmap(x, y,</span>
01032 <span class="comment">          x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
01033 <span class="comment">          reportTypeStrArray[i], &amp;type_button_up_bitmap[i],</span>
01034 <span class="comment">          &amp;type_button_down_bitmap[i], &amp;vga_back);</span>
01035 <span class="comment">          type_button_group[i].create_bitmapW(x, y,</span>
01036 <span class="comment">          x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
01037 <span class="comment">          ((i == current_report_type) ? type_button_down_bitmap[i] : type_button_up_bitmap[i])+4);</span>
01038 <span class="comment">          }</span>
01039 <span class="comment"></span>
01040 <span class="comment">          x = BOTTOM_BUTTON_X1;</span>
01041 <span class="comment">          y = BOTTOM_BUTTON_Y1+28;</span>
01042 <span class="comment"></span>
01043 <span class="comment">          for (i = 6; i &lt; 12; i++, x+=BOTTOM_BUTTON_WIDTH+BOTTOM_BUTTON_DISTANCE)</span>
01044 <span class="comment">          {</span>
01045 <span class="comment">          user_interface.create_button_bitmap(x, y,</span>
01046 <span class="comment">          x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
01047 <span class="comment">          reportTypeStrArray[i], &amp;type_button_up_bitmap[i],</span>
01048 <span class="comment">          &amp;type_button_down_bitmap[i], &amp;vga_back);</span>
01049 <span class="comment">          type_button_group[i].create_bitmapW(x, y,</span>
01050 <span class="comment">          x+BOTTOM_BUTTON_WIDTH, y+BOTTOM_BUTTON_HEIGHT,</span>
01051 <span class="comment">          ((i == current_report_type) ? type_button_down_bitmap[i] : type_button_up_bitmap[i])+4);</span>
01052 <span class="comment">          }</span>
01053 <span class="comment">        */</span>
01054         report_init_flag = 1;
01055 
01056 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01057 <span class="preprocessor"></span>        <span class="comment">// print the labels on top</span>
01058         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>-20,
01059                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
01060                                 fac_avg_salary_label[0] );
01061 
01062         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60-30,
01063                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
01064                                 fac_avg_salary_label[1] );
01065 
01066         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+57,
01067                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
01068                                 fac_avg_salary_label[2] );
01069 
01070         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+118,
01071                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
01072                                 fac_avg_salary_label[3] );
01073 <span class="preprocessor">#endif</span>
01074 <span class="preprocessor"></span>
01075         <span class="comment">//-------- draw the legend --------------//</span>
01076 
01077         <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++) {
01078 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01079 <span class="preprocessor"></span>            font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>-20,
01080                                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01081                                     m.format( avgSalary[i], 2 ) );
01082 <span class="preprocessor">#endif</span>
01083 <span class="preprocessor"></span>            font_chartsm.put(
01084                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>+60,
01085                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01086                 fac_sum_ge_label[i]);
01087             <span class="comment">// ##### Begin Marco ##### //</span>
01088 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01089 <span class="preprocessor"></span>            font_chartsm.right_put(
01090                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60-30,
01091                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01092                 m.format(genderEthnicGroupCount[i],4));
01093 <span class="preprocessor">#else</span>
01094 <span class="preprocessor"></span>            font_chartsm.right_put(
01095                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60,
01096                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01097                 m.format(genderEthnicGroupCount[i],4));
01098 <span class="preprocessor">#endif</span>
01099 <span class="preprocessor"></span><span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01100 <span class="preprocessor"></span>            <span class="comment">// print out %</span>
01101             font_chartsm.right_put(
01102                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+60,
01103                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01104                 m.format(percentDataArray2[i],29));
01105 
01106             <span class="comment">// print out initial value</span>
01107             font_chart_purple_sm.right_put(
01108                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+113,
01109                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01110                 m.format(initialGenderEthnicGroupCount[i],4));
01111 <span class="preprocessor">#else</span>
01112 <span class="preprocessor"></span>            font_chartsm.right_put(
01113                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+60,
01114                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01115                 m.format(percentDataArray2[i],3));
01116 <span class="preprocessor">#endif</span>
01117 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
01118             mode_fac_sum_graphicon_y[i].<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(
01119                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a89">TAB6</a>,
01120                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+30,
01121                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a89">TAB6</a>+80,
01122                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+72,
01123                 1 ,&amp;data_num ,dataArray[i] , 1, 0, 3);
01124             mode_fac_sum_graphicon_y[i].<a class="code" href="classGraphPerformanceIndicatorYear.html#a8">paint</a>();
01125             <span class="keywordflow">if</span>(i!=<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>-1) {
01126                 user_interface.darken(
01127                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>+30,
01128                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+43+i*47,
01129                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>+43,
01130                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+57+i*47
01131                     );
01132                 user_interface.bar(
01133                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>+30,
01134                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+43+i*47,
01135                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a86">TAB3</a>+41,
01136                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+55+i*47,
01137                     ((fac_sum_gender_ethnic_piechart.<a class="code" href="classPieChart.html#m17">series_color</a>)[i]));
01138             }
01139         }
01140     }
01141     <span class="keywordflow">else</span> {
01142         vga_back.rest_area(text_refresh_bitmap1,0,0);
01143 
01144 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01145 <span class="preprocessor"></span>        <span class="comment">// print the labels on top</span>
01146         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>-20,
01147                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
01148                                 fac_avg_salary_label[0] );
01149 
01150         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60-30,
01151                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
01152                                 fac_avg_salary_label[1] );
01153 
01154         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+57,
01155                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
01156                                 fac_avg_salary_label[2] );
01157 
01158         font_chartsm.right_put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+118,
01159                                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+23,
01160                                 fac_avg_salary_label[3] );
01161 <span class="preprocessor">#endif</span>
01162 <span class="preprocessor"></span>
01163         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="Gamedef_8h.html#a77a33">GENDER_ETHNIC_TYPE_COUNT_N_TOTAL</a>;i++) {
01164             <span class="comment">// ##### Begin Marco ##### //</span>
01165 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01166 <span class="preprocessor"></span>            font_chartsm.right_put(
01167                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60-30,
01168                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01169                 m.format(genderEthnicGroupCount[i],4));
01170 <span class="preprocessor">#else</span>
01171 <span class="preprocessor"></span>            font_chartsm.right_put(
01172                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+60,
01173                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01174                 m.format(genderEthnicGroupCount[i],4));
01175 <span class="preprocessor">#endif</span>
01176 <span class="preprocessor"></span><span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01177 <span class="preprocessor"></span>            <span class="comment">// print out %</span>
01178             font_chartsm.right_put(
01179                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+60,
01180                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01181                 m.format(percentDataArray2[i],29));
01182 
01183             <span class="comment">// print out initial value</span>
01184             font_chart_purple_sm.right_put(
01185                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a87">TAB4</a>+113,
01186                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01187                 m.format(initialGenderEthnicGroupCount[i],4));
01188 <span class="preprocessor">#else</span>
01189 <span class="preprocessor"></span>            font_chartsm.right_put(
01190                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a88">TAB5</a>+60,
01191                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+i*47+43,
01192                 m.format(percentDataArray2[i],3));
01193 <span class="preprocessor">#endif</span>
01194 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
01195             mode_fac_sum_graphicon_y[i].<a class="code" href="classGraphPerformanceIndicatorYear.html#a9">refresh</a>();
01196         }
01197     }
01198 
01199     fac_sum_gender_ethnic_piechart.<a class="code" href="classPieChart.html#a13">refresh</a>();
01200     <span class="comment">//----------- paint the summary button group ---------//</span>
01201     type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classFacultyRes.html#m9">current_report_type</a>);
01202 
01203     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
01204     vga.use_front();
01205 }
01206 
01207 <span class="comment">//----- End of Summary Report 2 ------//</span>
01208 
01209 <span class="comment">//----- Begin of Summary Report 3 ------//  (activities)</span>
<a name="l01210"></a><a class="code" href="classFacultyRes.html#a10">01210</a> <span class="keywordtype">void</span> <a class="code" href="classFacultyRes.html#a10">FacultyRes::summary_report_3</a>(<span class="keywordtype">int</span> refreshFlag) {
01211     <span class="keywordtype">int</span> tab1=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+0;
01212     <span class="keywordtype">int</span> tab2=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+150;
01213     <span class="keywordtype">int</span> tab3=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+190;
01214     <span class="keywordtype">int</span> tab4=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+280;
01215     <span class="keywordtype">int</span> tab5=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+320;
01216     <span class="keywordtype">int</span> tab6=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+410;
01217     <span class="keywordtype">int</span> tab7=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+450;
01218     <span class="keywordtype">int</span> tab8=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+540;
01219     <span class="keywordtype">int</span> tab9=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+710;
01220     <span class="keywordtype">int</span> tab11=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+5;
01221     <span class="keywordtype">int</span> tab12=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+210;
01222     <span class="keywordtype">int</span> tab13=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+260;
01223     <span class="keywordtype">int</span> tab14=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+350;
01224     <span class="keywordtype">int</span> tab15=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+580;
01225     <span class="keywordtype">int</span> tab16=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+620;
01226     <span class="keywordtype">int</span> tab17=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+710;
01227 
01228     <span class="keywordtype">int</span> vtab1=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10;
01229     <span class="keywordtype">int</span> vtab2=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+25;
01230     <span class="keywordtype">int</span> vtab3=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+100;
01231     <span class="keywordtype">int</span> vtab4=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+105;
01232     <span class="keywordtype">int</span> vtab5=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+340;
01233 
01234     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num1=HISTORY_TRIMESTER_COUNT;
01235     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num2=HISTORY_MONTH_COUNT;
01236     <span class="comment">/*  static int v1[3]={12,32,21};</span>
01237 <span class="comment">        static int v2[3]={14,42,26};</span>
01238 <span class="comment">        static float v3[4]={52,33,23,31};</span>
01239 <span class="comment">        static float v4[4]={52,33,12,31};</span>
01240 <span class="comment">        static float v5;</span>
01241 <span class="comment">        //      static int v6=21;</span>
01242 <span class="comment"></span>
01243 <span class="comment">        static int v7[8]={5,5,5,5,5,5,5,5};</span>
01244 <span class="comment">    */</span>
01245     <span class="comment">// ##### Begin Marco ####### //</span>
01246     <span class="keyword">static</span> <span class="keywordtype">float</span> v1[3]={12,32,21};
01247     <span class="keyword">static</span> <span class="keywordtype">float</span> v2[3]={14,42,26};
01248     <span class="keyword">static</span> <span class="keywordtype">float</span> v3[4]={52,33,23,31};
01249 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01250 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">float</span> v4[5]={52,33,12,31,31};
01251 <span class="preprocessor">#else</span>
01252 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">float</span> v4[4]={52,33,12,31};
01253 <span class="preprocessor">#endif</span>
01254 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">float</span> v5;
01255     <span class="comment">//  static int v6=21;</span>
01256 
01257     <span class="keyword">static</span> <span class="keywordtype">int</span> v7[8]={5,5,5,5,5,5,5,5};
01258     <span class="comment">// ##### End Marco ####### //</span>
01259     <span class="keyword">static</span> <span class="keywordtype">float</span> dataArray1[7][HISTORY_TRIMESTER_COUNT];
01260 
01261     <span class="keyword">static</span> <span class="keywordtype">float</span> dataArray2[1][HISTORY_MONTH_COUNT];
01262     <span class="keyword">static</span> <span class="keywordtype">float</span> dataArray3[<a class="code" href="Ofaculty_8h.html#a30a21">DISCRETIONARY_TYPE_COUNT_N_TOTAL</a>+1][HISTORY_TRIMESTER_COUNT];
01263     <span class="keyword">static</span> <span class="keywordtype">int</span> xStart = 1991, xEnd = 1998;          <span class="comment">//*** temporary ***//</span>
01264 
01265     <span class="comment">// ##### Begin Marco ##### //</span>
01266 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01267 <span class="preprocessor"></span>    <span class="comment">//  static int initialv1[3]={12,32,21};</span>
01268     <span class="comment">//  static int initialv2[3]={14,42,26};</span>
01269     <span class="keyword">static</span> <span class="keywordtype">float</span> initialv1[3]={12,32,21};
01270     <span class="keyword">static</span> <span class="keywordtype">float</span> initialv2[3]={14,42,26};
01271     <span class="keyword">static</span> <span class="keywordtype">float</span> initialv3[4]={52,33,23,31};
01272     <span class="keyword">static</span> <span class="keywordtype">float</span> initialv4[5]={52,33,12,31,31};
01273     <span class="keyword">static</span> <span class="keywordtype">float</span> initialv5;
01274     <span class="comment">//  static int v6=21;</span>
01275     <span class="comment">//  static int initialv7[8]={5,5,5,5,5,5,5,5};</span>
01276     <span class="keyword">static</span> <span class="keywordtype">float</span> initialv7[8]={5,5,5,5,5,5,5,5};
01277     <span class="comment">//  static float initialDataArray3[DISCRETIONARY_TYPE_COUNT_N_TOTAL+1][HISTORY_TRIMESTER_COUNT];</span>
01278 <span class="preprocessor">#endif</span>
01279 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
01280 
01281     <span class="keywordtype">int</span> deptRecno=1;
01282 
01283     memset( dataArray1,0, <span class="keyword">sizeof</span>(dataArray1) );
01284     memset( dataArray2,0, <span class="keyword">sizeof</span>(dataArray2) );
01285     memset( dataArray3,0, <span class="keyword">sizeof</span>(dataArray3) );
01286 
01287     <span class="comment">// ##### Begin Marco ##### //</span>
01288 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01289 <span class="preprocessor"></span>    <span class="comment">//  memset( initialDataArray3,0, sizeof(initialDataArray3) );</span>
01290 <span class="preprocessor">#endif</span>
01291 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
01292 
01293     <span class="comment">//---- determine the department for display the faculty records ----//</span>
01294     <span class="keywordflow">if</span>(current_report_mode==<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>) {
01295         <span class="keywordflow">if</span>( department_array.selected_recno )
01296             deptRecno = department_array.selected_recno;
01297 
01298         cur_dept_ptr = department_array[deptRecno];
01299 
01300         <span class="comment">//-- department wide --//</span>
01301         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;HISTORY_TRIMESTER_COUNT;i++) {
01302             dataArray1[0][i]=(int)cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classFacultyArray.html#m2">talent_teaching</a>[i];
01303             dataArray1[1][i]=(int)cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classFacultyArray.html#m3">talent_scholarship</a>[i];
01304             dataArray1[2][i]=(int)cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classFacultyArray.html#m4">talent_research</a>[i];
01305             dataArray1[3][i]=(int)cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classFacultyArray.html#m5">performance_teaching</a>[i];
01306             dataArray1[4][i]=(int)cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classFacultyArray.html#m6">performance_scholarship</a>[i];
01307             dataArray1[5][i]=(int)cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classFacultyArray.html#m7">performance_research</a>[i];
01308         }
01309 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01310 <span class="preprocessor"></span>        initialv1[0]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_talent_teaching;
01311         initialv1[1]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_talent_scholarship;
01312         initialv1[2]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_talent_research;
01313         initialv2[0]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_performance_teaching;
01314         initialv2[1]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_performance_scholarship;
01315         initialv2[2]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_performance_research;
01316 <span class="preprocessor">#endif</span>
01317 <span class="preprocessor"></span>
01318         <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_MONTH_COUNT;i++) {
01319             dataArray2[0][i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m56">p_faculty_morale_history</a>[i];
01320         }
01321 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01322 <span class="preprocessor"></span>        initialv5=cur_dept_ptr-&gt;initial_p_faculty_morale;
01323 <span class="preprocessor">#endif</span>
01324 <span class="preprocessor"></span>
01325         <span class="comment">/*</span>
01326 <span class="comment">          for(i=0;i&lt;HISTORY_TRIMESTER_COUNT;i++)</span>
01327 <span class="comment">          {</span>
01328 <span class="comment">          dataArray3[0][i]=(int)cur_dept_ptr-&gt;faculty_array.teaching_contact_hour[i];</span>
01329 <span class="comment">          for(int j=0;j&lt;DISCRETIONARY_TYPE_COUNT_N_TOTAL;j++)</span>
01330 <span class="comment">          dataArray3[j+1][i]=(int)cur_dept_ptr-&gt;faculty_array.discretionary_hour_array[j][i];</span>
01331 <span class="comment">          }</span>
01332 <span class="comment">        */</span>
01333         <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_TRIMESTER_COUNT;i++) {
01334             dataArray3[0][i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classFacultyArray.html#m10">teaching_contact_hour</a>[i];
01335             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;<a class="code" href="Ofaculty_8h.html#a30a21">DISCRETIONARY_TYPE_COUNT_N_TOTAL</a>;j++)
01336                 dataArray3[j+1][i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.<a class="code" href="classFacultyArray.html#m11">discretionary_hour_array</a>[j][i];
01337         }
01338         v7[0]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m12">pressure_to_change_teaching_load</a>;
01339         <span class="comment">// ##### Begin MArco ##### //</span>
01340 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01341 <span class="preprocessor"></span>        initialv7[0]=cur_dept_ptr-&gt;initial_pressure_to_change_teaching_load;
01342 
01343         initialv3[0]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_teaching_contact_hour;
01344         <span class="comment">// size of initial_discretionary_hour_array</span>
01345         <a class="code" href="ALL_8H.html#a0">err_when</a>( <a class="code" href="Ofaculty_8h.html#a30a21">DISCRETIONARY_TYPE_COUNT_N_TOTAL</a> &lt; 7 );
01346         initialv3[1]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_discretionary_hour_array[0];
01347         initialv3[2]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_discretionary_hour_array[1];
01348         initialv3[3]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_discretionary_hour_array[2];
01349         initialv4[0]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_discretionary_hour_array[3];
01350         initialv4[1]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_discretionary_hour_array[4];
01351         initialv4[2]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_discretionary_hour_array[5];
01352         initialv4[3]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_discretionary_hour_array[6];
01353         initialv4[4]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.initial_time_shifted_scholarship;
01354 
01355         v4[4] = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m0">faculty_array</a>.time_shifted_scholarship;
01356 <span class="preprocessor">#endif</span>
01357 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01358         <span class="keywordflow">for</span>(i=0;i&lt;6;i++) {
01359             v7[i+1]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m10">priority_discretionary_hour_array</a>[i];
01360             <span class="comment">// ##### Begin MArco ##### //</span>
01361 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01362 <span class="preprocessor"></span>            initialv7[i+1]=cur_dept_ptr-&gt;initial_priority_discretionary_hour_array[i];
01363 <span class="preprocessor">#endif</span>
01364 <span class="preprocessor"></span>        }
01365         <span class="comment">// ##### End Marco ##### //</span>
01366     }
01367     <span class="keywordflow">else</span> {
01368         <span class="comment">//-- institution wide chwg0116 --//</span>
01369         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;HISTORY_TRIMESTER_COUNT;i++) {
01370             dataArray1[0][i]=(int)department_array.talent_teaching[i];
01371             dataArray1[1][i]=(int)department_array.talent_scholarship[i];
01372             dataArray1[2][i]=(int)department_array.talent_research[i];
01373             dataArray1[3][i]=(int)department_array.performance_teaching[i];
01374             dataArray1[4][i]=(int)department_array.performance_scholarship[i];
01375             dataArray1[5][i]=(int)department_array.performance_research[i];
01376         }
01377 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01378 <span class="preprocessor"></span>        initialv1[0]=department_array.initial_talent_teaching;
01379         initialv1[1]=department_array.initial_talent_scholarship;
01380         initialv1[2]=department_array.initial_talent_research;
01381         initialv2[0]=department_array.initial_performance_teaching;
01382         initialv2[1]=department_array.initial_performance_scholarship;
01383         initialv2[2]=department_array.initial_performance_research;
01384 
01385         v4[4] = department_array.time_shifted_scholarship;
01386 <span class="preprocessor">#endif</span>
01387 <span class="preprocessor"></span>
01388         <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_MONTH_COUNT;i++) {
01389             dataArray2[0][i]=department_array.<a class="code" href="classDepartment.html#m56">p_faculty_morale_history</a>[i];
01390         }
01391 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01392 <span class="preprocessor"></span>        initialv5=department_array.initial_p_faculty_morale;
01393 <span class="preprocessor">#endif</span>
01394 <span class="preprocessor"></span>
01395         <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_TRIMESTER_COUNT;i++) {
01396             <span class="comment">//                  dataArray3[0][i]=(int)department_array.teaching_contact_hour[i];</span>
01397             <span class="comment">//                  for(int j=0;j&lt;DISCRETIONARY_TYPE_COUNT_N_TOTAL;j++)</span>
01398             <span class="comment">//                          dataArray3[j+1][i]=(int)department_array.discretionary_hour_array[j][i];</span>
01399 
01400             <span class="comment">// ##### begin Marco ##### //</span>
01401 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01402 <span class="preprocessor"></span>            dataArray3[0][i]=department_array.teaching_contact_hour[i];
01403             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;<a class="code" href="Ofaculty_8h.html#a30a21">DISCRETIONARY_TYPE_COUNT_N_TOTAL</a>;j++)
01404                 dataArray3[j+1][i]=department_array.discretionary_hour_array[j][i];
01405 <span class="preprocessor">#endif</span>
01406 <span class="preprocessor"></span>            <span class="comment">// #### End Marco #### //</span>
01407         }
01408 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01409 <span class="preprocessor"></span>        initialv3[0]=department_array.initial_teaching_contact_hour;
01410         <span class="comment">// size of initial_discretionary_hour_array</span>
01411         <a class="code" href="ALL_8H.html#a0">err_when</a>( <a class="code" href="Ofaculty_8h.html#a30a21">DISCRETIONARY_TYPE_COUNT_N_TOTAL</a> &lt; 7 );
01412         initialv3[1]=department_array.initial_discretionary_hour_array[0];
01413         initialv3[2]=department_array.initial_discretionary_hour_array[1];
01414         initialv3[3]=department_array.initial_discretionary_hour_array[2];
01415         initialv4[0]=department_array.initial_discretionary_hour_array[3];
01416         initialv4[1]=department_array.initial_discretionary_hour_array[4];
01417         initialv4[2]=department_array.initial_discretionary_hour_array[5];
01418         initialv4[3]=department_array.initial_discretionary_hour_array[6];
01419         initialv4[4]=department_array.initial_time_shifted_scholarship;
01420 <span class="preprocessor">#endif</span>
01421 <span class="preprocessor"></span>    }
01422 
01423     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++) {
01424         v1[i]=dataArray1[i][HISTORY_TRIMESTER_COUNT-1];
01425         v2[i]=dataArray1[i+3][HISTORY_TRIMESTER_COUNT-1];
01426     }
01427     <span class="keywordflow">for</span>(i=0;i&lt;4;i++) {
01428         v3[i]=dataArray3[i][HISTORY_TRIMESTER_COUNT-1];
01429         v4[i]=dataArray3[i+4][HISTORY_TRIMESTER_COUNT-1];
01430     }
01431 
01432     v5=dataArray2[0][HISTORY_MONTH_COUNT-1];
01433     <span class="comment">// ##### Begin Marco #### //</span>
01434 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01435 <span class="preprocessor"></span>    <span class="comment">// initialv5 already set to department or department_array.initial_p_faculty_morale</span>
01436 
01437     <span class="comment">// round the value to 1 dec. place and then calculate the total</span>
01438     <span class="keywordflow">for</span> (i =0; i &lt;4; i++) {
01439         v3[i]=m.round_one_dec(v3[i]);
01440         v4[i]=m.round_one_dec(v4[i]);
01441         initialv3[i]=m.round_one_dec(initialv3[i]);
01442         initialv4[i]=m.round_one_dec(initialv4[i]);
01443     }
01444 
01445     v4[3] = 0;
01446     initialv4[3] = 0;
01447 
01448     <span class="keywordflow">for</span> (i =0; i &lt;3; i++) {
01449         v4[3]+=v4[i]+v3[i];
01450         initialv4[3]+=initialv4[i]+initialv3[i];
01451     }
01452     v4[3]+=v3[3];
01453     initialv4[3]+=initialv3[3];
01454 
01455     v4[3]+=v4[4];
01456     initialv4[3]+=initialv4[4];
01457 <span class="preprocessor">#endif</span>
01458 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco #### //</span>
01459 
01460     <span class="comment">//------ paint the background -------//</span>
01461     vga.use_back();
01462     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
01463         <span class="comment">// deinit it first if it has already been initialized</span>
01464         <span class="keywordflow">if</span>( report_init_flag )
01465             <a class="code" href="classFacultyRes.html#a17">summary_report_deinit</a>();
01466         report_init_flag = 1;
01467 
01468         user_interface.bg_img(<a class="code" href="Ofac__sum_8cpp.html#a102a58">BG_PIC_ID</a>, &amp;vga_back);
01469         user_interface.brighten(tab1,vtab2,tab9,vtab3+3);
01470         <span class="comment">//              user_interface.brighten(tab1,vtab4,tab9,vtab5);</span>
01471         user_interface.rect(tab1,vtab2,tab8,vtab3+3,1);
01472         user_interface.rect(tab8-3,vtab2,tab9-1,vtab3+3,1);
01473 
01474         user_interface.brighten(tab11-5,vtab4-1,tab11+345,vtab4+58);
01475         user_interface.brighten(tab14,vtab4-1,tab14+358,vtab4+58);
01476         user_interface.brighten(tab11-5,vtab4+60,tab11+345,vtab4+118);
01477         user_interface.brighten(tab14,vtab4+60,tab14+358,vtab4+118);
01478         user_interface.brighten(tab11-5,vtab4+120,tab11+345,vtab4+178);
01479         user_interface.brighten(tab14,vtab4+120,tab14+358,vtab4+178);
01480         user_interface.brighten(tab11-5,vtab4+180,tab11+345,vtab4+234);
01481         user_interface.brighten(tab14,vtab4+180,tab14+358,vtab4+234);
01482 
01483         user_interface.rect(tab11-5,vtab4-1,tab11+346,vtab4+59,1);
01484         user_interface.rect(tab14,vtab4-1,tab14+359,vtab4+59,1);
01485         user_interface.rect(tab11-5,vtab4+60,tab11+346,vtab4+119,1);
01486         user_interface.rect(tab14,vtab4+60,tab14+359,vtab4+119,1);
01487         user_interface.rect(tab11-5,vtab4+120,tab11+346,vtab4+179,1);
01488         user_interface.rect(tab14,vtab4+120,tab14+359,vtab4+179,1);
01489         user_interface.rect(tab11-5,vtab4+180,tab11+346,vtab4+235,1);
01490         user_interface.rect(tab14,vtab4+180,tab14+359,vtab4+235,1);
01491 
01492         <span class="comment">//              user_interface.rect(tab1,vtab4,tab14,vtab5);</span>
01493         <span class="comment">//              user_interface.rect(tab14,vtab4,tab9,vtab5);</span>
01494         <span class="comment">//              user_interface.rect(tab1,vtab4+60,tab9,vtab4+120);</span>
01495         <span class="comment">//              user_interface.rect(tab1,vtab4+120,tab9,vtab4+180);</span>
01496 
01497         user_interface.brighten(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+8);
01498         user_interface.rect(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+8,1);
01499         font_charts.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+300,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-8,<span class="stringliteral">"Faculty Activities"</span>);
01500 
01501         <span class="keywordtype">short</span> x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
01502         <span class="keywordtype">short</span> y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>;
01503 
01504         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+2,<span class="stringliteral">"    Department :"</span>);
01505         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+30,<span class="stringliteral">"      Institution :"</span>);
01506 
01507 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01508 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 7; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
01509 <span class="preprocessor">#else</span>
01510 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 6; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
01511 <span class="preprocessor">#endif</span>
01512 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
01513         x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
01514         y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>+28;
01515 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01516 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 7; i &lt; 14; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
01517 <span class="preprocessor">#else</span>
01518 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 6; i &lt; 12; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
01519 <span class="preprocessor">#endif</span>
01520 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
01521 
01522         <span class="comment">//----------Print labels ----------//</span>
01523         font_chartsm.put(tab1+20,vtab2+15,<span class="stringliteral">"Talent"</span>);
01524         font_chartsm.put(tab1+20,vtab2+45,<span class="stringliteral">"Performance"</span>);
01525         font_chartsm.put(tab2,vtab1,<span class="stringliteral">"   Teaching"</span>);
01526         font_chartsm.put(tab4,vtab1,<span class="stringliteral">"Scholarship"</span>);
01527         font_chartsm.put(tab6,vtab1,<span class="stringliteral">"   Research"</span>);
01528         font_chartsm.put(tab8,vtab2+10,<span class="stringliteral">"  Faculty morale"</span>);
01529 
01530 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01531 <span class="preprocessor"></span>        <span class="comment">// font_chartsm.put(tab11+10,vtab4+10,"Normal teaching load");</span>
01532         <span class="comment">// display actual teaching load</span>
01533         font_chartsm.put(tab11+10,vtab4+10,<span class="stringliteral">"Actual teaching load"</span>);
01534 <span class="preprocessor">#endif</span>
01535 <span class="preprocessor"></span>        font_chartsm.put(tab11+10,vtab4+70,<span class="stringliteral">"Course preparation"</span>);
01536         <span class="comment">// ##### Begin Marco ##### //</span>
01537 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01538 <span class="preprocessor"></span>        font_chartsm.put(tab11+10,vtab4+130,<span class="stringliteral">"Out-of-class student"</span>);
01539         font_chartsm.put(tab11+10,vtab4+146,<span class="stringliteral">"contact"</span>);
01540         font_chartsm.put(tab11+10,vtab4+190,<span class="stringliteral">"Educational"</span>);
01541         font_chartsm.put(tab11+10,vtab4+206, <span class="stringliteral">"development"</span>);
01542 <span class="preprocessor">#else</span>
01543 <span class="preprocessor"></span>        font_chartsm.put(tab11+10,vtab4+130,<span class="stringliteral">"Out-of-class student contact"</span>);
01544         font_chartsm.put(tab11+10,vtab4+190,<span class="stringliteral">"Educational development"</span>);
01545 <span class="preprocessor">#endif</span>
01546 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01547 
01548         font_chartsm.put(tab14+20,vtab4+10,<span class="stringliteral">"Research"</span>);
01549         font_chartsm.put(tab14+20,vtab4+70,<span class="stringliteral">"Scholarship"</span>);
01550         <span class="comment">// ##### Begin Marco ##### //</span>
01551 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01552 <span class="preprocessor"></span>        font_chartsm.put(tab14+20,vtab4+130,<span class="stringliteral">"Institutional and"</span>);
01553         font_chartsm.put(tab14+20,vtab4+146, <span class="stringliteral">"public service"</span>);
01554 <span class="preprocessor">#else</span>
01555 <span class="preprocessor"></span>        font_chartsm.put(tab14+20,vtab4+130,<span class="stringliteral">"Institutional and public service"</span>);
01556 <span class="preprocessor">#endif</span>
01557 <span class="preprocessor"></span>
01558 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01559 <span class="preprocessor"></span>        font_chartsm.put(tab14+20,vtab4+190, <span class="stringliteral">"Technology development time shifted"</span>);
01560         font_chartsm.put(tab14+20,vtab4+206, <span class="stringliteral">"from scholarship"</span>);
01561 <span class="preprocessor">#endif</span>
01562 <span class="preprocessor"></span>
01563 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01564 <span class="preprocessor"></span>        font_chartsm.put(tab14+20,vtab4+220,<span class="stringliteral">"Total"</span>);
01565 <span class="preprocessor">#else</span>
01566 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01567         font_chartsm.put(tab14+20,vtab4+190,<span class="stringliteral">"Total"</span>);
01568 <span class="preprocessor">#endif</span>
01569 <span class="preprocessor"></span>
01570         <span class="keywordtype">int</span> tab11=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+5;
01571 
01572         <span class="comment">//---------- data text -----------//            (upper block percentage)</span>
01573         <span class="comment">// ##### Begin Marco ##### //</span>
01574 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01575 <span class="preprocessor"></span>        <span class="comment">// upper block current</span>
01576         font_chartsm.put(tab2-30,vtab2+15,m.format(v1[0],3));
01577         font_chartsm.put(tab4-30,vtab2+15,m.format(v1[1],3));
01578         font_chartsm.put(tab6-30,vtab2+15,m.format(v1[2],3));
01579         font_chartsm.put(tab2-30,vtab2+45,m.format(v2[0],3));
01580         font_chartsm.put(tab4-30,vtab2+45,m.format(v2[1],3));
01581         font_chartsm.put(tab6-30,vtab2+45,m.format(v2[2],3));
01582         font_chartsm.put(tab9-70,vtab2+10,m.format(v5,3));
01583 
01584         <span class="comment">// upper block initial</span>
01585         font_chart_purple_sm.put(tab2+5, vtab2+15, m.format(initialv1[0],3));
01586         font_chart_purple_sm.put(tab4+5, vtab2+15, m.format(initialv1[1],3));
01587         font_chart_purple_sm.put(tab6+5, vtab2+15, m.format(initialv1[2],3));
01588         font_chart_purple_sm.put(tab2+5, vtab2+45, m.format(initialv2[0],3));
01589         font_chart_purple_sm.put(tab4+5, vtab2+45, m.format(initialv2[1],3));
01590         font_chart_purple_sm.put(tab6+5, vtab2+45, m.format(initialv2[2],3));
01591         font_chart_purple_sm.put(tab9-40, vtab2+10, m.format(initialv5,3));
01592 
01593         <span class="comment">//      lower block left current</span>
01594         font_chartsm.put(tab12-70, vtab4+10, m.format(v3[0],26));
01595         font_chartsm.put(tab12-70, vtab4+70, m.format(v3[1],26));
01596         font_chartsm.put(tab12-70, vtab4+130, m.format(v3[2],26));
01597         font_chartsm.put(tab12-70, vtab4+190, m.format(v3[3],26));
01598 
01599         <span class="comment">// lower lock left initial</span>
01600         font_chart_purple_sm.put(tab12-40,vtab4+10,m.format(initialv3[0],13));
01601         font_chart_purple_sm.put(tab12-40,vtab4+70,m.format(initialv3[1],13));
01602         font_chart_purple_sm.put(tab12-40,vtab4+130,m.format(initialv3[2],13));
01603         font_chart_purple_sm.put(tab12-40,vtab4+190,m.format(initialv3[3],13));
01604 
01605         <span class="comment">// "hrs/week"</span>
01606         font_chartsm.put(tab12, vtab4+10, <span class="stringliteral">"hrs/week"</span>);
01607         font_chartsm.put(tab12, vtab4+70, <span class="stringliteral">"hrs/week"</span>);
01608         font_chartsm.put(tab12, vtab4+130, <span class="stringliteral">"hrs/week"</span>);
01609         font_chartsm.put(tab12, vtab4+190, <span class="stringliteral">"hrs/week"</span>);
01610 
01611         <span class="comment">// lower block right current</span>
01612         font_chartsm.put(tab15-95, vtab4+10, m.format(v4[0],26));
01613         font_chartsm.put(tab15-95, vtab4+70, m.format(v4[1],26));
01614         font_chartsm.put(tab15-95, vtab4+130, m.format(v4[2],26));
01615         font_chartsm.put(tab15-95, vtab4+220, m.format(v4[3],26));
01616         font_chartsm.put(tab15-95, vtab4+206, m.format(v4[4],26));
01617 
01618         <span class="comment">// lower block right initial</span>
01619         font_chart_purple_sm.put(tab15-50,vtab4+10,m.format(initialv4[0],13));
01620         font_chart_purple_sm.put(tab15-50,vtab4+70,m.format(initialv4[1],13));
01621         font_chart_purple_sm.put(tab15-50,vtab4+130,m.format(initialv4[2],13));
01622         font_chart_purple_sm.put(tab15-50,vtab4+220,m.format(initialv4[3],13));
01623         font_chart_purple_sm.put(tab15-50,vtab4+206,m.format(initialv4[4],13));
01624 
01625         font_chartsm.put(tab15-10, vtab4+10, <span class="stringliteral">"hrs/week"</span>);
01626         font_chartsm.put(tab15-10, vtab4+70, <span class="stringliteral">"hrs/week"</span>);
01627         font_chartsm.put(tab15-10, vtab4+130, <span class="stringliteral">"hrs/week"</span>);
01628         font_chartsm.put(tab15-10, vtab4+206, <span class="stringliteral">"hrs/week"</span>);
01629         font_chartsm.put(tab15-10, vtab4+220, <span class="stringliteral">"hrs/week"</span>);
01630 <span class="preprocessor">#else</span>
01631 <span class="preprocessor"></span>        mode_fac_sum_data1[0].<a class="code" href="classText.html#a11">put</a>(tab2,vtab2+15,&amp;(v1[0]),3);
01632         mode_fac_sum_data1[1].<a class="code" href="classText.html#a11">put</a>(tab4,vtab2+15,&amp;(v1[1]),3);
01633         mode_fac_sum_data1[2].<a class="code" href="classText.html#a11">put</a>(tab6,vtab2+15,&amp;(v1[2]),3);
01634         mode_fac_sum_data1[3].<a class="code" href="classText.html#a11">put</a>(tab2,vtab2+45,&amp;(v2[0]),3);
01635         mode_fac_sum_data1[4].<a class="code" href="classText.html#a11">put</a>(tab4,vtab2+45,&amp;(v2[1]),3);
01636         mode_fac_sum_data1[5].<a class="code" href="classText.html#a11">put</a>(tab6,vtab2+45,&amp;(v2[2]),3);
01637         mode_fac_sum_data1[6].<a class="code" href="classText.html#a11">put</a>(tab9-40,vtab2+10,&amp;v5,3);
01638 
01639         <span class="comment">/*</span>
01640 <span class="comment">          mode_fac_sum_data1[7].put(tab12-25,vtab4+10,&amp;(v3[0]),15);</span>
01641 <span class="comment">          mode_fac_sum_data1[8].put(tab12-25,vtab4+70,&amp;(v3[1]),15);</span>
01642 <span class="comment">          mode_fac_sum_data1[9].put(tab12-25,vtab4+130,&amp;(v3[2]),15);</span>
01643 <span class="comment">          mode_fac_sum_data1[10].put(tab12-25,vtab4+190,&amp;(v3[3]),15);</span>
01644 <span class="comment"></span>
01645 <span class="comment">          mode_fac_sum_data1[11].put(tab15-31,vtab4+10,&amp;(v4[0]),15);</span>
01646 <span class="comment">          mode_fac_sum_data1[12].put(tab15-31,vtab4+70,&amp;(v4[1]),15);</span>
01647 <span class="comment">          mode_fac_sum_data1[13].put(tab15-31,vtab4+130,&amp;(v4[2]),15);</span>
01648 <span class="comment">          mode_fac_sum_data1[14].put(tab15-31,vtab4+190,&amp;(v4[3]),15);</span>
01649 <span class="comment">        */</span>
01650 
01651         <span class="comment">//## chea 180999 change it to int only to make more sen.</span>
01652         mode_fac_sum_data1[7].<a class="code" href="classText.html#a11">put</a>(tab12-25,vtab4+10,&amp;(v3[0]),15);
01653         mode_fac_sum_data1[8].<a class="code" href="classText.html#a11">put</a>(tab12-25,vtab4+70,&amp;(v3[1]),15);
01654         mode_fac_sum_data1[9].<a class="code" href="classText.html#a11">put</a>(tab12-25,vtab4+130,&amp;(v3[2]),15);
01655         mode_fac_sum_data1[10].<a class="code" href="classText.html#a11">put</a>(tab12-25,vtab4+190,&amp;(v3[3]),15);
01656 
01657         mode_fac_sum_data1[11].<a class="code" href="classText.html#a11">put</a>(tab15-31,vtab4+10,&amp;(v4[0]),15);
01658         mode_fac_sum_data1[12].<a class="code" href="classText.html#a11">put</a>(tab15-31,vtab4+70,&amp;(v4[1]),15);
01659         mode_fac_sum_data1[13].<a class="code" href="classText.html#a11">put</a>(tab15-31,vtab4+130,&amp;(v4[2]),15);
01660         mode_fac_sum_data1[14].<a class="code" href="classText.html#a11">put</a>(tab15-31,vtab4+190,&amp;(v4[3]),15);
01661 <span class="preprocessor">#endif</span>
01662 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01663 
01664         <span class="comment">//---------- Graph Icon -----------//</span>
01665         mode_fac_sum_graphicon_t[0].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(
01666             tab3,vtab2+5,tab3+50,vtab2+35,
01667             1 ,&amp;data_num1 ,dataArray1[0] , 1, 0, 3);
01668         mode_fac_sum_graphicon_t[1].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(
01669             tab5,vtab2+5,tab5+50,vtab2+35,
01670             1 ,&amp;data_num1 ,dataArray1[1] , 1, 0, 3);
01671         mode_fac_sum_graphicon_t[2].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(
01672             tab7,vtab2+5,tab7+50,vtab2+35,
01673             1 ,&amp;data_num1 ,dataArray1[2] , 1, 0, 3);
01674 
01675         mode_fac_sum_graphicon_t[3].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(
01676             tab3,vtab2+40,tab3+50,vtab2+70,
01677             1 ,&amp;data_num1 ,dataArray1[3] , 1, 0, 3);
01678         mode_fac_sum_graphicon_t[4].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(
01679             tab5,vtab2+40,tab5+50,vtab2+70,
01680             1 ,&amp;data_num1 ,dataArray1[4] , 1, 0, 3);
01681         mode_fac_sum_graphicon_t[5].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(
01682             tab7,vtab2+40,tab7+50,vtab2+70,
01683             1 ,&amp;data_num1 ,dataArray1[5] , 1, 0, 3);
01684 
01685         mode_fac_sum_graphicon_m[0].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a2">init</a>(
01686             tab8+30,vtab3-45,tab9-30,vtab3-5,
01687             1 ,&amp;data_num2,dataArray2[0] , 1, 0, 3);
01688 
01689         <span class="keywordtype">double</span> maxUpperBound=10.0;
01690         <span class="keywordflow">for</span>(i=0;i&lt;7;i++)
01691             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;HISTORY_TRIMESTER_COUNT;j++) {
01692                 <span class="keywordflow">if</span>(dataArray3[i][j]&gt;maxUpperBound)
01693                     maxUpperBound=dataArray3[i][j];
01694             }
01695         mode_fac_sum_graphicon_t[7].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(
01696             tab13+10,vtab4+10,tab14-10,vtab4+50,
01697             1 ,&amp;data_num1 ,dataArray3[0],
01698             1, 0, 3, maxUpperBound);
01699         mode_fac_sum_graphicon_t[8].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(tab13+10,vtab4+70,tab14-10,vtab4+110,
01700                                          1 ,&amp;data_num1 ,dataArray3[1] ,
01701                                          1, 0, 3, maxUpperBound);
01702         mode_fac_sum_graphicon_t[9].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(tab13+10,vtab4+130,tab14-10,vtab4+170,
01703                                          1 ,&amp;data_num1 ,dataArray3[2] ,
01704                                          1, 0, 3, maxUpperBound);
01705         mode_fac_sum_graphicon_t[10].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(tab13+10,vtab4+190,tab14-10,vtab4+230,
01706                                           1 ,&amp;data_num1 ,dataArray3[3] ,
01707                                           1, 0, 3, maxUpperBound);
01708         mode_fac_sum_graphicon_t[11].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(tab16+10,vtab4+10,tab17-10,vtab4+50,
01709                                           1 ,&amp;data_num1 ,dataArray3[4] ,
01710                                           1, 0, 3, maxUpperBound);
01711         mode_fac_sum_graphicon_t[12].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(tab16+10,vtab4+70,tab17-10,vtab4+110,
01712                                           1 ,&amp;data_num1 ,dataArray3[5] ,
01713                                           1, 0, 3, maxUpperBound);
01714         mode_fac_sum_graphicon_t[13].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(tab16+10,vtab4+130,tab17-10,vtab4+170,
01715                                           1 ,&amp;data_num1 ,dataArray3[6] ,
01716                                           1, 0, 3, maxUpperBound);
01717         mode_fac_sum_graphicon_t[14].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a2">init</a>(tab16+10,vtab4+190,tab17-10,vtab4+230,
01718                                           1 ,&amp;data_num1 ,dataArray3[7] , 1, 0, 3);
01719 
01720         type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classFacultyRes.html#m9">current_report_type</a>);
01721 
01722         <span class="keywordflow">for</span>(i=0;i&lt;6;i++)
01723             mode_fac_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a8">paint</a>();
01724         <span class="keywordflow">for</span>(i=7;i&lt;15;i++)
01725             mode_fac_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a8">paint</a>();
01726         mode_fac_sum_graphicon_m[0].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a8">paint</a>();
01727 
01728         <span class="comment">//----------------------------------------//</span>
01729 
01730         <span class="comment">//------------- Priority Setting --------------------//</span>
01731         <span class="keywordflow">if</span>(current_report_mode == <a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>) {
01732             <span class="comment">// ##### Begin Marco ##### //</span>
01733 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01734 <span class="preprocessor"></span>            font_chart_blue_sm.put_paragraph(tab11+40,vtab4+27,tab11+150,vtab4+61,<span class="stringliteral">"Pressure to change teaching load"</span>,-1);
01735             font_chart_blue_sm.put_paragraph(tab11+95,vtab4+95,tab11+150,vtab4+125,<span class="stringliteral">"Priority"</span>);
01736             font_chart_blue_sm.put_paragraph(tab11+95,vtab4+155,tab11+150,vtab4+185,<span class="stringliteral">"Priority"</span>);
01737             font_chart_blue_sm.put_paragraph(tab11+95,vtab4+215,tab11+150,vtab4+245,<span class="stringliteral">"Priority"</span>);
01738             font_chart_blue_sm.put_paragraph(tab14+100,vtab4+35,tab14+150,vtab4+65,<span class="stringliteral">"Priority"</span>);
01739             font_chart_blue_sm.put_paragraph(tab14+100,vtab4+95,tab14+150,vtab4+125,<span class="stringliteral">"Priority"</span>);
01740             font_chart_blue_sm.put_paragraph(tab14+100,vtab4+155,tab14+150,vtab4+185 ,<span class="stringliteral">"Priority"</span>);
01741 <span class="preprocessor">#else</span>
01742 <span class="preprocessor"></span>            font_chart_blue_sm.put_paragraph(tab11+10,vtab4+27,tab11+150,vtab4+61,<span class="stringliteral">"Pressure to change teaching load"</span>,-1);
01743             font_chart_blue_sm.put_paragraph(tab11+55,vtab4+95,tab11+150,vtab4+125,<span class="stringliteral">"Priority"</span>);
01744             font_chart_blue_sm.put_paragraph(tab11+55,vtab4+155,tab11+150,vtab4+185,<span class="stringliteral">"Priority"</span>);
01745             font_chart_blue_sm.put_paragraph(tab11+55,vtab4+215,tab11+150,vtab4+245,<span class="stringliteral">"Priority"</span>);
01746             font_chart_blue_sm.put_paragraph(tab14+60,vtab4+35,tab14+150,vtab4+65,<span class="stringliteral">"Priority"</span>);
01747             font_chart_blue_sm.put_paragraph(tab14+60,vtab4+95,tab14+150,vtab4+125,<span class="stringliteral">"Priority"</span>);
01748             font_chart_blue_sm.put_paragraph(tab14+60,vtab4+155,tab14+150,vtab4+185,<span class="stringliteral">"Priority"</span>);
01749 <span class="preprocessor">#endif</span>
01750 <span class="preprocessor"></span>            <span class="comment">// ##### End Marco ##### //</span>
01751 
01752             mode_fac_sum_valueslider[0].<a class="code" href="classValueSlider.html#a2">init</a>(
01753                 tab11+150,
01754                 vtab4+32,
01755                 100,18,-5,5,&amp;(v7[0]),1,<a class="code" href="COLOR_8H.html#a25">V_YELLOW</a>,4);
01756             <span class="keywordflow">for</span>(i=1;i&lt;4;i++)
01757                 mode_fac_sum_valueslider[i].<a class="code" href="classValueSlider.html#a2">init</a>(
01758                     tab11+150,
01759                     vtab4+32+60*i,
01760                     100,18,0,10,&amp;(v7[i]),1,<a class="code" href="COLOR_8H.html#a25">V_YELLOW</a>,4);
01761             <span class="keywordflow">for</span>(i=0;i&lt;3;i++)
01762                 mode_fac_sum_valueslider[i+4].<a class="code" href="classValueSlider.html#a2">init</a>(
01763                     tab14+150,
01764                     vtab4+32+60*i,
01765                     100,18,0,10,&amp;(v7[4+i]),1,<a class="code" href="COLOR_8H.html#a25">V_YELLOW</a>,4);
01766         }
01767     }
01768 
01769     <span class="keywordflow">for</span>(i=0;i&lt;15;i++)
01770         mode_fac_sum_data1[i].<a class="code" href="classText.html#a25">refresh</a>();
01771     <span class="keywordflow">for</span>(i=0;i&lt;6;i++)
01772         mode_fac_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a9">refresh</a>();
01773     <span class="keywordflow">for</span>(i=7;i&lt;15;i++)
01774         mode_fac_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a9">refresh</a>();
01775     mode_fac_sum_graphicon_m[0].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a9">refresh</a>();
01776 
01777     <span class="keywordflow">if</span>(current_report_mode == <a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>) {
01778         <span class="keywordflow">for</span>(i=0;i&lt;7;i++)
01779             mode_fac_sum_valueslider[i].<a class="code" href="classValueSlider.html#a7">refresh</a>();
01780     }
01781     type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classFacultyRes.html#m9">current_report_type</a>);
01782 
01783     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
01784 }
01785 
01786 <span class="comment">//----- End of Summary Report 3 ------//</span>
01787 
01788 <span class="comment">//----- Begin of Summary Report 4 ------// (research)</span>
<a name="l01789"></a><a class="code" href="classFacultyRes.html#a11">01789</a> <span class="keywordtype">void</span> <a class="code" href="classFacultyRes.html#a11">FacultyRes::summary_report_4</a>(<span class="keywordtype">int</span> refreshFlag) {
01790     <span class="keywordtype">int</span> tab1=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>;
01791 
01792     <span class="comment">// ##### Begin Marco ##### //</span>
01793 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01794 <span class="preprocessor"></span>    <span class="keywordtype">int</span> tab2=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+250;
01795     <span class="keywordtype">int</span> tab3=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+475;
01796 <span class="preprocessor">#else</span>
01797 <span class="preprocessor"></span>    <span class="keywordtype">int</span> tab2=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+300;
01798     <span class="keywordtype">int</span> tab3=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+525;
01799 <span class="preprocessor">#endif</span>
01800 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
01801     <span class="keywordtype">int</span> tab4=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+530;
01802     <span class="keywordtype">int</span> tab5=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+600;
01803     <span class="keywordtype">int</span> tab6=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+700;
01804     <span class="keywordtype">int</span> vtab1=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+15;
01805     <span class="keywordtype">int</span> vtab2=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+135;
01806     <span class="keywordtype">int</span> vtab3=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+140;
01807     <span class="keywordtype">int</span> vtab4=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+235;
01808     <span class="keywordtype">int</span> vtab5=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+240;
01809     <span class="keywordtype">int</span> vtab6=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+335;
01810     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num1=HISTORY_MONTH_COUNT/4;
01811     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num2=HISTORY_YEAR_COUNT;
01812     <span class="keyword">static</span> <span class="keywordtype">int</span> data_num3=HISTORY_MONTH_COUNT;
01813     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray1[<a class="code" href="Odept_8h.html#a19a16">RESEARCH_STATUS_COUNT</a>*HISTORY_MONTH_COUNT];
01814     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray2[<a class="code" href="Odept_8h.html#a19a16">RESEARCH_STATUS_COUNT</a>*HISTORY_YEAR_COUNT];
01815     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray3[2*HISTORY_MONTH_COUNT];
01816     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray4[HISTORY_MONTH_COUNT];
01817     <span class="keyword">static</span> <span class="keywordtype">double</span> v1=11,v2=22,v3=33;
01818     <span class="keywordtype">int</span> i;
01819 
01820     <span class="comment">// ##### begin MArco ##### //</span>
01821 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01822 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">double</span> initialv1=11,initialv2=22,initialv3=33;
01823 <span class="preprocessor">#endif</span>
01824 <span class="preprocessor"></span>    <span class="comment">// ##### End MArco ###### //</span>
01825 
01826     <span class="keywordflow">if</span>(current_report_mode == <a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>) {
01827         <span class="keywordtype">int</span> deptRecno = department_array.selected_recno;
01828         <a class="code" href="classDepartment.html">Department</a>* cur_dept_ptr = department_array[deptRecno];
01829 
01830         <span class="keywordflow">if</span>(current_graph_mode==<a class="code" href="Ofac__sum_8cpp.html#a110a95">MONTHLY</a>) {
01831             <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_MONTH_COUNT;i++) {
01832                 dataArray1[i]=(int)(cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m66">research_m_history</a>[0][i]);
01833                 dataArray1[HISTORY_MONTH_COUNT+i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m66">research_m_history</a>[1][i];
01834                 dataArray1[2*HISTORY_MONTH_COUNT+i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m66">research_m_history</a>[2][i];
01835             }
01836         }
01837         <span class="keywordflow">else</span> {
01838             <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_YEAR_COUNT;i++) {
01839                 dataArray2[i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m67">research_y_history</a>[0][i];
01840                 dataArray2[HISTORY_YEAR_COUNT+i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m67">research_y_history</a>[1][i];
01841                 dataArray2[2*HISTORY_YEAR_COUNT+i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m67">research_y_history</a>[2][i];
01842             }
01843         }
01844 
01845         <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_MONTH_COUNT;i++) {
01846             dataArray3[i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m68">research_total_history</a>[i];
01847             dataArray3[HISTORY_MONTH_COUNT+i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m69">research_direct_history</a>[i];
01848             dataArray4[i]=cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m70">regular_faculty_with_research</a>[i];
01849         }
01850 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01851 <span class="preprocessor"></span>        initialv1=cur_dept_ptr-&gt;initial_research_total;
01852         initialv2=cur_dept_ptr-&gt;initial_research_direct;
01853         initialv3=cur_dept_ptr-&gt;initial_regular_faculty_with_research;
01854 <span class="preprocessor">#endif</span>
01855 <span class="preprocessor"></span>
01856     }
01857     <span class="keywordflow">else</span> {
01858         <span class="keywordflow">if</span>(current_graph_mode==<a class="code" href="Ofac__sum_8cpp.html#a110a95">MONTHLY</a>) {
01859             <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_MONTH_COUNT;i++) {
01860                 dataArray1[i]=department_array.<a class="code" href="classDepartment.html#m66">research_m_history</a>[0][i];
01861                 dataArray1[HISTORY_MONTH_COUNT+i]=department_array.research_m_history[1][i];
01862                 dataArray1[2*HISTORY_MONTH_COUNT+i]=department_array.research_m_history[2][i];
01863             }
01864         }
01865         <span class="keywordflow">else</span> {
01866             <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_YEAR_COUNT;i++) {
01867                 dataArray2[i]=department_array.research_y_history[0][i];
01868                 dataArray2[HISTORY_YEAR_COUNT+i]=department_array.research_y_history[1][i];
01869                 dataArray2[2*HISTORY_YEAR_COUNT+i]=department_array.research_y_history[2][i];
01870             }
01871         }
01872 
01873         <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_MONTH_COUNT;i++) {
01874             dataArray3[i]=department_array.research_total_history[i];
01875             dataArray3[HISTORY_MONTH_COUNT+i]=department_array.research_direct_history[i];
01876             dataArray4[i]=department_array.regular_faculty_with_research[i];
01877         }
01878 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01879 <span class="preprocessor"></span>        initialv1=department_array.initial_research_total;
01880         initialv2=department_array.initial_research_direct;
01881         initialv3=department_array.initial_regular_faculty_with_research;
01882 <span class="preprocessor">#endif</span>
01883 <span class="preprocessor"></span>    }
01884     v1=dataArray3[HISTORY_MONTH_COUNT-1];
01885     v2=dataArray3[2*HISTORY_MONTH_COUNT-1];
01886     v3=dataArray4[HISTORY_MONTH_COUNT-1];
01887 
01888     <span class="comment">//------ paint the background -------//</span>
01889     vga.use_back();
01890     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
01891 
01892         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
01893             <a class="code" href="classFacultyRes.html#a17">summary_report_deinit</a>();
01894 
01895         user_interface.bg_img(<a class="code" href="Ofac__sum_8cpp.html#a102a58">BG_PIC_ID</a>, &amp;vga_back);
01896 
01897         user_interface.brighten(tab1,vtab1,tab6,vtab2);
01898         user_interface.brighten(tab1,vtab3,tab3,vtab4);
01899         user_interface.brighten(tab1,vtab5,tab3,vtab6);
01900         <span class="comment">// ##### Begin Marco ##### //</span>
01901 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01902 <span class="preprocessor"></span>        user_interface.brighten(tab3,vtab3,tab6,vtab4);
01903         user_interface.brighten(tab3,vtab5,tab6,vtab6);
01904 <span class="preprocessor">#else</span>
01905 <span class="preprocessor"></span>        user_interface.brighten(tab4,vtab3,tab6,vtab6);
01906 <span class="preprocessor">#endif</span>
01907 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01908 
01909         user_interface.rect(tab5-2,vtab1,tab6,vtab2,1);
01910 
01911         user_interface.rect(tab2-1,vtab3,tab3,vtab4,1);
01912         user_interface.rect(tab2-1,vtab5,tab3,vtab6,1);
01913 
01914         <span class="comment">// ##### Begin Marco ##### //</span>
01915 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01916 <span class="preprocessor"></span>        user_interface.rect(tab3,vtab3,tab6,vtab4,1);
01917         user_interface.rect(tab3,vtab5,tab6,vtab6,1);
01918 <span class="preprocessor">#else</span>
01919 <span class="preprocessor"></span>        user_interface.rect(tab4,vtab3,tab6,vtab6,1);
01920 <span class="preprocessor">#endif</span>
01921 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01922 
01923         user_interface.brighten(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+8);
01924         user_interface.rect(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+8,1);
01925 
01926         font_charts.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+300,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-8,<span class="stringliteral">"Sponsored Research"</span>);
01927 
01928         <span class="keywordflow">if</span>(current_graph_mode==<a class="code" href="Ofac__sum_8cpp.html#a110a95">MONTHLY</a>) {
01929             mode_fac_sum_doublebar_m.<a class="code" href="classGraphDoubleBarMonth.html#a2">init</a>(tab1,vtab1,tab5,vtab2,
01930                                           3, &amp;data_num1, dataArray1, 1,
01931                                           <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 2);
01932             mode_fac_sum_doublebar_m.<a class="code" href="classGraphDoubleBarMonth.html#a8">paint</a>();
01933         }
01934         <span class="keywordflow">else</span> {
01935             mode_fac_sum_doublebar_y.<a class="code" href="classGraphDoubleBarYear.html#a2">init</a>(tab1,vtab1,tab5,vtab2,
01936                                           3, &amp;data_num2, dataArray2, 1,
01937                                           <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 2);
01938             mode_fac_sum_doublebar_y.<a class="code" href="classGraphDoubleBarYear.html#a8">paint</a>();
01939         }
01940 
01941         mode_fac_sum_graphmonth1.<a class="code" href="classGraphMonth.html#a2">init</a>(tab1,vtab3,tab2,vtab4,
01942                                       2, &amp;data_num3, dataArray3, 1,
01943                                       <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 2);
01944         mode_fac_sum_graphmonth2.<a class="code" href="classGraphMonth.html#a2">init</a>(tab1,vtab5,tab2,vtab6,
01945                                       1, &amp;data_num3, dataArray4, 1,
01946                                       <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 3);
01947         mode_fac_sum_graphmonth1.<a class="code" href="classGraphMonth.html#a8">paint</a>();
01948         mode_fac_sum_graphmonth2.<a class="code" href="classGraphMonth.html#a8">paint</a>();
01949 
01950         <span class="comment">//-------- draw the legend --------------//</span>
01951         font_chartsm.put_paragraph(
01952             tab2+20,vtab3+5,tab3,vtab3+50,<span class="stringliteral">"Total sponsored research expenditures this month"</span>);
01953 
01954         font_chartsm.put_paragraph(
01955             tab2+20,vtab3+50,tab3,vtab4,<span class="stringliteral">"Total direct sponsored research expenditures this month"</span>);
01956 
01957         font_chartsm.put_paragraph(
01958             tab2+20,vtab5+35,tab3,vtab5+80,<span class="stringliteral">"Regular faculty with sponsored research"</span>);
01959 
01960         <span class="comment">// ##### Begin Marco ##### //</span>
01961 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01962 <span class="preprocessor"></span>        font_chart_purple_sm.put_paragraph(
01963             tab3+10,vtab3+5,tab6,vtab3+50,<span class="stringliteral">"Total sponsored research expenditures initially"</span>);
01964 
01965         font_chart_purple_sm.put_paragraph(
01966             tab3+10,vtab3+50,tab6,vtab4,<span class="stringliteral">"Total direct sponsored research expenditures initially"</span>);
01967 
01968         font_chart_purple_sm.put_paragraph(
01969             tab3+10,vtab5+35,tab6,vtab5+80,<span class="stringliteral">"Regular faculty with sponsored research initially"</span>);
01970 
01971         font_chart_purple_sm.put(tab3+172,vtab3+23,m.format(initialv1,2));
01972         font_chart_purple_sm.put(tab3+172,vtab3+68,m.format(initialv2,2));
01973         font_chart_purple_sm.put(tab3+172,vtab5+52,m.format(initialv3,3));
01974 <span class="preprocessor">#endif</span>
01975 <span class="preprocessor"></span>        <span class="comment">// ##### End Marco ##### //</span>
01976 
01977         <span class="comment">//data here</span>
01978         mode_fac_sum_data2[0].<a class="code" href="classText.html#a11">put</a>(tab2+162,vtab3+23,&amp;v1,2);
01979         mode_fac_sum_data2[1].<a class="code" href="classText.html#a11">put</a>(tab2+162,vtab3+68,&amp;v2,2);
01980         mode_fac_sum_data2[2].<a class="code" href="classText.html#a11">put</a>(tab2+162,vtab5+52,&amp;v3,3);
01981 
01982         <span class="keywordflow">if</span>(current_graph_mode==<a class="code" href="Ofac__sum_8cpp.html#a110a95">MONTHLY</a>) {
01983             vga_back.bar(
01984                 tab2+8,vtab5+40,tab2+15,vtab5+47,
01985                 (mode_fac_sum_doublebar_m.<a class="code" href="classGraphDoubleBarMonth.html#m17">series_color</a>)[0]);
01986             vga_back.bar(
01987                 tab2+8,vtab3+10,tab2+15,vtab3+17,
01988                 (mode_fac_sum_doublebar_m.<a class="code" href="classGraphDoubleBarMonth.html#m17">series_color</a>)[0]);
01989             vga_back.bar(
01990                 tab2+8,vtab3+55,tab2+15,vtab3+62,
01991                 (mode_fac_sum_doublebar_m.<a class="code" href="classGraphDoubleBarMonth.html#m17">series_color</a>)[1]);
01992 
01993         }
01994         <span class="keywordflow">else</span> {
01995             vga_back.bar(
01996                 tab2+8,vtab5+40,tab2+15,vtab5+47,
01997                 (mode_fac_sum_doublebar_y.<a class="code" href="classGraphDoubleBarYear.html#m17">series_color</a>)[0]);
01998             vga_back.bar(
01999                 tab2+8,vtab3+10,tab2+15,vtab3+17,
02000                 (mode_fac_sum_doublebar_y.<a class="code" href="classGraphDoubleBarYear.html#m17">series_color</a>)[0]);
02001             vga_back.bar(
02002                 tab2+8,vtab3+55,tab2+15,vtab3+62,
02003                 (mode_fac_sum_doublebar_y.<a class="code" href="classGraphDoubleBarYear.html#m17">series_color</a>)[1]);
02004         }
02005 
02006         font_chartsm.put_paragraph(
02007             tab5+18,vtab1+5,tab6,vtab1+50,<span class="stringliteral">"$ proposal outstanding"</span>,-2);
02008         font_chartsm.put(
02009             tab5+18,vtab1+40,<span class="stringliteral">"$ rejected"</span>);
02010         font_chartsm.put(
02011             tab5+18,vtab1+56,<span class="stringliteral">"$ accepted"</span>);
02012 
02013         <span class="keywordflow">if</span>(current_graph_mode==<a class="code" href="Ofac__sum_8cpp.html#a110a95">MONTHLY</a>) {
02014             vga_back.bar(
02015                 tab5+8,vtab1+9,tab5+15,vtab1+17,
02016                 (mode_fac_sum_doublebar_m.<a class="code" href="classGraphDoubleBarMonth.html#m17">series_color</a>)[0]);
02017             vga_back.bar(
02018                 tab5+8,vtab1+44,tab5+15,vtab1+52,
02019                 (mode_fac_sum_doublebar_m.<a class="code" href="classGraphDoubleBarMonth.html#m17">series_color</a>)[1]);
02020             vga_back.bar(
02021                 tab5+8,vtab1+60,tab5+15,vtab1+68,
02022                 (mode_fac_sum_doublebar_m.<a class="code" href="classGraphDoubleBarMonth.html#m17">series_color</a>)[2]);
02023         }
02024         <span class="keywordflow">else</span> {
02025             vga_back.bar(
02026                 tab5+8,vtab1+9,tab5+15,vtab1+17,
02027                 (mode_fac_sum_doublebar_y.<a class="code" href="classGraphDoubleBarYear.html#m17">series_color</a>)[0]);
02028             vga_back.bar(
02029                 tab5+8,vtab1+44,tab5+15,vtab1+52,
02030                 (mode_fac_sum_doublebar_y.<a class="code" href="classGraphDoubleBarYear.html#m17">series_color</a>)[1]);
02031             vga_back.bar(
02032                 tab5+8,vtab1+60,tab5+15,vtab1+68,
02033                 (mode_fac_sum_doublebar_y.<a class="code" href="classGraphDoubleBarYear.html#m17">series_color</a>)[2]);
02034         }
02035 
02036         mode_fac_sum_buttongroup[0].create_text(
02037             tab5+15,vtab1+74,tab5+90,vtab1+93,<span class="stringliteral">"monthly"</span>,1);
02038         mode_fac_sum_buttongroup[1].create_text(
02039             tab5+15,vtab1+96,tab5+90,vtab1+115,<span class="stringliteral">"annually"</span>,1);
02040 
02041         <span class="keywordtype">short</span> x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
02042         <span class="keywordtype">short</span> y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>;
02043 
02044         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+2,<span class="stringliteral">"    Department :"</span>);
02045         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+30,<span class="stringliteral">"      Institution :"</span>);
02046 
02047 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02048 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 7; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02049 <span class="preprocessor">#else</span>
02050 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 6; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02051 <span class="preprocessor">#endif</span>
02052 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
02053         x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
02054         y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>+28;
02055 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02056 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 7; i &lt; 14; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02057 <span class="preprocessor">#else</span>
02058 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 6; i &lt; 12; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02059 <span class="preprocessor">#endif</span>
02060 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
02061         type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classFacultyRes.html#m9">current_report_type</a>);
02062         mode_fac_sum_buttongroup.<a class="code" href="classButtonGroup.html#a3">paint</a>(current_graph_mode);
02063 
02064         report_init_flag = 1;
02065     }
02066     <span class="keywordflow">else</span> {
02067         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++)
02068             mode_fac_sum_data2[i].<a class="code" href="classText.html#a25">refresh</a>();
02069         <span class="keywordflow">if</span>(current_graph_mode==<a class="code" href="Ofac__sum_8cpp.html#a110a95">MONTHLY</a>)
02070             mode_fac_sum_doublebar_m.<a class="code" href="classGraphDoubleBarMonth.html#a9">refresh</a>();
02071         <span class="keywordflow">else</span>
02072             mode_fac_sum_doublebar_y.<a class="code" href="classGraphDoubleBarYear.html#a9">refresh</a>();
02073         mode_fac_sum_graphmonth1.<a class="code" href="classGraphMonth.html#a9">refresh</a>();
02074         mode_fac_sum_graphmonth2.<a class="code" href="classGraphMonth.html#a9">refresh</a>();
02075         type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classFacultyRes.html#m9">current_report_type</a>);
02076         mode_fac_sum_buttongroup.<a class="code" href="classButtonGroup.html#a3">paint</a>(current_graph_mode);
02077     }
02078 
02079     <span class="comment">//----------- paint the summary button group ---------//</span>
02080 
02081     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
02082     vga.use_front();
02083 }
02084 
02085 <span class="comment">//----- End of Summary Report 4 ------//</span>
02086 
02087 <span class="comment">//----- Begin of Summary Report 5 ------//</span>
<a name="l02088"></a><a class="code" href="classFacultyRes.html#a12">02088</a> <span class="keywordtype">void</span> <a class="code" href="classFacultyRes.html#a12">FacultyRes::summary_report_5</a>(<span class="keywordtype">int</span> refreshFlag) {
02089     <span class="keywordtype">int</span> tab1=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+242;
02090     <span class="keywordtype">int</span> vtab1=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+33;
02091 
02092     <a class="code" href="classFacultyRes.html#a5">report</a>(refreshFlag);
02093     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
02094         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
02095             <a class="code" href="classFacultyRes.html#a17">summary_report_deinit</a>();
02096         report_init_flag = 1;
02097         mode_fac_sum_button.<a class="code" href="classButton.html#a10">create_text</a>(  <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+260, <a class="code" href="Ofac__sum_8cpp.html#a97a49">REPORT_Y2</a>+10,
02098                                           <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+350, <a class="code" href="Ofac__sum_8cpp.html#a97a49">REPORT_Y2</a>+30,<span class="stringliteral">"Back"</span>,1);
02099     }
02100 
02101     <span class="comment">//  vga.use_back();</span>
02102     mode_fac_sum_button.<a class="code" href="classButton.html#a20">paint</a>();
02103     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
02104 }
02105 
02106 <span class="comment">//----- Begin of Summary Report 6 ------//</span>
<a name="l02107"></a><a class="code" href="classFacultyRes.html#a13">02107</a> <span class="keywordtype">void</span> <a class="code" href="classFacultyRes.html#a13">FacultyRes::summary_report_6</a>(<span class="keywordtype">int</span> refreshFlag) {
02108     <span class="keywordtype">int</span> tab1=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>-10;
02109     <span class="keywordtype">int</span> tab2=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>;
02110     <span class="keywordtype">int</span> tab3=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+135;
02111     <span class="keywordtype">int</span> tab4=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720;
02112     <span class="keywordtype">int</span> vtab1=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>;
02113     <span class="keywordtype">int</span> vtab2=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+250;
02114     <span class="keywordtype">int</span> vtab3=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+255;
02115     <span class="keywordtype">int</span> vtab4=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+320;
02116     <span class="keyword">static</span> <span class="keywordtype">int</span> v1,v2;
02117     <span class="keyword">static</span> <span class="keywordtype">int</span> v3,v4;
02118     <span class="keyword">static</span> <span class="keywordtype">int</span> v5,v6;
02119     <span class="keyword">static</span> <span class="keywordtype">int</span> v7,v8;
02120     <span class="keyword">static</span> <span class="keywordtype">int</span> v9,v10;
02121     <span class="keywordtype">int</span> deptRecno=1;
02122 
02123     <span class="keywordflow">if</span>(department_array.selected_recno)
02124         deptRecno = department_array.selected_recno;
02125     cur_dept_ptr = department_array[deptRecno];
02126 
02127     v1 = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m21">assistant_professor_priority</a>;
02128     v2 = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m22">tenured_faculty_priority</a>;
02129     v3 = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m20">cost_containment_priority</a>;
02130     v4 = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m23">longterm_adjunct_faculty_priority</a>;
02131     v5 = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m24">shortterm_adjunct_faculty_priority</a>;
02132     v6 = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m25">female_faculty_priority</a>;
02133     v7 = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m26">minority_faculty_priority</a>;
02134     v8 = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m17">teaching_talent_priority</a>;
02135     v9 = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m18">scholarship_talent_priority</a>;
02136     v10 = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m19">research_talent_priority</a>;
02137     <span class="comment">//------ paint the background -------//</span>
02138     vga.use_back();
02139     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
02140         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
02141             <a class="code" href="classFacultyRes.html#a17">summary_report_deinit</a>();
02142         report_init_flag = 1;
02143 
02144         user_interface.bg_img(<a class="code" href="Ofac__sum_8cpp.html#a102a58">BG_PIC_ID</a>, &amp;vga_back);
02145 
02146         user_interface.brighten(tab1,vtab1+12,tab4,vtab4);
02147         <span class="comment">//              user_interface.brighten(tab1,vtab3,tab4,vtab4);</span>
02148         user_interface.rect(tab1,vtab1+12,tab4,vtab4,1);
02149         <span class="comment">//              user_interface.rect(tab1,vtab3,tab4,vtab4);</span>
02150 
02151         <span class="comment">// top title</span>
02152         user_interface.brighten(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+130,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+600,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10);
02153         user_interface.rect(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+130,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+600,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10,1);
02154         font_charts.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+290,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-8,<span class="stringliteral">"Faculty Hiring Priorities"</span>);
02155 
02156         font_charts.put(tab2+135+25,vtab1+22,<span class="stringliteral">"Nil"</span>);
02157         font_charts.put(tab2+270+25,vtab1+22,<span class="stringliteral">"Medium"</span>);
02158         font_charts.put(tab2+425+25,vtab1+22,<span class="stringliteral">"High"</span>);
02159         font_charts.put(tab2+565+25,vtab1+22,<span class="stringliteral">"Top"</span>);
02160         font_chart_blue_sm.put(tab2,vtab1+22+25,<span class="stringliteral">"New blood"</span>);
02161         font_chart_blue_sm.put(tab2,vtab1+47+25,<span class="stringliteral">"Leadership"</span>);
02162         font_chart_blue_sm.put(tab2,vtab1+72+25,<span class="stringliteral">"Cost containment"</span>);
02163         font_chart_blue_sm.put(tab2,vtab1+102+25,<span class="stringliteral">"Long-term adjunct"</span>);
02164         font_chart_blue_sm.put(tab2,vtab1+127+25,<span class="stringliteral">"Short-term adjunct"</span>);
02165         font_chart_blue_sm.put(tab2,vtab1+157+25,<span class="stringliteral">"Minority"</span>);
02166         font_chart_blue_sm.put(tab2,vtab1+182+25,<span class="stringliteral">"Female"</span>);
02167         font_chart_blue_sm.put(tab2,vtab1+212+25,<span class="stringliteral">"Teaching talent"</span>);
02168         font_chart_blue_sm.put(tab2,vtab1+237+25,<span class="stringliteral">"Scholarship talent"</span>);
02169         font_chart_blue_sm.put(tab2,vtab1+262+25,<span class="stringliteral">"Research talent"</span>);
02170         <span class="comment">//              font_chartsm.put(tab2,vtab1+270,"The number of open faculty positions");</span>
02171         mode_fac_sum_rb1.<a class="code" href="classRadioButton.html#a2">init</a>(tab3+25,vtab1+20+25,tab4+25,vtab1+40+25,4,&amp;v1,mode_fac_sum_rblabel3,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02172         mode_fac_sum_rb2.<a class="code" href="classRadioButton.html#a2">init</a>(tab3+25,vtab1+45+25,tab4+25,vtab1+65+25,4,&amp;v2,mode_fac_sum_rblabel3,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02173         mode_fac_sum_rb3.<a class="code" href="classRadioButton.html#a2">init</a>(tab3+25,vtab1+70+25,tab4+25,vtab1+90+25,4,&amp;v3,mode_fac_sum_rblabel3,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02174         mode_fac_sum_rb4.<a class="code" href="classRadioButton.html#a2">init</a>(tab3+25,vtab1+100+25,tab4+25,vtab1+120+25,4,&amp;v4,mode_fac_sum_rblabel3,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02175         mode_fac_sum_rb5.<a class="code" href="classRadioButton.html#a2">init</a>(tab3+25,vtab1+125+25,tab4+25,vtab1+145+25,4,&amp;v5,mode_fac_sum_rblabel3,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02176         mode_fac_sum_rb6.<a class="code" href="classRadioButton.html#a2">init</a>(tab3+25,vtab1+155+25,tab4+25,vtab1+175+25,4,&amp;v6,mode_fac_sum_rblabel3,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02177         mode_fac_sum_rb7.<a class="code" href="classRadioButton.html#a2">init</a>(tab3+25,vtab1+180+25,tab4+25,vtab1+200+25,4,&amp;v7,mode_fac_sum_rblabel3,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02178         mode_fac_sum_rb8.<a class="code" href="classRadioButton.html#a2">init</a>(tab3+25,vtab1+210+25,tab4+25,vtab1+230+25,4,&amp;v8,mode_fac_sum_rblabel3,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02179         mode_fac_sum_rb9.<a class="code" href="classRadioButton.html#a2">init</a>(tab3+25,vtab1+235+25,tab4+25,vtab1+255+25,4,&amp;v9,mode_fac_sum_rblabel3,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02180         mode_fac_sum_rb10.<a class="code" href="classRadioButton.html#a2">init</a>(tab3+25,vtab1+260+25,tab4+25,vtab1+280+25,4,&amp;v10,mode_fac_sum_rblabel3,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02181         <span class="comment">//              mode_fac_sum_text1.put(tab2+250,vtab1+270,v8);</span>
02182 
02183         <span class="comment">//mode_fac_sum_button.create_text(tab3+150,vtab1+290,tab3+350,vtab1+310,"Hire a new faculty member",1);</span>
02184 
02185         <span class="comment">//----- initialize the bottom sub-menus buttons -----//</span>
02186         <span class="keywordtype">short</span> x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
02187         <span class="keywordtype">short</span> y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>;
02188 
02189         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+2,<span class="stringliteral">"    Department :"</span>);
02190         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+30,<span class="stringliteral">"      Institution :"</span>);
02191 
02192 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02193 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 7; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02194 <span class="preprocessor">#else</span>
02195 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 6; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02196 <span class="preprocessor">#endif</span>
02197 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
02198         x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
02199         y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>+28;
02200 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02201 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 7; i &lt; 14; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02202 <span class="preprocessor">#else</span>
02203 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 6; i &lt; 12; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02204 <span class="preprocessor">#endif</span>
02205 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
02206     }
02207     <span class="keywordflow">else</span> {
02208         mode_fac_sum_rb1.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02209         mode_fac_sum_rb2.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02210         mode_fac_sum_rb3.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02211         mode_fac_sum_rb4.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02212         mode_fac_sum_rb5.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02213         mode_fac_sum_rb6.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02214         mode_fac_sum_rb7.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02215         mode_fac_sum_rb8.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02216         mode_fac_sum_rb9.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02217         mode_fac_sum_rb10.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02218     }
02219     <span class="comment">//----------- paint the summary button group ---------//</span>
02220     type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classFacultyRes.html#m9">current_report_type</a>);
02221     <span class="comment">//mode_fac_sum_button.paint();</span>
02222     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
02223 }
02224 
02225 <span class="comment">//----- End of Summary Report 6 ------//</span>
02226 
02227 <span class="comment">//----- Begin of Summary Report 7 ------//</span>
<a name="l02228"></a><a class="code" href="classFacultyRes.html#a14">02228</a> <span class="keywordtype">void</span> <a class="code" href="classFacultyRes.html#a14">FacultyRes::summary_report_7</a>(<span class="keywordtype">int</span> refreshFlag) {
02229     <span class="keywordtype">int</span> tab1=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+5;
02230     <span class="keywordtype">int</span> tab2=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+15;
02231     <span class="keywordtype">int</span> tab3=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+90;
02232 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02233 <span class="preprocessor"></span>    <span class="keywordtype">int</span> tab4=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+270;
02234     <span class="keywordtype">int</span> tab5=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+290;
02235     <span class="keywordtype">int</span> tab6=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+555;
02236     <span class="comment">// int tab7=</span>
02237     <span class="keywordtype">int</span> tab8=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+695;
02238 <span class="preprocessor">#else</span>
02239 <span class="preprocessor"></span>    <span class="keywordtype">int</span> tab4=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+350;
02240     <span class="keywordtype">int</span> tab5=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+430;
02241     <span class="keywordtype">int</span> tab6=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+695;
02242     <span class="keywordtype">int</span> tab8=tab6;
02243 <span class="preprocessor">#endif</span>
02244 <span class="preprocessor"></span>    <span class="keywordtype">int</span> ptab2=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+15;                         <span class="comment">// tab for Teaching performance and Scholarly performance</span>
02245     <span class="keywordtype">int</span> ptab3=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+90;                         <span class="comment">// tab for Teaching performance and Scholarly performance</span>
02246     <span class="keywordtype">int</span> ptab4=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+350;                        <span class="comment">// tab for Research performance and Gender and ethnic equity</span>
02247     <span class="keywordtype">int</span> ptab5=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+430;                        <span class="comment">// tab for Research performance and Gender and ethnic equity</span>
02248 
02249     <span class="keywordtype">int</span> vtab1=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+15;
02250     <span class="keywordtype">int</span> vtab2=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+285;
02251     <span class="keywordtype">int</span> vtab3=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+290;
02252     <span class="keywordtype">int</span> vtab4=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+340;
02253     <span class="keyword">static</span> <span class="keywordtype">int</span> v1,v2,v3,v4;
02254     <span class="keyword">static</span> <span class="keywordtype">int</span> data1[<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>];
02255     <span class="keyword">static</span> <span class="keywordtype">int</span> data2[<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>];
02256     <span class="keywordtype">int</span> i;
02257 
02258     <span class="comment">//  v1=player_school.faculty_promotion_difficulity;</span>
02259     <span class="comment">//  v2=player_school.faculty_degree_to_which_priorities_reflected_in_promotion;</span>
02260     v1=(int)(department_array.teaching_weight_input*100);
02261     v2=(int)(department_array.scholarship_weight_input*100);
02262     v3=(int)(department_array.research_weight_input*100);
02263     v4=(int)(department_array.gender_ethnic_equity_weight_input*100);
02264     <span class="comment">//------ paint the background -------//</span>
02265     vga.use_back();
02266 
02267     <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>;i++) {
02268         <span class="keywordflow">if</span>( department_array.is_deleted(i+1)) {
02269             data1[i]=0;
02270             <span class="keywordflow">continue</span>;
02271         }
02272         <a class="code" href="classDepartment.html">Department</a>* dept_ptr = department_array[i+1];
02273         data1[i]=(int)(dept_ptr-&gt;<a class="code" href="classDepartment.html#m16">dept_salary_multiplier</a>*100);
02274     }
02275     <span class="keywordflow">for</span>(i=0;i&lt;7;i++)
02276         data2[i]=(int)(department_array.rank_age_group_salary_increase_multiplier[i]*100);
02277 
02278 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02279 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">int</span> data_num=HISTORY_YEAR_COUNT;
02280     <span class="keyword">static</span> <span class="keywordtype">float</span> dataArray1[HISTORY_YEAR_COUNT];
02281     <span class="keyword">static</span> <span class="keywordtype">float</span> dataArray2[HISTORY_YEAR_COUNT];
02282     <span class="keyword">static</span> <span class="keywordtype">float</span> dataArray3[HISTORY_YEAR_COUNT];
02283     <span class="keywordflow">for</span>(i=0;i&lt;HISTORY_YEAR_COUNT;++i) {
02284         dataArray1[i] = department_array.salary_departmental_equity_history[i] * 100.0f;
02285         dataArray2[i] = department_array.salary_gender_ethnic_equity_history[i] * 100.0f;
02286         dataArray3[i] = department_array.salary_rank_equity_history[i] * 100.0f;
02287     }
02288 <span class="preprocessor">#endif</span>
02289 <span class="preprocessor"></span>
02290     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
02291         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
02292             <a class="code" href="classFacultyRes.html#a17">summary_report_deinit</a>();
02293         report_init_flag = 1;
02294 
02295         user_interface.bg_img(<a class="code" href="Ofac__sum_8cpp.html#a102a58">BG_PIC_ID</a>, &amp;vga_back);
02296         user_interface.brighten(tab1,vtab1,tab8,vtab2+3);
02297         user_interface.rect(tab1,vtab1,tab8,vtab2+3,1);
02298         <span class="comment">//              user_interface.brighten(tab5,vtab1,tab6,vtab4);</span>
02299         <span class="comment">//              user_interface.rect(tab5,vtab1,tab6,vtab4);</span>
02300         user_interface.brighten(tab1,vtab3-2,tab8,vtab4);
02301         user_interface.rect(tab1,vtab3-2,tab8,vtab4,1);
02302 
02303         user_interface.brighten(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10);
02304         user_interface.rect(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10,1);
02305 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02306 <span class="preprocessor"></span>        font_charts.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+300,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-7,<span class="stringliteral">"Faculty Salary Program"</span>);
02307 <span class="preprocessor">#else</span>
02308 <span class="preprocessor"></span>        font_charts.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+300,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-7,<span class="stringliteral">"Faculty Salaries"</span>);
02309 <span class="preprocessor">#endif</span>
02310 <span class="preprocessor"></span>
02311         font_chartsm.put(ptab2,vtab3+7,<span class="stringliteral">"Teaching performance"</span>);
02312         font_chartsm.put(ptab2,vtab3+29,<span class="stringliteral">"Scholarly performance"</span>);
02313         font_chartsm.put(ptab4,vtab3+7,<span class="stringliteral">"Research performance"</span>);
02314         font_chartsm.put(ptab4,vtab3+29,<span class="stringliteral">"Gender and ethnic equity"</span>);
02315 
02316         <span class="comment">//              mode_fac_sum_rb1.init(tab3,vtab3+19,tab4,vtab3+37,3,&amp;v1,mode_fac_sum_rblabel,NULL);</span>
02317         <span class="comment">//              mode_fac_sum_rb2.init(tab3,vtab3+49,tab4,vtab3+67,3,&amp;v2,mode_fac_sum_rblabel,NULL);</span>
02318         <span class="comment">//              mode_fac_sum_rb3.init(tab5,vtab3+19,tab6,vtab3+37,3,&amp;v3,mode_fac_sum_rblabel,NULL);</span>
02319         <span class="comment">//              mode_fac_sum_rb4.init(tab5,vtab3+49,tab6,vtab3+67,3,&amp;v4,mode_fac_sum_rblabel,NULL);</span>
02320 
02321         mode_fac_sum_valueslider3[0].<a class="code" href="classValueSlider.html#a2">init</a>(
02322             ptab3+90,vtab3+5,
02323             80,15,
02324             50,350,&amp;v1,1,<a class="code" href="COLOR_8H.html#a25">V_YELLOW</a>,10);
02325         mode_fac_sum_valueslider3[1].<a class="code" href="classValueSlider.html#a2">init</a>(
02326             ptab3+90,vtab3+27,
02327             80,15,
02328             50,350,&amp;v2,1,<a class="code" href="COLOR_8H.html#a25">V_YELLOW</a>,10);
02329         mode_fac_sum_valueslider3[2].<a class="code" href="classValueSlider.html#a2">init</a>(
02330             ptab5+90,vtab3+5,
02331             80,15,
02332             50,350,&amp;v3,1,<a class="code" href="COLOR_8H.html#a25">V_YELLOW</a>,10);
02333         mode_fac_sum_valueslider3[3].<a class="code" href="classValueSlider.html#a2">init</a>(
02334             ptab5+90,vtab3+27,
02335             80,15,
02336             50,350,&amp;v4,1,<a class="code" href="COLOR_8H.html#a25">V_YELLOW</a>,10);
02337 
02338         <span class="comment">//----- initialize the bottom sub-menus buttons -----//</span>
02339         <span class="keywordtype">short</span> x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
02340         <span class="keywordtype">short</span> y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>;
02341 
02342         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+2,<span class="stringliteral">"    Department :"</span>);
02343         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+30,<span class="stringliteral">"      Institution :"</span>);
02344 
02345 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02346 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 7; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02347 <span class="preprocessor">#else</span>
02348 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 6; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02349 <span class="preprocessor">#endif</span>
02350 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
02351         x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
02352         y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>+28;
02353 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02354 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 7; i &lt; 14; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02355 <span class="preprocessor">#else</span>
02356 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 6; i &lt; 12; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02357 <span class="preprocessor">#endif</span>
02358 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
02359 
02360         <span class="comment">// show all departments</span>
02361         user_interface.rect(tab1,vtab1,tab4+3,vtab1+40,1);
02362         user_interface.rect(tab1,vtab1,tab4+3,vtab2+3,1);
02363         user_interface.rect(tab4,vtab1,tab6,vtab1+40,1);
02364         user_interface.rect(tab4,vtab1,tab6,vtab2+3,1);
02365 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02366 <span class="preprocessor"></span>        user_interface.rect(tab6-3,vtab1,tab8,vtab1+40,1);
02367         user_interface.rect(tab6-3,vtab1,tab8,vtab2+3,1);
02368 <span class="preprocessor">#endif</span>
02369 <span class="preprocessor"></span>
02370 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02371 <span class="preprocessor"></span>        font_charts.put(tab1+15,vtab1+12,<span class="stringliteral">"By department"</span>);
02372 <span class="preprocessor">#else</span>
02373 <span class="preprocessor"></span>        font_charts.put(tab1+15,vtab1+12,<span class="stringliteral">"Salary program by department"</span>);
02374 <span class="preprocessor">#endif</span>
02375 <span class="preprocessor"></span>        font_chartsm.put_paragraph(tab4-100,vtab1+5,tab4,vtab1+45,<span class="stringliteral">"Departmental salary increase percentage"</span>,1);
02376         <span class="keywordtype">int</span> line_spacing=(vtab2-vtab1-60)/department_array.size();
02377         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=department_array.size() ; l&gt;0 ; l-- ) {
02378             <span class="keywordflow">if</span>( department_array.is_deleted(l) )
02379                 <span class="keywordflow">continue</span>;
02380             <a class="code" href="classDepartment.html">Department</a>* dept_ptr = department_array[l];
02381             <a class="code" href="classString.html">String</a> tmp;
02382             tmp=dept_ptr-&gt;<a class="code" href="classDepartment.html#a3">name</a>();
02383             tmp.<a class="code" href="classString.html#m0">str_buf</a>[tmp.<a class="code" href="classString.html#a5">len</a>()-10]=<span class="charliteral">'\0'</span>;
02384             font_chartsm.put(tab1+15,vtab1+30+(<span class="keywordtype">int</span>)(line_spacing*(0.2+l)),tmp.<a class="code" href="classString.html#m0">str_buf</a>);
02385             <span class="comment">//                  mode_fac_sum_data3[l-1].put(tab1+280,vtab1+32+line_spacing*l,&amp;(data1[l-1]));</span>
02386             <span class="comment">//                  mode_fac_sum_valueslider[l-1].init(</span>
02387             <span class="comment">//                                  tab1+245,vtab1+29+(int)(line_spacing*(0.2+l)),</span>
02388             <span class="comment">//                                  90,line_spacing-6,</span>
02389             <span class="comment">//                                  50,250,data1+l-1,1,V_YELLOW,10);</span>
02390             <span class="comment">// changed in ver2</span>
02391             mode_fac_sum_valueslider[l-1].<a class="code" href="classValueSlider.html#a2">init</a>(
02392                 tab4-100,vtab1+29+(<span class="keywordtype">int</span>)(line_spacing*(0.2+l)),
02393                 90,line_spacing-6,
02394                 50,250,data1+l-1,1,<a class="code" href="COLOR_8H.html#a25">V_YELLOW</a>,10);
02395         }
02396 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02397 <span class="preprocessor"></span>        font_charts.put_paragraph(tab4+15,vtab1+5,tab6-125,vtab1+45,<span class="stringliteral">"By rank and experience"</span>);
02398 <span class="preprocessor">#else</span>
02399 <span class="preprocessor"></span>        font_charts.put(tab4+15,vtab1+12,<span class="stringliteral">"By rank and experience"</span>);
02400 <span class="preprocessor">#endif</span>
02401 <span class="preprocessor"></span>        font_chartsm.put_paragraph(tab6-125,vtab1+5,tab6,vtab1+45,<span class="stringliteral">"Rank/experience group salary increase percentage"</span>,1);
02402         font_chartsm.put(tab4+15,vtab1+52,<span class="stringliteral">"Assistant professor"</span>);
02403         font_chartsm.put(tab4+15,vtab1+82,<span class="stringliteral">"Associate professor"</span>);
02404         font_chartsm.put(tab4+15,vtab1+112,<span class="stringliteral">"Full professor-1"</span>);
02405         font_chartsm.put(tab4+15,vtab1+142,<span class="stringliteral">"Full professor-2"</span>);
02406         font_chartsm.put(tab4+15,vtab1+172,<span class="stringliteral">"Full professor-3"</span>);
02407         font_chartsm.put(tab4+15,vtab1+202,<span class="stringliteral">"Long-term adjunct"</span>);
02408         font_chartsm.put(tab4+15,vtab1+232,<span class="stringliteral">"Short-term adjunct"</span>);
02409         <span class="keywordflow">for</span>(i=0;i&lt;7;i++)
02410             <span class="comment">//                  mode_fac_sum_valueslider2[i].init(</span>
02411             <span class="comment">//                                  tab4+235,vtab1+51+30*i,</span>
02412             <span class="comment">//                                  90,18,</span>
02413             <span class="comment">//                                  50,250,data2+i,1,V_YELLOW,10);</span>
02414             mode_fac_sum_valueslider2[i].<a class="code" href="classValueSlider.html#a2">init</a>(
02415                 tab6-100,vtab1+51+30*i,
02416                 90,18,
02417                 50,250,data2+i,1,<a class="code" href="COLOR_8H.html#a25">V_YELLOW</a>,10);
02418 
02419 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02420 <span class="preprocessor"></span>        font_charts.put_paragraph(tab6+12,vtab1+5,tab8-3, vtab1+45, <span class="stringliteral">"Salary variation indices"</span>);
02421         font_chartsm.put(tab6+12, vtab1+52, <span class="stringliteral">"Departments"</span> );
02422         department_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(
02423             tab6+52,vtab1+52+16,tab8-15,vtab1+123-6,
02424             1 ,&amp;data_num , dataArray1, 1, 0, 3);
02425         department_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a8">paint</a>();
02426         font_chart_purple_sm.put(tab6+12,vtab1+52+32,m.format(department_array.initial_salary_departmental_equity,23) );
02427 
02428         font_chartsm.put(tab6+12, vtab1+123, <span class="stringliteral">"Gender/ethnic groups"</span> );
02429         gender_ethnic_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(
02430             tab6+52,vtab1+123+16,tab8-15,vtab1+194-6,
02431             1 ,&amp;data_num , dataArray2, 1, 0, 3);
02432         gender_ethnic_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a8">paint</a>();
02433         font_chart_purple_sm.put(tab6+12,vtab1+123+32,m.format(department_array.initial_salary_gender_ethnic_equity,23) );
02434 
02435         font_chartsm.put(tab6+12, vtab1+194, <span class="stringliteral">"Ranks"</span> );
02436         rank_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(
02437             tab6+52,vtab1+194+16,tab8-15,vtab1+285-20,
02438             1 ,&amp;data_num , dataArray3, 1, 0, 3);
02439         rank_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a8">paint</a>();
02440         font_chart_purple_sm.put(tab6+12,vtab1+194+32,m.format(department_array.initial_salary_rank_equity,23) );
02441 <span class="preprocessor">#endif</span>
02442 <span class="preprocessor"></span>    }
02443 
02444     <span class="comment">//--------------------------------------------//</span>
02445 
02446     <span class="keywordflow">for</span>(i=0;i&lt;department_array.size();i++)
02447         mode_fac_sum_valueslider[i].<a class="code" href="classValueSlider.html#a7">refresh</a>();
02448 
02449     <span class="keywordflow">for</span>(i=0;i&lt;7;i++)
02450         mode_fac_sum_valueslider2[i].<a class="code" href="classValueSlider.html#a7">refresh</a>();
02451 
02452     <span class="keywordflow">for</span>(i=0;i&lt;4;i++)
02453         mode_fac_sum_valueslider3[i].<a class="code" href="classValueSlider.html#a7">refresh</a>();
02454 
02455 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02456 <span class="preprocessor"></span>    department_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a9">refresh</a>();
02457     gender_ethnic_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a9">refresh</a>();
02458     rank_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a9">refresh</a>();
02459 
02460     department_equity_text.<a class="code" href="classText.html#a11">put</a>( tab6+12, vtab1+52+16, department_array.salary_departmental_equity_history[THIS_YEAR], 23 );
02461     gender_ethnic_equity_text.<a class="code" href="classText.html#a11">put</a>( tab6+12, vtab1+123+16, department_array.salary_gender_ethnic_equity_history[THIS_YEAR], 23 );
02462     rank_equity_text.<a class="code" href="classText.html#a11">put</a>( tab6+12, vtab1+194+16, department_array.salary_rank_equity_history[THIS_YEAR], 23 );
02463 <span class="preprocessor">#endif</span>
02464 <span class="preprocessor"></span>
02465     <span class="comment">//----------- paint the summary button group ---------//</span>
02466     type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classFacultyRes.html#m9">current_report_type</a>);
02467 
02468     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
02469 
02470 }
02471 
02472 <span class="comment">//----- End of Summary Report 7 ------//</span>
02473 
02474 <span class="comment">//----- Begin of Summary Report 8 ------//</span>
<a name="l02475"></a><a class="code" href="classFacultyRes.html#a15">02475</a> <span class="keywordtype">void</span> <a class="code" href="classFacultyRes.html#a15">FacultyRes::summary_report_8</a>(<span class="keywordtype">int</span> refreshFlag) {
02476     <span class="keywordtype">int</span> tab1=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100;
02477     <span class="keywordtype">int</span> tab2=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+130;
02478     <span class="keywordtype">int</span> tab3=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+300;
02479     <span class="keywordtype">int</span> tab4=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+640;
02480     <span class="keywordtype">int</span> vtab1=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+100;
02481     <span class="keywordtype">int</span> vtab2=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+250;
02482     <span class="keyword">static</span> <span class="keywordtype">int</span> v1,v2;
02483 
02484     v1=player_school.faculty_promotion_difficulity;
02485     v2=player_school.faculty_degree_to_which_priorities_reflected_in_promotion;
02486     <span class="comment">//------ paint the background -------//</span>
02487     vga.use_back();
02488     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
02489         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
02490             <a class="code" href="classFacultyRes.html#a17">summary_report_deinit</a>();
02491         report_init_flag = 1;
02492 
02493         user_interface.bg_img(<a class="code" href="Ofac__sum_8cpp.html#a102a58">BG_PIC_ID</a>, &amp;vga_back);
02494         user_interface.brighten(tab1,vtab1,tab4,vtab2);
02495         user_interface.rect(tab1,vtab1,tab4,vtab2,1);
02496         user_interface.brighten(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10);
02497         user_interface.rect(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10,1);
02498         font_charts.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+290,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-7,<span class="stringliteral">"Promotion and Tenure"</span>);
02499 
02500         font_chartsm.center_put(tab2+10,vtab1+30,tab4,vtab1+48,<span class="stringliteral">"Degree to which salary-setting priorities are reflected in promotion"</span>);
02501         font_chartsm.center_put(tab2+30,vtab1+85,tab4,vtab1+103,<span class="stringliteral">"Difficulty of promotion to tenure"</span>);
02502         mode_fac_sum_rb1.<a class="code" href="classRadioButton.html#a2">init</a>(tab2+100,vtab1+45,tab4,vtab1+72,3,&amp;v1,mode_fac_sum_rblabel,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02503         mode_fac_sum_rb2.<a class="code" href="classRadioButton.html#a2">init</a>(tab2+100,vtab1+100,tab4,vtab1+127,3,&amp;v2,mode_fac_sum_rblabel,<a class="code" href="OHELP_8H.html#a0">NULL</a>);
02504 
02505         <span class="comment">//----- initialize the bottom sub-menus buttons -----//</span>
02506         <span class="keywordtype">short</span> x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
02507         <span class="keywordtype">short</span> y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>;
02508 
02509         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+2,<span class="stringliteral">"    Department :"</span>);
02510         font_chartsm.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,y+30,<span class="stringliteral">"      Institution :"</span>);
02511 
02512 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02513 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 7; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02514 <span class="preprocessor">#else</span>
02515 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 6; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02516 <span class="preprocessor">#endif</span>
02517 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
02518         x = <a class="code" href="Ofac__sum_8cpp.html#a107a75">BOTTOM_BUTTON_X1</a>;
02519         y = <a class="code" href="Ofac__sum_8cpp.html#a107a76">BOTTOM_BUTTON_Y1</a>+28;
02520 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02521 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (i = 7; i &lt; 14; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02522 <span class="preprocessor">#else</span>
02523 <span class="preprocessor"></span>            <span class="keywordflow">for</span> (i = 6; i &lt; 12; i++, x+=<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Ofac__sum_8cpp.html#a108a83">BOTTOM_BUTTON_DISTANCE</a>)
02524 <span class="preprocessor">#endif</span>
02525 <span class="preprocessor"></span>                type_button_group[i].create_text(x, y,x+<a class="code" href="Ofac__sum_8cpp.html#a108a80">BOTTOM_BUTTON_WIDTH</a>, y+<a class="code" href="Ofac__sum_8cpp.html#a108a82">BOTTOM_BUTTON_HEIGHT</a>,reportTypeStrArray[i]);
02526     }
02527     <span class="keywordflow">else</span> {
02528         mode_fac_sum_rb1.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02529         mode_fac_sum_rb2.<a class="code" href="classRadioButton.html#a5">refresh</a>();
02530     }
02531     <span class="comment">//----------- paint the summary button group ---------//</span>
02532     type_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(<a class="code" href="classFacultyRes.html#m9">current_report_type</a>);
02533 
02534     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
02535 
02536 }
02537 
02538 <span class="comment">//----- End of Summary Report 8 ------//</span>
02539 
02540 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
02541 <span class="preprocessor"></span><span class="comment">// --- Begin of FacultyRes::summary_report_9 --- //</span>
02542 <span class="comment">//</span>
02543 <span class="keywordtype">void</span> FacultyRes::summary_report_9(<span class="keywordtype">int</span> refreshFlag) {
02544     <span class="comment">//------ paint the background -------//</span>
02545     vga.use_back();
02546     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
02547         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
02548             <a class="code" href="classFacultyRes.html#a17">summary_report_deinit</a>();
02549         report_init_flag = 1;
02550 
02551         user_interface.bg_img(<a class="code" href="Ofac__sum_8cpp.html#a102a58">BG_PIC_ID</a>, &amp;vga_back);
02552 
02553         <span class="comment">// top title</span>
02554         user_interface.brighten(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10);
02555         user_interface.rect(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10,1);
02556         <span class="keywordflow">if</span> ( is_year_end_report ) {
02557             font_charts.center_put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-13,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+630,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+10,
02558                                    <span class="stringliteral">"Faculty Changes &amp; Adjustments Report"</span> );
02559 
02560             <span class="keywordtype">int</span> totalDept = 0;
02561             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1;i&lt;=department_array.size();i++)
02562                 <span class="keywordflow">if</span> (!department_array.is_deleted(i))
02563                     totalDept++;
02564 
02565             <span class="comment">// Paint the text "New hires will not be determined until the new budget has been set."</span>
02566             font_charts.put( <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>, <a class="code" href="Ofac__sum_8cpp.html#a98a50">BUTTON_Y1</a>-16,
02567                              <span class="stringliteral">"New hires wil not be determined until the new budget has been set."</span> );
02568         }
02569         <span class="keywordflow">else</span>
02570             font_charts.put(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+240,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>-7,fac_sum_title[2]);
02571 
02572         <span class="keywordflow">if</span> ( is_year_end_report ) {
02573             <span class="comment">// Paint "Back" Button</span>
02574             mode_fac_hire_button.<a class="code" href="classButton.html#a10">create_text</a>(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+270, <a class="code" href="Ofac__sum_8cpp.html#a98a50">BUTTON_Y1</a>,
02575                                              <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+390, <a class="code" href="Ofac__sum_8cpp.html#a98a50">BUTTON_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a99a52">BUTTON_HEIGHT</a>,<span class="stringliteral">"Back"</span>,1);
02576 
02577             <span class="comment">// Paint "Next" Button</span>
02578             <span class="keywordtype">char</span> buttonStr[123];
02579             strcpy( buttonStr, <span class="stringliteral">"Next"</span> );
02580             mode_fac_next_button.<a class="code" href="classButton.html#a10">create_text</a>(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+410, <a class="code" href="Ofac__sum_8cpp.html#a98a50">BUTTON_Y1</a>,
02581                                              <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+530, <a class="code" href="Ofac__sum_8cpp.html#a98a50">BUTTON_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a99a52">BUTTON_HEIGHT</a>,buttonStr,1);
02582         }
02583         <span class="keywordflow">else</span> {
02584             <span class="comment">// Paint "Back" Button</span>
02585             mode_fac_hire_button.<a class="code" href="classButton.html#a10">create_text</a>(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+320, <a class="code" href="Ofac__sum_8cpp.html#a98a50">BUTTON_Y1</a>,
02586                                              <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+440, <a class="code" href="Ofac__sum_8cpp.html#a98a50">BUTTON_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a99a52">BUTTON_HEIGHT</a>,<span class="stringliteral">"Back"</span>,1);
02587         }
02588 
02589         <span class="comment">// Display Table</span>
02590         <span class="keywordflow">if</span> (current_report_mode!=<a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a> &amp;&amp; !is_year_end_report) {
02591             <span class="comment">// Show Brighten Part</span>
02592             user_interface.brighten(
02593                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>+50,
02594                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10,
02595                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*5+50,
02596                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+8*VTAB6+50
02597                 );
02598 
02599             <span class="comment">// Leftmost column</span>
02600             user_interface.rect(
02601                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>+50,
02602                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10,
02603                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+50,
02604                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+8*VTAB6+50,1
02605                 );
02606 
02607             <span class="comment">// Draw Columns</span>
02608             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0; i&lt;5; i++)
02609                 user_interface.rect(
02610                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2+i*TAB7+50,
02611                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10,
02612                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*(i+1)+50,
02613                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+8*VTAB6+50,1);
02614 
02615             <span class="comment">// Draw Rows</span>
02616             <span class="keywordflow">for</span>( i=0;i&lt;8; i++)
02617                 user_interface.rect(
02618                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>+50,
02619                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+i*VTAB6+50,
02620                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*5+50,
02621                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+(i+1)*VTAB6+50,1
02622                     );
02623 
02624             <span class="comment">// Print titles of Table</span>
02625             font_chartsm.center_put(
02626                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>+50,
02627                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50-20,
02628                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2+50,
02629                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50,
02630                 hire_report_label4[0]);
02631 
02632             <span class="keywordflow">for</span> ( i=0; i&lt;5; i++)
02633                 font_chartsm.center_put(
02634                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+i*TAB7+50,
02635                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+15,
02636                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2+(i+1)*TAB7+50,
02637                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+30,
02638                     hire_report_label3[i+1]);
02639 
02640             <span class="keywordflow">for</span> ( i=0; i&lt;5; i++)
02641                 font_chartsm.center_put(
02642                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+i*TAB7+50,
02643                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+30,
02644                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2+(i+1)*TAB7+50,
02645                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50,
02646                     hire_report_label4[i+1]);
02647         }
02648         <span class="keywordflow">else</span> {
02649             <span class="keywordtype">int</span> totalDept = 0;
02650             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1;i&lt;=department_array.size();i++) {
02651                 <span class="keywordflow">if</span> (!department_array.is_deleted(i))
02652                     totalDept++;
02653             }
02654 
02655             <span class="comment">// Show Brighten Part</span>
02656             user_interface.brighten(
02657                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>,
02658                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10,
02659                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*6,
02660                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+totalDept*VTAB6+50
02661                 );
02662 
02663             user_interface.rect(
02664                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>,
02665                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10,
02666                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>,
02667                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+totalDept*VTAB6+50,1
02668                 );
02669 
02670             <span class="keywordflow">for</span> ( i=0; i&lt;6; i++)
02671                 user_interface.rect(
02672                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2+i*TAB7,
02673                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10,
02674                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*(i+1),
02675                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+totalDept*VTAB6+50,1);
02676 
02677             <span class="keywordflow">for</span>( i=0;i&lt;totalDept; i++)
02678                 user_interface.rect(
02679                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>,
02680                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+i*VTAB6+50,
02681                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*6,
02682                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+(i+1)*VTAB6+50,1
02683                     );
02684 
02685             <span class="comment">// Print titles of Table</span>
02686             font_chartsm.center_put(
02687                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>,
02688                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50-20,
02689                 <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2,
02690                 <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50,
02691                 hire_report_label2[0]);
02692 
02693             <span class="keywordflow">for</span> ( i=0; i&lt;6; i++)
02694                 font_chartsm.center_put(
02695                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+i*TAB7,
02696                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+15,
02697                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2+(i+1)*TAB7,
02698                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+30,
02699                     hire_report_label1[i+1]);
02700 
02701             <span class="keywordflow">for</span> ( i=0; i&lt;6; i++)
02702                 font_chartsm.center_put(
02703                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+i*TAB7,
02704                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+30,
02705                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2+(i+1)*TAB7,
02706                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50,
02707                     hire_report_label2[i+1]);
02708         }
02709 
02710         <span class="keywordflow">if</span> ( (current_report_mode==<a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>) || (is_year_end_report) ) {
02711             <span class="keywordtype">int</span> row = 1;
02712             show_department_detail_count = 0;
02713             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=1; j&lt;=department_array.size(); j++ ) {
02714                 show_department_detail_count++;
02715                 <span class="keywordflow">if</span> ( department_array.is_deleted(j) )
02716                     <span class="keywordflow">continue</span>;
02717                 <a class="code" href="classString.html">String</a> deptStr;
02718                 cur_dept_ptr = department_array[j];
02719                 deptStr = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#a3">name</a>();
02720                 <a class="code" href="classString.html">String</a> deptStrTmp=deptStr.<a class="code" href="classString.html#a9">substr</a>(0,deptStr.<a class="code" href="classString.html#a5">len</a>()-11);
02721 
02722                 <span class="comment">// Display details</span>
02723                 <span class="comment">// Department Name</span>
02724                 font_chartsm.center_put(
02725                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>,
02726                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02727                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2,
02728                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02729                     deptStrTmp);
02730 
02731                 <span class="comment">// Prior year total</span>
02732                 <span class="keywordflow">if</span> ( is_year_end_report )
02733                     font_chartsm.center_put(
02734                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>,
02735                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02736                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7,
02737                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02738                         m.format(cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m64">faculty_level_history</a>[5][7]));
02739                 <span class="keywordflow">else</span>
02740                     font_chartsm.center_put(
02741                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>,
02742                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02743                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7,
02744                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02745                         m.format(cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m64">faculty_level_history</a>[5][6]));
02746 
02747                 <span class="comment">// Departures</span>
02748                 font_chartsm.center_put(
02749                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7,
02750                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02751                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*2-2,
02752                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02753                     m.format(cur_dept_ptr-&gt;faculty_departures_number()));
02754 
02755                 <span class="comment">// New hires</span>
02756                 <span class="keywordflow">if</span> ( is_year_end_report ) {
02757                     font_chartsm.center_put(
02758                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*2,
02759                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02760                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*3-2,
02761                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02762                         <span class="stringliteral">"na"</span>);
02763                 }
02764                 <span class="keywordflow">else</span> {
02765                     font_chartsm.center_put(
02766                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*2,
02767                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02768                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*3-2,
02769                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02770                         m.format(cur_dept_ptr-&gt;faculty_new_hires_number()));
02771                 }
02772 
02773                 <span class="comment">// Promotion to tenure</span>
02774                 font_chartsm.center_put(
02775                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*3,
02776                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02777                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*4-2,
02778                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02779                     m.format(cur_dept_ptr-&gt;faculty_promotions_number()));
02780 
02781                 <span class="comment">// Current year total</span>
02782                 <span class="keywordflow">if</span> ( is_year_end_report ) {
02783                     font_chartsm.center_put(
02784                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*4,
02785                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02786                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*5-2,
02787                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02788                         m.format(cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m64">faculty_level_history</a>[5][7]-cur_dept_ptr-&gt;faculty_departures_number()) );
02789                 }
02790                 <span class="keywordflow">else</span> {
02791                     font_chartsm.center_put(
02792                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*4,
02793                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02794                         <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*5-2,
02795                         <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02796                         m.format(cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m64">faculty_level_history</a>[5][7]));
02797                 }
02798 
02799                 <span class="comment">// Click for details</span>
02800                 mode_fac_detail_button[row-1].<a class="code" href="classButton.html#a10">create_text</a>(
02801                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*5-3,
02802                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+(row-1)*VTAB6-1,
02803                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*6-1,
02804                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6+(row-1)*VTAB6+1,
02805                     <span class="stringliteral">"Detail"</span>,1);
02806 
02807                 row++;
02808             }
02809         }
02810         <span class="keywordflow">else</span> {                                        <span class="comment">// show just one department detail</span>
02811             show_department_detail_count = 1;
02812             <span class="keywordtype">int</span> deptRecno = 1;
02813             <span class="keywordflow">if</span>( department_array.selected_recno )
02814                 deptRecno = department_array.selected_recno;
02815             cur_dept_ptr = department_array[deptRecno];
02816 
02817             <span class="comment">// Display details</span>
02818             <span class="comment">// Department Year</span>
02819             <span class="comment">/*                  String deptName="\0";</span>
02820 <span class="comment">                                deptName = cur_dept_ptr-&gt;name();</span>
02821 <span class="comment">                                deptName = deptName.substr(0,deptName.len()-11);</span>
02822 <span class="comment">                                strcat(deptName, "\0");</span>
02823 <span class="comment">                                font_chartsm.center_put(</span>
02824 <span class="comment">                                REPORT_X1+TAB1,</span>
02825 <span class="comment">                                REPORT_Y1+VTAB1+30+50+5,</span>
02826 <span class="comment">                                REPORT_X1+TAB2-2,</span>
02827 <span class="comment">                                REPORT_Y1+VTAB1+30+50+VTAB6-2,</span>
02828 <span class="comment">                                deptName);</span>
02829 <span class="comment">            */</span>
02830 
02831             <span class="comment">// find the start year</span>
02832             <span class="keywordtype">int</span> startYear;
02833 
02834             <span class="keywordflow">if</span> ( info.financial_year() &gt; HISTORY_YEAR_COUNT ) {
02835                 startYear = info.financial_year() - HISTORY_YEAR_COUNT + 1;
02836             }
02837             <span class="keywordflow">else</span>
02838                 startYear = 1;
02839 
02840             <span class="comment">// find the end year</span>
02841             <span class="keywordtype">int</span> endYear = info.financial_year();
02842 
02843             <span class="keywordtype">int</span> row=1;
02844 
02845             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=startYear; i&lt;=endYear; i++ ) {
02846                 font_chartsm.center_put(
02847                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a84">TAB1</a>+50,
02848                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02849                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>-2+50,
02850                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02851                     m.format( i ) );
02852 
02853                 <span class="keywordtype">int</span> yearNo = (THIS_YEAR-endYear%HISTORY_YEAR_COUNT+1+i-1)%HISTORY_YEAR_COUNT;
02854 
02855                 <span class="comment">// get the display departures, hires, promotion numbers</span>
02856                 <span class="keywordtype">int</span> priorNo, departureNo, hireNo, promotionNo;
02857                 <span class="keywordflow">if</span> ( yearNo == THIS_YEAR ) {
02858                     departureNo = cur_dept_ptr-&gt;faculty_departures_number();
02859                     hireNo = cur_dept_ptr-&gt;faculty_new_hires_number();
02860                     promotionNo = cur_dept_ptr-&gt;faculty_promotions_number();
02861                 }
02862                 <span class="keywordflow">else</span> {
02863                     departureNo = cur_dept_ptr-&gt;departures_history[yearNo];
02864                     hireNo      = cur_dept_ptr-&gt;hires_history[yearNo];
02865                     promotionNo = cur_dept_ptr-&gt;promotion_history[yearNo];
02866                 }
02867 
02868                 <span class="keywordflow">if</span> ( yearNo == 0 )
02869                     priorNo = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m64">faculty_level_history</a>[5][yearNo] - hireNo + departureNo;
02870                 <span class="keywordflow">else</span>
02871                     priorNo = cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m64">faculty_level_history</a>[5][yearNo-1];
02872 
02873                 <span class="comment">// Prior year total</span>
02874                 font_chartsm.center_put(
02875                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+50,
02876                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02877                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7+50,
02878                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02879                     m.format( priorNo ));
02880 
02881                 <span class="comment">// Departures</span>
02882                 font_chartsm.center_put(
02883                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7+50,
02884                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02885                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*2-2+50,
02886                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02887                     m.format(departureNo));
02888 
02889                 <span class="comment">// New hires</span>
02890                 font_chartsm.center_put(
02891                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*2+50,
02892                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02893                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*3-2+50,
02894                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02895                     m.format(hireNo));
02896 
02897                 <span class="comment">// Promotion to tenure</span>
02898                 font_chartsm.center_put(
02899                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*3+50,
02900                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02901                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*4-2+50,
02902                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02903                     m.format(promotionNo));
02904 
02905                 <span class="comment">// Current year total</span>
02906                 font_chartsm.center_put(
02907                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*4+50,
02908                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+5+(row-1)*VTAB6,
02909                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*5-2+50,
02910                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6-2+(row-1)*VTAB6,
02911                     m.format(cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m64">faculty_level_history</a>[5][yearNo]));
02912 
02913                 <span class="comment">// Click to detail</span>
02914                 mode_fac_detail_button[0].<a class="code" href="classButton.html#a10">create_text</a>(
02915                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*5-3+50,
02916                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50-1+(row-1)*VTAB6,
02917                     <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a85">TAB2</a>+TAB7*6-1+35,
02918                     <a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+<a class="code" href="Ofac__sum_8cpp.html#a109a90">VTAB1</a>+10+50+VTAB6+1+(row-1)*VTAB6,
02919                     <span class="stringliteral">"Detail"</span>,1);
02920 
02921                 row ++;
02922             }
02923         }
02924 
02925         report_init_flag = 1;
02926     }
02927 
02928     <span class="comment">//----------- paint the summary button group ---------//</span>
02929     mode_fac_hire_button.<a class="code" href="classButton.html#a20">paint</a>();
02930     <span class="keywordflow">if</span> (is_year_end_report)
02931         mode_fac_next_button.<a class="code" href="classButton.html#a20">paint</a>();
02932     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;show_department_detail_count; i++)
02933         mode_fac_detail_button[i].<a class="code" href="classButton.html#a20">paint</a>();
02934 
02935     vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
02936     <span class="comment">//##trevor 2807</span>
02937     vga.use_front();
02938     <span class="comment">//##trevor 2807</span>
02939 
02940 }
02941 
02942 <span class="comment">//</span>
02943 <span class="comment">// --- End of FacultyRes::summer_report_9 --- //</span>
02944 
02945 <span class="comment">// --- Begin of FacultyRes::summary_report_10 --- //</span>
02946 <span class="comment">//</span>
02947 <span class="comment">// It is used to show details of Faculty Hires, Promotions and Departures</span>
02948 <span class="keywordtype">void</span> FacultyRes::summary_report_10(<span class="keywordtype">int</span> refreshFlag) {
02949     <span class="keywordtype">int</span> tab1=<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+242;
02950     <span class="keywordtype">int</span> vtab1=<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+33;
02951 
02952     report_faculty_hired(refreshFlag);
02953     <span class="keywordflow">if</span>( refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a> ) {
02954         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
02955             <a class="code" href="classFacultyRes.html#a17">summary_report_deinit</a>();
02956         report_init_flag = 1;
02957         mode_fac_sum_button.<a class="code" href="classButton.html#a10">create_text</a>(  <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+260, <a class="code" href="Ofac__sum_8cpp.html#a97a49">REPORT_Y2</a>+10,
02958                                           <a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+350, <a class="code" href="Ofac__sum_8cpp.html#a97a49">REPORT_Y2</a>+30,<span class="stringliteral">"Back"</span>,1);
02959     }
02960 }
02961 
02962 <span class="comment">//</span>
02963 <span class="comment">// --- End of FacultyRes::summary_report_10 --- //</span>
02964 <span class="preprocessor">#endif</span>
02965 <span class="preprocessor"></span>
02966 <span class="comment">//----- Begin of function FacultySummary::report ------//</span>
<a name="l02970"></a><a class="code" href="classFacultyRes.html#a7">02970</a> <span class="comment">void FacultyRes::summary_report(int refreshFlag) {</span>
02971     <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a60">REPORT_TYPE_DEPARTMENT_PROFILE1</a>) {
02972         sys.is_institution_report=0;
02973         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>;
02974         summary_report_1(refreshFlag);
02975     }
02976     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a61">REPORT_TYPE_DEPARTMENT_PROFILE2</a>) {
02977         sys.is_institution_report=0;
02978         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>;
02979         summary_report_2(refreshFlag);
02980     }
02981     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a62">REPORT_TYPE_DEPARTMENT_ACTIVITIES</a>) {
02982         sys.is_institution_report=0;
02983         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>;
02984         summary_report_3(refreshFlag);
02985     }
02986     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a63">REPORT_TYPE_DEPARTMENT_RESEARCH</a>) {
02987         sys.is_institution_report=0;
02988         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>;
02989         summary_report_4(refreshFlag);
02990     }
02991     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a64">REPORT_TYPE_DEPARTMENT_DIRECTORY</a>) {
02992         sys.is_institution_report=0;
02993         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>;
02994         summary_report_5(refreshFlag);
02995     }
02996     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a65">REPORT_TYPE_DEPARTMENT_HIRING</a>) {
02997         sys.is_institution_report=0;
02998         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>;
02999         summary_report_6(refreshFlag);
03000     }
03001     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a66">REPORT_TYPE_INSTITUTION_PROFILE1</a>) {
03002         sys.is_institution_report=1;
03003         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>;
03004         summary_report_1(refreshFlag);
03005     }
03006     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a67">REPORT_TYPE_INSTITUTION_PROFILE2</a>) {
03007         sys.is_institution_report=1;
03008         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>;
03009         summary_report_2(refreshFlag);
03010     }
03011     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a68">REPORT_TYPE_INSTITUTION_ACTIVITIES</a>) {
03012         sys.is_institution_report=1;
03013         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>;
03014         summary_report_3(refreshFlag);
03015     }
03016     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a69">REPORT_TYPE_INSTITUTION_RESEARCH</a>) {
03017         sys.is_institution_report=1;
03018         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>;
03019         summary_report_4(refreshFlag);
03020     }
03021     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a71">REPORT_TYPE_INSTITUTION_PROMOTION</a>) {
03022         sys.is_institution_report=1;
03023         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>;
03024         summary_report_8(refreshFlag);
03025     }
03026     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a70">REPORT_TYPE_INSTITUTION_SALARY</a>) {
03027         sys.is_institution_report=1;
03028         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>;
03029         summary_report_7(refreshFlag);
03030     }
03031 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
03032 <span class="preprocessor"></span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (current_report_type==REPORT_TYPE_DEPARTMENT_TURNOVER) {
03033         sys.is_institution_report=0;
03034         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>;
03035         summary_report_9(refreshFlag);
03036     }
03037     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (current_report_type==REPORT_TYPE_INSTITUTION_TURNOVER) {
03038         sys.is_institution_report=1;
03039         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>;
03040         summary_report_9(refreshFlag);
03041     }
03042     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (current_report_type==REPORT_TYPE_DEPARTMENT_TURNOVER_DETAIL) {
03043         sys.is_institution_report=0;
03044         current_report_mode=<a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>;
03045         summary_report_10(refreshFlag);
03046     }
03047 <span class="preprocessor">#endif</span>
03048 <span class="preprocessor"></span>}
03049 
03050 <span class="comment">//------- End of function FacultySummary::report ------//</span>
03051 
03052 <span class="comment">//----- Begin of function FacultySummary::report_detect ------//</span>
<a name="l03054"></a><a class="code" href="classFacultyRes.html#a16">03054</a> <span class="comment">int FacultyRes::summary_report_detect() {</span>
03055     vga.use_front();
03056 
03057 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
03058 <span class="preprocessor"></span>    <span class="keywordflow">if</span> ( is_year_end_report ) {
03059         <span class="keywordflow">if</span> ( current_year_report==FACULTY_LISTS ) {
03060             <span class="keywordflow">if</span> ( mode_fac_hire_button.<a class="code" href="classButton.html#a21">detect</a>() ) {
03061                 mode_fac_hire_button.<a class="code" href="classButton.html#a24">push</a>();
03062                 sys.redraw_all_flag = 1;
03063                 <span class="keywordflow">return</span> 2;                                 <span class="comment">// BACK</span>
03064             }
03065             <span class="keywordflow">else</span>
03066                 <span class="keywordflow">if</span> ( mode_fac_next_button.<a class="code" href="classButton.html#a21">detect</a>() ) {
03067                     mode_fac_next_button.<a class="code" href="classButton.html#a24">push</a>();
03068                     sys.redraw_all_flag = 1;
03069                     <span class="keywordflow">return</span> 3;                                 <span class="comment">// NEXT</span>
03070                 }
03071                 <span class="keywordflow">else</span> {
03072                     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0; i&lt;show_department_detail_count; i++ ) {
03073                         <span class="keywordflow">if</span> ( mode_fac_detail_button[i].<a class="code" href="classButton.html#a21">detect</a>() ) {
03074                             <span class="comment">// call detail report</span>
03075                             mode_fac_detail_button[i].<a class="code" href="classButton.html#a24">push</a>();
03076                             sys.redraw_all_flag = 1;
03077                             department_array.selected_recno=i+1;
03078                             <span class="keywordflow">return</span> 1;
03079                         }
03080                     }
03081                 }
03082         }
03083         <span class="keywordflow">else</span>
03084             <span class="keywordflow">if</span> ( report_hired_detect() ) {
03085                 <span class="keywordflow">return</span> 1;
03086             }
03087 
03088         <span class="keywordflow">return</span> 0;
03089     }
03090 
03091     <span class="keywordflow">if</span>((current_report_type==REPORT_TYPE_DEPARTMENT_TURNOVER)||(current_report_type==REPORT_TYPE_INSTITUTION_TURNOVER)) {
03092         <span class="keywordflow">if</span> ( mode_fac_hire_button.<a class="code" href="classButton.html#a21">detect</a>() ) {
03093             mode_fac_hire_button.<a class="code" href="classButton.html#a24">push</a>();
03094             current_report_type = <a class="code" href="Ofac__sum_8cpp.html#a104a66">REPORT_TYPE_INSTITUTION_PROFILE1</a>;
03095             current_report_mode = <a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>;
03096             sys.redraw_all_flag = 1;
03097             <span class="keywordflow">return</span> 1;
03098         }
03099         <span class="keywordflow">else</span> {
03100             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0; i&lt;show_department_detail_count; i++ ) {
03101                 <span class="keywordflow">if</span> ( mode_fac_detail_button[i].<a class="code" href="classButton.html#a21">detect</a>() ) {
03102                     <span class="comment">// call detail report</span>
03103                     mode_fac_detail_button[i].<a class="code" href="classButton.html#a24">push</a>();
03104                     <span class="keywordflow">if</span>( current_report_type == REPORT_TYPE_INSTITUTION_TURNOVER )
03105                         department_array.selected_recno = i+1;
03106                     last_report_type = current_report_type;
03107                     current_report_type = REPORT_TYPE_DEPARTMENT_TURNOVER_DETAIL;
03108                     current_report_mode = <a class="code" href="Ofac__sum_8cpp.html#a106a74">REPORT_MODE_DEPARTMENT</a>;
03109                     sys.redraw_all_flag = 1;
03110                     <span class="comment">//                                  department_array.selected_recno=i+1;</span>
03111                     <span class="keywordflow">return</span> 1;
03112                 }
03113             }
03114         }
03115         vga.use_back();
03116     }
03117 
03118     <span class="keywordflow">if</span>((current_report_type!=REPORT_TYPE_DEPARTMENT_TURNOVER)&amp;&amp;(current_report_type!=REPORT_TYPE_INSTITUTION_TURNOVER)
03119        &amp;&amp;(current_report_type!=REPORT_TYPE_DEPARTMENT_TURNOVER_DETAIL))
03120 <span class="preprocessor">#endif</span>
03121 <span class="preprocessor"></span>
03122         <span class="keywordflow">if</span>(current_report_type != <a class="code" href="Ofac__sum_8cpp.html#a104a64">REPORT_TYPE_DEPARTMENT_DIRECTORY</a>) {
03123             <span class="comment">// pre-set the fac_rep 's page to the list</span>
03124             report_type=0;                                <span class="comment">// REPORT_TYPE_LIST;</span>
03125 
03126             <span class="comment">//------- detect type buttons --------//</span>
03127             <span class="keywordtype">int</span> summaryButtonGroupDetect;
03128 
03129             <span class="keywordflow">if</span>((summaryButtonGroupDetect = type_button_group.<a class="code" href="classButtonGroup.html#a4">detect</a>()) &gt;= 0) {
03130                 <span class="comment">//                      type_button_group[current_report_type].body_ptr = (void *) (type_button_up_bitmap[current_report_type] + 4);</span>
03131                 current_report_type = summaryButtonGroupDetect;
03132                 <span class="comment">//                      type_button_group[current_report_type].body_ptr = (void *) (type_button_down_bitmap[current_report_type] + 4);</span>
03133                 sys.redraw_all_flag = 1;
03134                 <span class="keywordflow">return</span> 1;
03135             }
03136         }
03137 
03138 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
03139 <span class="preprocessor"></span>    <span class="keywordflow">if</span> ( current_report_type == REPORT_TYPE_DEPARTMENT_TURNOVER_DETAIL )
03140         report_hired_detect();
03141 <span class="preprocessor">#endif</span>
03142 <span class="preprocessor"></span>
03143     <span class="keywordflow">if</span>(current_report_type == <a class="code" href="Ofac__sum_8cpp.html#a104a64">REPORT_TYPE_DEPARTMENT_DIRECTORY</a>) {
03144         report_detect();
03145         <span class="keywordflow">if</span>(faculty_res.report_type!=<a class="code" href="Ofac__sum_8cpp.html#a100a55">REPORT_RETIRE</a>)
03146             <span class="keywordflow">if</span>(mode_fac_sum_button.<a class="code" href="classButton.html#a21">detect</a>()) {
03147                 mode_fac_sum_button.<a class="code" href="classButton.html#a24">push</a>();
03148                 current_report_type = <a class="code" href="Ofac__sum_8cpp.html#a104a66">REPORT_TYPE_INSTITUTION_PROFILE1</a>;
03149                 current_report_mode = <a class="code" href="Ofac__sum_8cpp.html#a106a73">REPORT_MODE_INSTITUTION</a>;
03150                 sys.redraw_all_flag = 1;
03151                 <span class="keywordflow">return</span> 1;
03152             }
03153         vga.use_back();
03154     }
03155 
03156     <span class="keywordflow">if</span>(current_report_type == <a class="code" href="Ofac__sum_8cpp.html#a104a71">REPORT_TYPE_INSTITUTION_PROMOTION</a>) {
03157         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+130,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+130,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+640,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+170,<span class="stringliteral">"H1.4.1."</span>);
03158         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+130,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+180,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+640,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+220,<span class="stringliteral">"H1.4.2."</span>);
03159         <span class="keywordflow">if</span> (mode_fac_sum_rb1.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03160             player_school.faculty_promotion_difficulity
03161                 =*(mode_fac_sum_rb1.<a class="code" href="classRadioButton.html#m8">sel_num</a>);             <span class="comment">//BUGHERE</span>
03162             <span class="keywordflow">return</span> 1;
03163         }
03164         <span class="keywordflow">if</span> (mode_fac_sum_rb2.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03165             player_school.faculty_degree_to_which_priorities_reflected_in_promotion
03166                 =*(mode_fac_sum_rb2.<a class="code" href="classRadioButton.html#m8">sel_num</a>);             <span class="comment">//BUGHERE</span>
03167             <span class="keywordflow">return</span> 1;
03168         }
03169     }
03170 
03171     <span class="keywordflow">if</span>(current_report_type == <a class="code" href="Ofac__sum_8cpp.html#a104a70">REPORT_TYPE_INSTITUTION_SALARY</a>) {
03172 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
03173 <span class="preprocessor"></span>        help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+270-100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+20,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+270-10,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+290,<span class="stringliteral">"H1.2.1."</span>);
03174         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+555-100,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+20,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+555-10,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+290,<span class="stringliteral">"H1.2.2."</span>);
03175         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+15,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+295,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+260,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+318,<span class="stringliteral">"H1.2.3."</span>);
03176         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+15,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+318,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+260,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+341,<span class="stringliteral">"H1.2.4."</span>);
03177         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+350,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+295,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+600,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+318,<span class="stringliteral">"H1.2.5."</span>);
03178         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+350,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+318,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+600,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+341,<span class="stringliteral">"H1.2.6."</span>);
03179 <span class="preprocessor">#else</span>
03180 <span class="preprocessor"></span>        help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+250,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+20,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+350,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+290,<span class="stringliteral">"H1.2.1."</span>);
03181         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+570,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+20,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+690,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+290,<span class="stringliteral">"H1.2.2."</span>);
03182         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+15,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+295,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+350,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+318,<span class="stringliteral">"H1.2.3."</span>);
03183         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+15,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+318,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+350,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+341,<span class="stringliteral">"H1.2.4."</span>);
03184         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+365,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+295,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+690,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+318,<span class="stringliteral">"H1.2.5."</span>);
03185         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+365,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+318,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+690,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+341,<span class="stringliteral">"H1.2.6."</span>);
03186 <span class="preprocessor">#endif</span>
03187 <span class="preprocessor"></span>
03188         <span class="comment">/*              if (mode_fac_sum_rb1.detect())</span>
03189 <span class="comment">                        {       department_array.teaching_weight_input</span>
03190 <span class="comment">                        =*(mode_fac_sum_rb1.sel_num);           //BUGHERE</span>
03191 <span class="comment">                        return 1;</span>
03192 <span class="comment">                        }</span>
03193 <span class="comment">                        if (mode_fac_sum_rb2.detect())</span>
03194 <span class="comment">                        {       department_array.scholarship_weight_input</span>
03195 <span class="comment">                        =*(mode_fac_sum_rb2.sel_num);           //BUGHERE</span>
03196 <span class="comment">                        return 1;</span>
03197 <span class="comment">                        }</span>
03198 <span class="comment">                        if (mode_fac_sum_rb3.detect())</span>
03199 <span class="comment">                        {       department_array.research_weight_input</span>
03200 <span class="comment">                        =*(mode_fac_sum_rb3.sel_num);           //BUGHERE</span>
03201 <span class="comment">                        return 1;</span>
03202 <span class="comment">                        }</span>
03203 <span class="comment">                        if (mode_fac_sum_rb4.detect())</span>
03204 <span class="comment">                        {       department_array.gender_ethnic_equity_weight_input</span>
03205 <span class="comment">                        =*(mode_fac_sum_rb4.sel_num);           //BUGHERE</span>
03206 <span class="comment">                        return 1;</span>
03207 <span class="comment">                        }</span>
03208 <span class="comment">        */</span>
03209 
03210         vga.use_back();
03211         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;department_array.size();i++)
03212             <span class="keywordflow">if</span>(mode_fac_sum_valueslider[i].<a class="code" href="classValueSlider.html#a8">detect</a>()) {
03213                 <span class="keywordflow">if</span>( department_array.is_deleted(i+1)) {
03214                     <span class="keywordflow">continue</span>;
03215                 }
03216                 <a class="code" href="classDepartment.html">Department</a>* dept_ptr = department_array[i+1];
03217                 dept_ptr-&gt;<a class="code" href="classDepartment.html#m16">dept_salary_multiplier</a>=(float)(((double)*(mode_fac_sum_valueslider[i].<a class="code" href="classValueSlider.html#m7">var_ptr</a>))/100.0);
03218                 <span class="keywordflow">return</span> 1;
03219             }
03220         <span class="keywordflow">for</span>(i=0;i&lt;7;i++)
03221             <span class="keywordflow">if</span>(mode_fac_sum_valueslider2[i].<a class="code" href="classValueSlider.html#a8">detect</a>()) {
03222                 department_array.rank_age_group_salary_increase_multiplier[i]=(float)(((double)*(mode_fac_sum_valueslider2[i].<a class="code" href="classValueSlider.html#m7">var_ptr</a>))/100.0);
03223                 <span class="keywordflow">return</span> 1;
03224             }
03225         <span class="keywordflow">if</span>(mode_fac_sum_valueslider3[0].<a class="code" href="classValueSlider.html#a8">detect</a>()) {
03226             department_array.teaching_weight_input=((float)*(mode_fac_sum_valueslider3[0].<a class="code" href="classValueSlider.html#m7">var_ptr</a>))/100;
03227             <span class="keywordflow">return</span> 1;
03228         }
03229         <span class="keywordflow">if</span>(mode_fac_sum_valueslider3[1].<a class="code" href="classValueSlider.html#a8">detect</a>()) {
03230             department_array.scholarship_weight_input=((float)*(mode_fac_sum_valueslider3[1].<a class="code" href="classValueSlider.html#m7">var_ptr</a>))/100;
03231             <span class="keywordflow">return</span> 1;
03232         }
03233         <span class="keywordflow">if</span>(mode_fac_sum_valueslider3[2].<a class="code" href="classValueSlider.html#a8">detect</a>()) {
03234             department_array.research_weight_input=((float)*(mode_fac_sum_valueslider3[2].<a class="code" href="classValueSlider.html#m7">var_ptr</a>))/100;
03235             <span class="keywordflow">return</span> 1;
03236         }
03237         <span class="keywordflow">if</span>(mode_fac_sum_valueslider3[3].<a class="code" href="classValueSlider.html#a8">detect</a>()) {
03238             department_array.gender_ethnic_equity_weight_input=((float)*(mode_fac_sum_valueslider3[3].<a class="code" href="classValueSlider.html#m7">var_ptr</a>))/100;
03239             <span class="keywordflow">return</span> 1;
03240         }
03241     }
03242 
03243     <span class="keywordflow">if</span>(current_report_type == <a class="code" href="Ofac__sum_8cpp.html#a104a68">REPORT_TYPE_INSTITUTION_ACTIVITIES</a>) {
03244         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+105,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+320,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+160,<span class="stringliteral">"H1.1.1."</span>);
03245         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+165,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+320,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+220,<span class="stringliteral">"H1.1.2."</span>);
03246         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+225,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+320,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+280,<span class="stringliteral">"H1.1.3."</span>);
03247         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+285,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+320,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+330,<span class="stringliteral">"H1.1.4."</span>);
03248         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+340,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+105,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+660,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+160,<span class="stringliteral">"H1.1.5."</span>);
03249         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+340,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+165,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+660,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+220,<span class="stringliteral">"H1.1.6."</span>);
03250         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+340,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+225,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+660,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+280,<span class="stringliteral">"H1.1.7."</span>);
03251         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+340,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+285,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+660,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+330,<span class="stringliteral">"H1.1.8."</span>);
03252     }
03253 
03254     <span class="keywordflow">if</span>(current_report_type == <a class="code" href="Ofac__sum_8cpp.html#a104a62">REPORT_TYPE_DEPARTMENT_ACTIVITIES</a>) {
03255         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+105,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+320,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+160,<span class="stringliteral">"H1.1.1."</span>);
03256         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+165,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+320,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+220,<span class="stringliteral">"H1.1.2."</span>);
03257         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+225,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+320,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+280,<span class="stringliteral">"H1.1.3."</span>);
03258         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+285,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+320,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+330,<span class="stringliteral">"H1.1.4."</span>);
03259         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+340,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+105,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+660,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+160,<span class="stringliteral">"H1.1.5."</span>);
03260         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+340,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+165,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+660,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+220,<span class="stringliteral">"H1.1.6."</span>);
03261         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+340,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+225,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+660,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+280,<span class="stringliteral">"H1.1.7."</span>);
03262         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+340,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+285,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+660,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+330,<span class="stringliteral">"H1.1.8."</span>);
03263 
03264         vga.use_back();
03265         <span class="keywordflow">if</span>(mode_fac_sum_valueslider[0].<a class="code" href="classValueSlider.html#a8">detect</a>()) {
03266             <span class="keywordtype">int</span> deptRecno;
03267             <span class="keywordflow">if</span>( department_array.selected_recno )
03268                 deptRecno = department_array.selected_recno;
03269             department_array[deptRecno]-&gt;pressure_to_change_teaching_load
03270                 =(*(mode_fac_sum_valueslider[0].<a class="code" href="classValueSlider.html#m7">var_ptr</a>));
03271             <span class="keywordflow">return</span> 1;
03272         }
03273 
03274         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;6;i++)
03275             <span class="keywordflow">if</span>(mode_fac_sum_valueslider[i+1].<a class="code" href="classValueSlider.html#a8">detect</a>()) {
03276                 <span class="keywordtype">int</span> deptRecno;
03277                 <span class="keywordflow">if</span>( department_array.selected_recno )
03278                     deptRecno = department_array.selected_recno;
03279                 department_array[deptRecno]-&gt;priority_discretionary_hour_array[i]
03280                     =(*(mode_fac_sum_valueslider[i+1].<a class="code" href="classValueSlider.html#m7">var_ptr</a>));
03281                 <span class="keywordflow">return</span> 1;
03282             }
03283     }
03284     <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a63">REPORT_TYPE_DEPARTMENT_RESEARCH</a>) {
03285         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;2;i++)
03286             <span class="keywordflow">if</span>(mode_fac_sum_buttongroup[i].<a class="code" href="classButtonGroup.html#a4">detect</a>()) {
03287                 current_graph_mode=i;
03288                 mode_fac_sum_buttongroup[i].<a class="code" href="classButtonGroup.html#a5">push</a>();
03289                 mode_fac_sum_buttongroup[1-i].pop();
03290                 sys.redraw_all_flag = 1;
03291                 <span class="keywordflow">return</span> 1;
03292             }
03293     }
03294     <span class="keywordflow">if</span>(current_report_type==<a class="code" href="Ofac__sum_8cpp.html#a104a69">REPORT_TYPE_INSTITUTION_RESEARCH</a>) {
03295         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;2;i++)
03296             <span class="keywordflow">if</span>(mode_fac_sum_buttongroup[i].<a class="code" href="classButtonGroup.html#a4">detect</a>()) {
03297                 current_graph_mode=i;
03298                 mode_fac_sum_buttongroup[i].<a class="code" href="classButtonGroup.html#a5">push</a>();
03299                 mode_fac_sum_buttongroup[1-i].pop();
03300                 sys.redraw_all_flag = 1;
03301                 <span class="keywordflow">return</span> 1;
03302             }
03303     }
03304     <span class="keywordflow">if</span>(current_report_type == <a class="code" href="Ofac__sum_8cpp.html#a104a65">REPORT_TYPE_DEPARTMENT_HIRING</a>) {
03305         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+22+25,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+42+25,<span class="stringliteral">"H1.3.1."</span>);
03306         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+47+25,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+67+25,<span class="stringliteral">"H1.3.2."</span>);
03307         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+72+25,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+92+25,<span class="stringliteral">"H1.3.3."</span>);
03308         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+102+25,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+122+25,<span class="stringliteral">"H1.3.4."</span>);
03309         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+127+25,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+147+25,<span class="stringliteral">"H1.3.5."</span>);
03310         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+157+25,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+177+25,<span class="stringliteral">"H1.3.6."</span>);
03311         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+182+25,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+202+25,<span class="stringliteral">"H1.3.7."</span>);
03312         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+212+25,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+232+25,<span class="stringliteral">"H1.3.8."</span>);
03313         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+237+25,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+257+25,<span class="stringliteral">"H1.3.9."</span>);
03314         help.set_help(<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+262+25,<a class="code" href="Ofac__sum_8cpp.html#a97a46">REPORT_X1</a>+720,<a class="code" href="Ofac__sum_8cpp.html#a97a47">REPORT_Y1</a>+282+25,<span class="stringliteral">"H1.3.10."</span>);
03315         <span class="comment">//              help.set_help(REPORT_X1+285,REPORT_Y1+290,REPORT_X1+485,REPORT_Y1+310,"H1.3.11.");</span>
03316         <span class="keywordflow">if</span> (mode_fac_sum_rb1.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03317             <span class="comment">//BUGHERE</span>
03318             cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m21">assistant_professor_priority</a>=(char)*(mode_fac_sum_rb1.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
03319             <span class="keywordflow">return</span> 1;
03320         }
03321         <span class="keywordflow">if</span> (mode_fac_sum_rb2.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03322             <span class="comment">//BUGHERE</span>
03323             cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m22">tenured_faculty_priority</a>=(char)*(mode_fac_sum_rb2.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
03324             <span class="keywordflow">return</span> 1;
03325         }
03326         <span class="keywordflow">if</span> (mode_fac_sum_rb3.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03327             <span class="comment">//BUGHERE</span>
03328             cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m20">cost_containment_priority</a>=(char)*(mode_fac_sum_rb3.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
03329             <span class="keywordflow">return</span> 1;
03330         }
03331         <span class="keywordflow">if</span> (mode_fac_sum_rb4.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03332             <span class="comment">//BUGHERE</span>
03333             cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m23">longterm_adjunct_faculty_priority</a>=(char)*(mode_fac_sum_rb4.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
03334             <span class="keywordflow">return</span> 1;
03335         }
03336         <span class="keywordflow">if</span> (mode_fac_sum_rb5.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03337             <span class="comment">//BUGHERE</span>
03338             cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m24">shortterm_adjunct_faculty_priority</a>=(char)*(mode_fac_sum_rb5.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
03339             <span class="keywordflow">return</span> 1;
03340         }
03341         <span class="keywordflow">if</span> (mode_fac_sum_rb6.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03342             <span class="comment">//BUGHERE</span>
03343             cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m25">female_faculty_priority</a>=(char)*(mode_fac_sum_rb6.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
03344             <span class="keywordflow">return</span> 1;
03345         }
03346         <span class="keywordflow">if</span> (mode_fac_sum_rb7.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03347             <span class="comment">//BUGHERE</span>
03348             cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m26">minority_faculty_priority</a>=(char)*(mode_fac_sum_rb7.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
03349             <span class="keywordflow">return</span> 1;
03350         }
03351 
03352         <span class="keywordflow">if</span> (mode_fac_sum_rb8.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03353             <span class="comment">//BUGHERE</span>
03354             cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m17">teaching_talent_priority</a>=(char)*(mode_fac_sum_rb8.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
03355             <span class="keywordflow">return</span> 1;
03356         }
03357         <span class="keywordflow">if</span> (mode_fac_sum_rb9.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03358             <span class="comment">//BUGHERE</span>
03359             cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m18">scholarship_talent_priority</a>=(char)*(mode_fac_sum_rb9.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
03360             <span class="keywordflow">return</span> 1;
03361         }
03362         <span class="keywordflow">if</span> (mode_fac_sum_rb10.<a class="code" href="classRadioButton.html#a6">detect</a>()) {
03363             <span class="comment">//BUGHERE</span>
03364             cur_dept_ptr-&gt;<a class="code" href="classDepartment.html#m19">research_talent_priority</a>=(char)*(mode_fac_sum_rb10.<a class="code" href="classRadioButton.html#m8">sel_num</a>);
03365             <span class="keywordflow">return</span> 1;
03366         }
03367         vga.use_front();
03368         <span class="comment">/*</span>
03369 <span class="comment">          if (mode_fac_sum_button.detect())</span>
03370 <span class="comment">          {</span>
03371 <span class="comment">          String str;</span>
03372 <span class="comment">          str="Are you sure? This action will commit $";</span>
03373 <span class="comment">          float xxx=0;</span>
03374 <span class="comment">          xxx=(finance.total_hires&gt;0)?finance.cost_limit/finance.total_hires:0; //## fred 0406</span>
03375 <span class="comment">          xxx = (xxx&lt;=0) ? cur_dept_ptr-&gt;peer_numeraire_salary : 0;                                     //## fred 0406</span>
03376 <span class="comment">          str+=m.format(xxx,4);</span>
03377 <span class="comment">          str+=" from this year's budget. \n";</span>
03378 <span class="comment">          str+="Salary expenditure and any research revenue would start at the \n\ </span>
03379 <span class="comment">          beginning of the following month, and the person would be \n\ </span>
03380 <span class="comment">          available for teaching during the next semester. ";</span>
03381 <span class="comment">          int rc = box.ask(str.str_buf);</span>
03382 <span class="comment">          if(rc==1)</span>
03383 <span class="comment">          {</span>
03384 <span class="comment">          //                            box.msg("Salary expenditure and any research revenue would start \n\ </span>
03385 <span class="comment">          //                                                    at the beginning of the following month, and the person \n\ </span>
03386 <span class="comment">          //                                                    would be available for teaching during the next semester. ");</span>
03387 <span class="comment">          cur_dept_ptr-&gt;faculty_hiring(true);</span>
03388 <span class="comment">          }</span>
03389 <span class="comment">          return 1;</span>
03390 <span class="comment">          }</span>
03391 <span class="comment">        */</span>
03392     }
03393     <span class="keywordflow">return</span> 0;
03394 }
03395 
03396 <span class="comment">//------- End of function FacultySummary::report_detect ------//</span>
03397 
<a name="l03398"></a><a class="code" href="classFacultyRes.html#a17">03398</a> <span class="keywordtype">void</span> <a class="code" href="classFacultyRes.html#a17">FacultyRes::summary_report_deinit</a>() {
03399     <span class="keywordflow">if</span> (text_refresh_bitmap1) {
03400         <a class="code" href="ALL_8H.html#a8">mem_del</a>(text_refresh_bitmap1);
03401         text_refresh_bitmap1=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
03402     }
03403 
03404     <span class="comment">/*</span>
03405 <span class="comment">      //------- deinit type buttons --------//</span>
03406 <span class="comment">      if (*type_button_up_bitmap)</span>
03407 <span class="comment">      {</span>
03408 <span class="comment">      for (int i = 0; i &lt; FAC_SUM_REPORT_TYPE_COUNT; i++)</span>
03409 <span class="comment">      {</span>
03410 <span class="comment">      mem_del(type_button_up_bitmap[i]);</span>
03411 <span class="comment">      mem_del(type_button_down_bitmap[i]);</span>
03412 <span class="comment">      type_button_up_bitmap[i] = NULL;</span>
03413 <span class="comment">      type_button_down_bitmap[i] = NULL;</span>
03414 <span class="comment">      }</span>
03415 <span class="comment">      }</span>
03416 <span class="comment">    */</span>
03417 
03418     <span class="comment">//  if (*mode_button_up_bitmap)</span>
03419     <span class="comment">//  {</span>
03420     <span class="comment">//          for (int i = 0; i &lt; 2; i++)</span>
03421     <span class="comment">//          {</span>
03422     <span class="comment">//                  mem_del(mode_button_up_bitmap[i]);</span>
03423     <span class="comment">//                  mem_del(mode_button_down_bitmap[i]);</span>
03424     <span class="comment">//                  mode_button_up_bitmap[i] = NULL;</span>
03425     <span class="comment">//                  mode_button_down_bitmap[i] = NULL;</span>
03426     <span class="comment">//          }</span>
03427     <span class="comment">//  }</span>
03428 
03429     fac_sum_rank_piechart.<a class="code" href="classPieChart.html#a11">deinit</a>();
03430     fac_sum_gender_ethnic_piechart.<a class="code" href="classPieChart.html#a11">deinit</a>();
03431     mode_fac_sum_rb1.<a class="code" href="classRadioButton.html#a3">deinit</a>();
03432     mode_fac_sum_rb2.<a class="code" href="classRadioButton.html#a3">deinit</a>();
03433     mode_fac_sum_rb3.<a class="code" href="classRadioButton.html#a3">deinit</a>();
03434     mode_fac_sum_rb4.<a class="code" href="classRadioButton.html#a3">deinit</a>();
03435     mode_fac_sum_rb5.<a class="code" href="classRadioButton.html#a3">deinit</a>();
03436     mode_fac_sum_rb6.<a class="code" href="classRadioButton.html#a3">deinit</a>();
03437     mode_fac_sum_rb7.<a class="code" href="classRadioButton.html#a3">deinit</a>();
03438     mode_fac_sum_rb8.<a class="code" href="classRadioButton.html#a3">deinit</a>();
03439     mode_fac_sum_rb9.<a class="code" href="classRadioButton.html#a3">deinit</a>();
03440     mode_fac_sum_rb10.<a class="code" href="classRadioButton.html#a3">deinit</a>();
03441 
03442     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
03443         mode_fac_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a7">deinit</a>();
03444     <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>;i++)
03445         mode_fac_sum_valueslider[i].<a class="code" href="classValueSlider.html#a5">deinit</a>();
03446     <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>;i++)
03447         mode_fac_sum_valueslider2[i].<a class="code" href="classValueSlider.html#a5">deinit</a>();
03448     <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>;i++)
03449         mode_fac_sum_valueslider3[i].<a class="code" href="classValueSlider.html#a5">deinit</a>();
03450 
03451 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
03452 <span class="preprocessor"></span>    department_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a7">deinit</a>();
03453     gender_ethnic_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a7">deinit</a>();
03454     rank_equity_graph.<a class="code" href="classGraphPerformanceIndicatorYear.html#a7">deinit</a>();
03455 <span class="preprocessor">#endif</span>
03456 <span class="preprocessor"></span>
03457     <span class="comment">// ##### begin Gilbert 25/04/2001 ######//</span>
03458     mode_fac_sum_graphmonth1.<a class="code" href="classGraphMonth.html#a7">deinit</a>();
03459     mode_fac_sum_graphmonth2.<a class="code" href="classGraphMonth.html#a7">deinit</a>();
03460     mode_fac_sum_doublebar_y.<a class="code" href="classGraphDoubleBarYear.html#a7">deinit</a>();
03461     mode_fac_sum_doublebar_m.<a class="code" href="classGraphDoubleBarMonth.html#a7">deinit</a>();
03462 
03463     <span class="keywordflow">for</span>(i=0;i&lt;16;++i)
03464         mode_fac_sum_data1[i].<a class="code" href="classText.html#a26">deinit</a>();
03465     <span class="keywordflow">for</span>(i=0;i&lt;4;++i)
03466         mode_fac_sum_data2[i].<a class="code" href="classText.html#a26">deinit</a>();
03467     <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="Gamedef_8h.html#a10">MAX_DEPARTMENT</a>;++i)
03468         mode_fac_sum_data3[i].<a class="code" href="classText.html#a26">deinit</a>();
03469     <span class="keywordflow">for</span>(i=0;i&lt;7;++i)
03470         mode_fac_sum_data4[i].<a class="code" href="classText.html#a26">deinit</a>();
03471 
03472     <span class="keywordflow">for</span>(i=0;i&lt;6;++i)
03473         mode_fac_sum_graphicon_y[i].<a class="code" href="classGraphPerformanceIndicatorYear.html#a7">deinit</a>();
03474     <span class="keywordflow">for</span>(i=0;i&lt;16;++i)
03475         mode_fac_sum_graphicon_t[i].<a class="code" href="classGraphPerformanceIndicatorTrimester.html#a7">deinit</a>();
03476     <span class="keywordflow">for</span>(i=0;i&lt;1;++i)
03477         mode_fac_sum_graphicon_m[i].<a class="code" href="classGraphPerformanceIndicatorMonth.html#a7">deinit</a>();
03478 
03479     mode_fac_sum_button.<a class="code" href="classButton.html#a2">deinit</a>();
03480     mode_fac_sum_buttongroup.<a class="code" href="classButtonGroup.html#a2">deinit_buttons</a>();
03481     mode_fac_sum_text1.<a class="code" href="classText.html#a26">deinit</a>();
03482 
03483     type_button_group.<a class="code" href="classButtonGroup.html#a2">deinit_buttons</a>();             <span class="comment">// but init again soon if just switching report</span>
03484     <span class="comment">// ##### end Gilbert 25/04/2001 ######//</span>
03485 
03486     report_init_flag=0;
03487 }
03488 
03489 <span class="comment">//------- End of function FacultySummary::report_deinit ------//</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:37:30 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
