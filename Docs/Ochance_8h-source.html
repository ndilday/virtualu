<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Ochance.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Ochance.h</h1><a href="Ochance_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : OCHANCE.H</span>
00002 <span class="comment">//Description : Object Random Events</span>
00003 <span class="comment">//Owner                 : Fred</span>
00004 
00005 <span class="preprocessor">#ifndef __OCHANCE_H</span>
00006 <span class="preprocessor"></span><span class="preprocessor">#define __OCHANCE_H</span>
00007 <span class="preprocessor"></span>
00008 <span class="preprocessor">#include &lt;<a class="code" href="OTASK_8H.html">OTASK.H</a>&gt;</span>
00009 
00010 <span class="comment">//------- Define ----------//</span>
00011 
<a name="l00012"></a><a class="code" href="Ochance_8h.html#a0">00012</a> <span class="keyword">typedef</span> void (*<a class="code" href="Ochance_8h.html#a0">EventFP</a>)();
<a name="l00013"></a><a class="code" href="Ochance_8h.html#a1">00013</a> <span class="keyword">typedef</span> void (<a class="code" href="Ochance_8h.html#a1">EventF</a>)();
00014 
<a name="l00016"></a><a class="code" href="structEventStruct.html">00016</a> <span class="keyword">struct </span><a class="code" href="structEventStruct.html">EventStruct</a> {
<a name="l00017"></a><a class="code" href="structEventStruct.html#m0">00017</a>     <a class="code" href="Ochance_8h.html#a0">EventFP</a> <a class="code" href="structEventStruct.html#m0">event_func</a>;
<a name="l00018"></a><a class="code" href="structEventStruct.html#m1">00018</a>     <span class="keywordtype">short</span>   <a class="code" href="structEventStruct.html#m1">odd_chance</a>;                             <span class="comment">// relative probabiltiy             //BUGHERE define for future only</span>
00019 };
00020 
00021 <span class="preprocessor">#include &lt;ONEWS.H&gt;</span>
00022 
00023 <span class="comment">//--------- Define class ChanceEvent ----------//</span>
00024 
<a name="l00027"></a><a class="code" href="classChanceEvent.html">00027</a> <span class="keyword">class </span><a class="code" href="classChanceEvent.html">ChanceEvent</a> {
00028 <span class="keyword">public</span>:
00029     <span class="comment">//---- vars for storing the effects of the chance events ----//</span>
00030 
<a name="l00031"></a><a class="code" href="classChanceEvent.html#m0">00031</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m0">alumni_die_gift</a>;
<a name="l00032"></a><a class="code" href="classChanceEvent.html#m1">00032</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m1">alumni_die_financial_year</a>;
<a name="l00033"></a><a class="code" href="classChanceEvent.html#m2">00033</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m2">plagiarism_scandal_n</a>;
<a name="l00034"></a><a class="code" href="classChanceEvent.html#m3">00034</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m3">yield_for_profit_competition</a>;
<a name="l00035"></a><a class="code" href="classChanceEvent.html#m4">00035</a>     <span class="keywordtype">int</span>   <a class="code" href="classChanceEvent.html#m4">minority_student_percentage_falls_consYrs</a>;
<a name="l00036"></a><a class="code" href="classChanceEvent.html#m5">00036</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m5">true_cost_education</a>;
<a name="l00037"></a><a class="code" href="classChanceEvent.html#m6">00037</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m6">research_adjust_multiplier</a>;
<a name="l00038"></a><a class="code" href="classChanceEvent.html#m7">00038</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m7">football_game_bonus</a>;                      <span class="comment">// $(000)</span>
<a name="l00039"></a><a class="code" href="classChanceEvent.html#m8">00039</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m8">basketball_game_bonus</a>;                    <span class="comment">// $(000)</span>
<a name="l00040"></a><a class="code" href="classChanceEvent.html#m9">00040</a>     <span class="keywordtype">int</span>   <a class="code" href="classChanceEvent.html#m9">scandal_in_alt_drop_gift</a>;               <span class="comment">//how much do scandal_in_alt eff. gifts.  //## chea 160699</span>
<a name="l00041"></a><a class="code" href="classChanceEvent.html#m10">00041</a>     <span class="keywordtype">int</span>   <a class="code" href="classChanceEvent.html#m10">athlete_special_ban_year</a>;               <span class="comment">//how many year ban from athlete_scandal</span>
<a name="l00042"></a><a class="code" href="classChanceEvent.html#m11">00042</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m11">capital_campaign_lock_ins_pect</a>;         <span class="comment">//## chea 230699 //for capital_campaign only</span>
<a name="l00043"></a><a class="code" href="classChanceEvent.html#m12">00043</a>     <span class="keywordtype">int</span>  <a class="code" href="classChanceEvent.html#m12">research_prize_dept_recno</a>;
<a name="l00044"></a><a class="code" href="classChanceEvent.html#m13">00044</a>     <span class="keywordtype">int</span>  <a class="code" href="classChanceEvent.html#m13">research_prize_faculty_recno</a>;
<a name="l00045"></a><a class="code" href="classChanceEvent.html#m14">00045</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m14">research_prize_happen_date</a>;               <span class="comment">//## chea 250699</span>
<a name="l00046"></a><a class="code" href="classChanceEvent.html#m15">00046</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m15">research_prize_happen_month</a>;              <span class="comment">//## chea 250699</span>
<a name="l00047"></a><a class="code" href="classChanceEvent.html#m16">00047</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m16">research_prize_happen_year</a>;               <span class="comment">//## chea 250699</span>
<a name="l00048"></a><a class="code" href="classChanceEvent.html#m17">00048</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m17">dept_technology_transfer</a>;                 <span class="comment">//## chea 260699</span>
00049     <span class="comment">//## chea 260699</span>
<a name="l00050"></a><a class="code" href="classChanceEvent.html#m18">00050</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m18">dept_technology_transfer_research_amount</a>;
<a name="l00051"></a><a class="code" href="classChanceEvent.html#m19">00051</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m19">dept_technology_transfer_start_year</a>;      <span class="comment">//## chea 260699</span>
<a name="l00052"></a><a class="code" href="classChanceEvent.html#m20">00052</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m20">dept_technology_transfer_start_month</a>;     <span class="comment">//## chea 260699</span>
<a name="l00053"></a><a class="code" href="classChanceEvent.html#m21">00053</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m21">research_prize_flag</a>;                      <span class="comment">//## chea 091199 4 chance only</span>
<a name="l00054"></a><a class="code" href="classChanceEvent.html#m22">00054</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m22">profit_competition_end_date</a>;              <span class="comment">//## chea 091199 4 chance only</span>
<a name="l00055"></a><a class="code" href="classChanceEvent.html#m23">00055</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m23">profit_competition_act</a>;                   <span class="comment">//## chea 091199 4 chance only</span>
<a name="l00056"></a><a class="code" href="classChanceEvent.html#m24">00056</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m24">stock_dir</a>;                                <span class="comment">//## chea 221199 stock market dir</span>
<a name="l00057"></a><a class="code" href="classChanceEvent.html#m25">00057</a>     <span class="keywordtype">char</span>  <a class="code" href="classChanceEvent.html#m25">court_limit_minority_flag</a>;
00058 
<a name="l00059"></a><a class="code" href="classChanceEvent.html#m26">00059</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m26">operating_reserve_modifier</a>;
<a name="l00060"></a><a class="code" href="classChanceEvent.html#m27">00060</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m27">gift_modifier</a>;
<a name="l00061"></a><a class="code" href="classChanceEvent.html#m28">00061</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m28">gift_growth_rate_multiplier</a>;
<a name="l00062"></a><a class="code" href="classChanceEvent.html#m29">00062</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m29">capital_campaign_end_year</a>;
00063 
00064 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00065 <span class="preprocessor"></span>    <span class="comment">// these two event has no news associated, thus not randomly generated</span>
00066     <span class="comment">// see OPSCH_PO.CPP PlayerSchool::think_protagonist</span>
00067     <span class="keywordtype">float</span> alumni_budget_increase;                 <span class="comment">// percent increase in alumni budget (100 for 100%)</span>
00068     <span class="keywordtype">int</span> alumni_budget_financial_year;
00069     <span class="keywordtype">float</span> athletics_budget_amount;                <span class="comment">// amount added to next year athetcis budget</span>
00070     <span class="keywordtype">int</span> athletics_budget_financial_year;
00071 <span class="preprocessor">#endif</span>
00072 <span class="preprocessor"></span>
00073     <span class="comment">//---- vars that affect other vars with lasting effect ----//</span>
00074 
<a name="l00075"></a><a class="code" href="classChanceEvent.html#m30">00075</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m30">extra_effect_staff_morale</a>;
<a name="l00076"></a><a class="code" href="classChanceEvent.html#m31">00076</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m31">extra_effect_media_att</a>;
<a name="l00077"></a><a class="code" href="classChanceEvent.html#m32">00077</a>     <span class="keywordtype">float</span> <a class="code" href="classChanceEvent.html#m32">extra_effect_alumni_morale</a>;
00078 
00079     <span class="comment">/*</span>
00080 <span class="comment">      int       scandalous_fund_use;</span>
00081 <span class="comment">      int   scan_fund_use_flag;  //## chea 091199 equql to 1 if scandalous_fund_use() call</span>
00082 <span class="comment"></span>
00083 <span class="comment">      int       media_att_count_down;  //## chea 091199 count how many time do the media_att drop</span>
00084 <span class="comment">      int       media_att_count_up;  //## chea 091199 count how many time do the media_att drop</span>
00085 <span class="comment">      int       alumni_morale_drop;  //## chea 091199 count how many time to do the alumni_morale_drop</span>
00086 <span class="comment">      int       alumni_morale_rise;  //## chea 091199 count how many time to do the alumni_morale_rise</span>
00087 <span class="comment">    */</span>
<a name="l00088"></a><a class="code" href="classChanceEvent.html#m33">00088</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m33">test_chance</a>;                              <span class="comment">//## chea021000 for testing chance card only</span>
00089 
00090     <span class="comment">//-------------------------------------------//</span>
00091 
<a name="l00092"></a><a class="code" href="classChanceEvent.html#m34">00092</a>     <span class="keywordtype">char</span> * <a class="code" href="classChanceEvent.html#m34">news_str</a>;
<a name="l00093"></a><a class="code" href="classChanceEvent.html#m35">00093</a>     <span class="keywordtype">char</span> * <a class="code" href="classChanceEvent.html#m35">date_str</a>;
<a name="l00094"></a><a class="code" href="classChanceEvent.html#m36">00094</a>     <span class="keywordtype">char</span> <a class="code" href="classChanceEvent.html#m36">news_date_str</a>[55];
<a name="l00095"></a><a class="code" href="classChanceEvent.html#m37">00095</a>     <a class="code" href="classString.html">String</a> <a class="code" href="classChanceEvent.html#m37">news_news_str</a>;
00096 
<a name="l00097"></a><a class="code" href="classChanceEvent.html#m38">00097</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m38">any_event_last_happen_date</a>;               <span class="comment">// any events.</span>
<a name="l00098"></a><a class="code" href="classChanceEvent.html#m39">00098</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m39">event_last_happen_date</a>[<a class="code" href="Onews_8h.html#a51a44">NEWS_ID_COUNT</a>];    <span class="comment">// keep track of specific events.</span>
00099 
<a name="l00100"></a><a class="code" href="classChanceEvent.html#m40">00100</a>     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#m40">any_task_last_happen_date</a>;
<a name="l00101"></a><a class="code" href="classChanceEvent.html#m41">00101</a>     <span class="keywordtype">int</span>   <a class="code" href="classChanceEvent.html#m41">task_last_happen_date</a>[<a class="code" href="OTASK_8H.html#a0">TASK_COUNT</a>];
00102 
00103 <span class="keyword">public</span>:
00104     <span class="keywordtype">void</span>  <a class="code" href="classChanceEvent.html#a0">init</a>();
00105     <span class="keywordtype">void</span>  <a class="code" href="classChanceEvent.html#a1">deinit</a>();
00106 
00107     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#a2">write_file</a>(<a class="code" href="classFile.html">File</a>* filePtr);
00108     <span class="keywordtype">int</span> <a class="code" href="classChanceEvent.html#a3">read_file</a>(<a class="code" href="classFile.html">File</a>* filePtr);
00109 
00110     <span class="keywordtype">void</span>  <a class="code" href="classChanceEvent.html#a4">next_day</a>();
00111 
00112 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00113 <span class="preprocessor"></span>    <span class="comment">// these two event has no news associated, thus not randomly generated</span>
00114     <span class="comment">// see OPSCH_PO.CPP PlayerSchool::think_protagonist</span>
00115     <span class="comment">// percent increase in alumni budget (100 for 100%)</span>
00116     <span class="keywordtype">void</span>  signal_alumni_budget_increase(<span class="keywordtype">float</span> percentInc, <span class="keywordtype">int</span> financialYear);
00117     <span class="comment">// amount added to next year athetcis budget</span>
00118     <span class="keywordtype">void</span>  signal_athletics_budget_amount(<span class="keywordtype">float</span> amount, <span class="keywordtype">int</span> financialYear);
00119 <span class="preprocessor">#endif</span>
00120 <span class="preprocessor"></span>
00121 <span class="keyword">private</span>:
00122     <span class="keywordtype">void</span>  process_chance_event();
00123     <span class="keywordtype">void</span>  process_objective_event();
00124 
00125     <span class="keywordtype">void</span>  update_chance_vars();
00126     <span class="keywordtype">void</span>  process_individual_chance();
00127 };
00128 
<a name="l00129"></a><a class="code" href="Ochance_8h.html#a2">00129</a> <span class="keyword">extern</span> <a class="code" href="classChanceEvent.html">ChanceEvent</a> <a class="code" href="Ochance_8h.html#a2">chance_event</a>;
00130 
00131 <span class="comment">//---------------------------------------//</span>
00132 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:37:17 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
