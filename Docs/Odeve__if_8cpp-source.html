<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Odeve_if.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Odeve_if.cpp</h1><a href="Odeve__if_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Filename    : ODEVE_IF.CPP</span>
00002 <span class="comment">//Description : Development (Development and Alumni Affairs Office) class</span>
00003 <span class="comment">// owner                        : Kevin(Ho)</span>
00004 <span class="comment">// Notes:       Steps to introduce a new class of user interface</span>
00005 <span class="comment">//                              1.      construct the new class</span>
00006 <span class="comment">//                              2.      in sys.h, add the new MODE, e.g. MODE_ADMISSIONS_AND_FINANCIAL_OFFICE</span>
00007 <span class="comment">//                              3.      include the new header file in cc.cpp, osysdisp.cpp, osysdet.cpp</span>
00008 <span class="comment">//                              4.      in cc.cpp, declare a global object of the new class, with the name matching the 'extern' statement in the header file</span>
00009 <span class="comment">//                              5.      in osysdisp.cpp, under switch(view_mode), add the redirection to the display function</span>
00010 <span class="comment">//                              6.      in osysdet.cpp, under Sys::detect_view, add the redirection to the detect function</span>
00011 <span class="comment">//                              7.      in osysdet.cpp, under Sys::process_key, add the new hot key (optional)</span>
00012 <span class="comment">//                              8.      in osysdet.cpp, under Sys::detect_button, modify if necessary (see the comments there)</span>
00013 <span class="comment">//                              9.      the deinit function (AdmOffice::deinit()) can be called when the view_mode in 'sys' object is switched</span>
00014 <span class="comment">//                                      the function frees memory occupied by this object</span>
00015 <span class="comment">//                                      the report function would re-allocate memory when it is called (note the report_init_flag)</span>
00016 <span class="comment">//                                      notice the beginning section of Sys::disp_frame()</span>
00017 <span class="comment">// Kevin 0723</span>
00018 
00019 <span class="preprocessor">#include &lt;OSYS.H&gt;</span>
00020 <span class="preprocessor">#include &lt;<a class="code" href="OSTR_8H.html">OSTR.H</a>&gt;</span>
00021 <span class="preprocessor">#include &lt;OMISC.H&gt;</span>
00022 <span class="preprocessor">#include &lt;<a class="code" href="OGAMESET_8H.html">OGAMESET.H</a>&gt;</span>
00023 <span class="preprocessor">#include &lt;OWORLDMT.H&gt;</span>
00024 <span class="preprocessor">#include &lt;ODEVELOP.H&gt;</span>
00025 <span class="preprocessor">#include &lt;<a class="code" href="OVGA_8H.html">OVGA.H</a>&gt;</span>
00026 <span class="preprocessor">#include &lt;OIFACE.H&gt;</span>
00027 <span class="preprocessor">#include &lt;OINFO.H&gt;</span>
00028 <span class="preprocessor">#include &lt;<a class="code" href="COLOR_8H.html">COLOR.H</a>&gt;</span>
00029 <span class="preprocessor">#include &lt;OFONT.H&gt;</span>
00030 <span class="preprocessor">#include &lt;OGAMESTR.H&gt;</span>
00031 <span class="preprocessor">#include &lt;OMOUSE.H&gt;</span>
00032 <span class="preprocessor">#include &lt;OBUTTON.H&gt;</span>
00033 <span class="preprocessor">#include &lt;<a class="code" href="OVALSLDR_8H.html">OVALSLDR.H</a>&gt;</span>
00034 <span class="preprocessor">#include &lt;OSPINNER.H&gt;</span>
00035 <span class="preprocessor">#include &lt;<a class="code" href="OGRPHYR_8H.html">OGRPHYR.H</a>&gt;</span>
00036 <span class="preprocessor">#include &lt;<a class="code" href="OGRPH__PY_8H.html">OGRPH_PY.H</a>&gt;</span>
00037 <span class="preprocessor">#include &lt;<a class="code" href="OGRPH__PM_8H.html">OGRPH_PM.H</a>&gt;</span>
00038 <span class="preprocessor">#include &lt;<a class="code" href="OPIECHRT_8H.html">OPIECHRT.H</a>&gt;</span>
00039 <span class="preprocessor">#include &lt;OFINANCE.H&gt;</span>
00040 <span class="preprocessor">#include &lt;<a class="code" href="OHELP_8H.html">OHELP.H</a>&gt;</span>
00041 
00042 <span class="comment">//------- Define constants -------//</span>
00043 
00044 <span class="keyword">enum</span> {                                            <span class="comment">// the 'sub' view-modes</span>
00045     <a class="code" href="Odeve__if_8cpp.html#a93a39">MODE_DEVELOPMENT</a> = 0,
00046     <a class="code" href="Odeve__if_8cpp.html#a93a40">MODE_FINANCIAL</a> = 1,
00047 };
00048 
00049 <span class="keyword">enum</span> {                                            <span class="comment">// the bg image id</span>
00050     <a class="code" href="Odeve__if_8cpp.html#a94a41">BG_PIC_ID</a> = 2
00051 };
00052 
00053 <span class="keyword">enum</span> {                                            <span class="comment">// screen coordinates</span>
00054     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a> = <a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>+15,
00055     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a> = <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>+25,
00056     <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a> = <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>-15,
00057     <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a> = <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>-55
00058 };
00059 
00060 <span class="keyword">enum</span> {
00061     <a class="code" href="Odeve__if_8cpp.html#a96a46">BOTTOM_BUTTON_X1</a> = <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+200,
00062     <a class="code" href="Odeve__if_8cpp.html#a96a47">BOTTOM_BUTTON_Y1</a> = <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>+15,
00063     <a class="code" href="Odeve__if_8cpp.html#a96a48">BOTTOM_BUTTON_X2</a> = <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>-80,
00064     <a class="code" href="Odeve__if_8cpp.html#a96a49">BOTTOM_BUTTON_Y2</a> = <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>+40
00065 };
00066 
00067 <span class="keyword">enum</span> {
00068     <a class="code" href="Odeve__if_8cpp.html#a97a50">BOTTOM_BUTTON_WIDTH</a> = 125,
00069     <a class="code" href="Odeve__if_8cpp.html#a97a51">BOTTOM_BUTTON_HEIGHT</a> = 25,
00070     <a class="code" href="Odeve__if_8cpp.html#a97a52">BOTTOM_BUTTON_DISTANCE</a>
00071     = (<a class="code" href="Odeve__if_8cpp.html#a96a48">BOTTOM_BUTTON_X2</a>-<a class="code" href="Odeve__if_8cpp.html#a96a46">BOTTOM_BUTTON_X1</a>-<a class="code" href="Odeve__if_8cpp.html#a97a50">BOTTOM_BUTTON_WIDTH</a>*2)/3
00072 };
00073 
00074 <span class="comment">// begin kevin 0723</span>
00075 <span class="keyword">enum</span> {
00076     <a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a> = 265,
00077     <a class="code" href="Odeve__if_8cpp.html#a98a54">MODE_DEVELOPMENT_BOX2_HEIGHT</a> = 60,
00078     <a class="code" href="Odeve__if_8cpp.html#a98a55">MODE_DEVELOPMENT_BOX_WIDTH</a> = 650,
00079     <a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a> = 40,
00080     <a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a> = 140,
00081     <a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a> = 340,
00082     <a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a> = 530,
00083     <a class="code" href="Odeve__if_8cpp.html#a98a60">MODE_DEVELOPMENT_TAB4</a> = 700,
00084 };
00085 
00086 <span class="keyword">enum</span> {
00087     <a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a> = 170,
00088     <a class="code" href="Odeve__if_8cpp.html#a99a62">MODE_DEVELOPMENT_GRAPH_HEIGHT</a> = 150,
00089     <a class="code" href="Odeve__if_8cpp.html#a99a63">MODE_DEVELOPMENT_LEGEND_HEIGHT</a> = 26,
00090     <a class="code" href="Odeve__if_8cpp.html#a99a64">MODE_DEVELOPMENT_LEGEND_WIDTH</a> = 370,
00091 };
00092 
00093 <span class="comment">// end kevin 0723</span>
00094 
00095 <span class="keyword">enum</span> {
00096     <a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a> = 120,
00097     <a class="code" href="Odeve__if_8cpp.html#a100a66">MODE_FINANCIAL_BOX2_HEIGHT</a> = 210,
00098     <a class="code" href="Odeve__if_8cpp.html#a100a67">MODE_FINANCIAL_GRAPH_WIDTH</a> = 400,
00099     <a class="code" href="Odeve__if_8cpp.html#a100a68">MODE_FINANCIAL_GRAPH_HEIGHT</a> = 160,
00100     <a class="code" href="Odeve__if_8cpp.html#a100a69">MODE_FINANCIAL_LEGEND_HEIGHT</a> = 26,
00101     <a class="code" href="Odeve__if_8cpp.html#a100a70">MODE_FINANCIAL_LEGEND_WIDTH</a> = 400,
00102 
00103     <a class="code" href="Odeve__if_8cpp.html#a100a71">MODE_FINANCIAL_TAB1</a> = 15,
00104     <a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a> = 280,
00105     <a class="code" href="Odeve__if_8cpp.html#a100a73">MODE_FINANCIAL_TAB3</a> = 360,
00106     <a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a> = 440,
00107     <a class="code" href="Odeve__if_8cpp.html#a100a75">MODE_FINANCIAL_TAB5</a> = 520,
00108     <a class="code" href="Odeve__if_8cpp.html#a100a76">MODE_FINANCIAL_TAB6</a> = 600,
00109 };
00110 
00111 <span class="keyword">enum</span> {
00112     <a class="code" href="Odeve__if_8cpp.html#a101a77">FINANCIAL_BUTTON_X1</a> = <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>+30,
00113     <a class="code" href="Odeve__if_8cpp.html#a101a78">FINANCIAL_BUTTON_Y1</a> = <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>+120,
00114     <a class="code" href="Odeve__if_8cpp.html#a101a79">FINANCIAL_BUTTON_X2</a> = <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>,
00115     <a class="code" href="Odeve__if_8cpp.html#a101a80">FINANCIAL_BUTTON_Y2</a> = <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>
00116 };
00117 
00118 <span class="keyword">enum</span> {
00119     <a class="code" href="Odeve__if_8cpp.html#a102a81">FINANCIAL_BUTTON_WIDTH</a> = 200,
00120     <a class="code" href="Odeve__if_8cpp.html#a102a82">FINANCIAL_BUTTON_HEIGHT</a> = 25,
00121     <a class="code" href="Odeve__if_8cpp.html#a102a83">FINANCIAL_BUTTON_DISTANCE</a>
00122     = (<a class="code" href="Odeve__if_8cpp.html#a101a80">FINANCIAL_BUTTON_Y2</a>-<a class="code" href="Odeve__if_8cpp.html#a101a78">FINANCIAL_BUTTON_Y1</a>-<a class="code" href="Odeve__if_8cpp.html#a102a82">FINANCIAL_BUTTON_HEIGHT</a>*3)/4
00123 };
00124 
00125 <span class="keyword">enum</span> {                                            <span class="comment">// the 'sub' view-modes</span>
00126     <a class="code" href="Odeve__if_8cpp.html#a103a84">MODE_FINANCIAL_IMPLEMENT</a> = 2,
00127     <a class="code" href="Odeve__if_8cpp.html#a103a85">MODE_FINANCIAL_ANNOUNCE</a> = 1,
00128     <a class="code" href="Odeve__if_8cpp.html#a103a86">MODE_FINANCIAL_CONSIDER</a> = 0,
00129 };
00130 
00131 <span class="comment">//-------- define static vars -----------//</span>
00132 
00133 <span class="keyword">static</span> <span class="keywordtype">char</span> report_init_flag = 0;
00134 <span class="keyword">static</span> <span class="keywordtype">char</span> mode_init_flag = -1;                  <span class="comment">// -1: non of the mode was init'ed</span>
00135 
00136 <span class="keyword">static</span> <a class="code" href="classButtonGroup.html">ButtonGroup</a> bottom_button_group(2);
00137 <span class="keyword">static</span> <span class="keywordtype">short</span> *bottom_button_up_bitmap[2];
00138 <span class="keyword">static</span> <span class="keywordtype">short</span> *bottom_button_down_bitmap[2];
00139 <span class="keyword">static</span> <span class="keywordtype">char</span> *bottom_button_label[] = {
00140     <span class="stringliteral">"Uses of gifts"</span>, <span class="stringliteral">"Finance"</span>
00141 };
00142 
00143 <span class="comment">// Notes:       the strings could be moved to Ogamestr.cpp</span>
00144 <span class="comment">// Begin Development Mode Setting</span>
00145 <span class="keyword">static</span> <a class="code" href="classPieChart.html">PieChart</a> mode_development_piechart1;
00146 <span class="keyword">static</span> <a class="code" href="classPieChart.html">PieChart</a> mode_development_piechart2;
00147 <span class="keyword">static</span> <a class="code" href="classPieChart.html">PieChart</a> mode_development_piechart3;
00148 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorYear.html">GraphPerformanceIndicatorYear</a> mode_development_graphicon1;
00149 <span class="keyword">static</span> <a class="code" href="classGraphPerformanceIndicatorYear.html">GraphPerformanceIndicatorYear</a> mode_development_graphicon2;
00150 <span class="keyword">static</span> <a class="code" href="classValueSlider.html">ValueSlider</a> mode_development_slider1;
00151 <span class="keyword">static</span> <a class="code" href="classValueSlider.html">ValueSlider</a> mode_development_slider2;
00152 <span class="keyword">static</span> <a class="code" href="classValueSlider.html">ValueSlider</a> mode_development_slider3;
00153 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_development_graph_title=<span class="stringliteral">""</span>;
00154 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_development_legend_label[] = {
00155     <span class="stringliteral">"Current Use"</span>,<span class="stringliteral">"Endowment"</span>,<span class="stringliteral">"Facilities"</span>
00156 };
00157 
00158 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_development_str1[] = {
00159     <span class="stringliteral">"Use\n of \nGifts"</span>,
00160 };
00161 
00162 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_development_str2[] = {
00163     <span class="stringliteral">"Last year"</span>,
00164     <span class="stringliteral">"Projected for this year"</span>,
00165     <span class="stringliteral">"Policy target"</span>,
00166     <span class="stringliteral">"Alumni who donated over past year"</span>,
00167     <span class="stringliteral">"Alumni morale"</span>
00168 };
00169 
00170 <span class="keyword">static</span> <span class="keywordtype">short</span> *mode_development_last_year_bitmap;
00171 <span class="keyword">static</span> <span class="keywordtype">short</span> *mode_development_this_year_bitmap;
00172 <span class="keyword">static</span> <span class="keywordtype">short</span> *mode_development_gift_bitmap;
00173 <span class="keyword">static</span> <span class="keywordtype">short</span> *mode_development_morale_bitmap;
00174 
00175 <span class="comment">// End Development Mode Setting</span>
00176 
00177 <span class="comment">// Begin Financial Mode Setting</span>
00178 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_financial_str[] = {
00179     <span class="comment">//  "Gifts revenue",</span>
00180 
00181     <span class="comment">//  "Gifts",  //## chea 180899 8.2.1</span>
00182     <span class="stringliteral">"Total gifts"</span>,                                  <span class="comment">//## chea 121099 8.2.1</span>
00183 
00184     <span class="comment">//  "Development expenditure",</span>
00185 
00186     <span class="stringliteral">"Development and alumni affairs"</span>,               <span class="comment">//## chea 180899 8.2.1</span>
00187 
00188     <span class="stringliteral">"Balance"</span>,
00189     <span class="stringliteral">""</span>,
00190     <span class="stringliteral">"Change"</span>,
00191     <span class="stringliteral">"Change in expenditure budget for fund-raising"</span>
00192 };
00193 
00194 <span class="keyword">static</span> <span class="keywordtype">short</span> *mode_financial_stats_bitmap;
00195 <span class="keyword">static</span> <a class="code" href="classSpinner.html">Spinner</a> financial_spinner_budget;
00196 <span class="keyword">static</span> <a class="code" href="classButtonGroup.html">ButtonGroup</a> financial_button_group(3);
00197 <span class="keyword">static</span> <span class="keywordtype">short</span> *financial_button_up_bitmap[3];
00198 <span class="keyword">static</span> <span class="keywordtype">short</span> *financial_button_down_bitmap[3];
00199 <span class="keyword">static</span> <span class="keywordtype">char</span> *financial_button_label[] = {
00200     <span class="stringliteral">"Consider for next year"</span>, <span class="stringliteral">"Promise for next year"</span>, <span class="stringliteral">"Implement now"</span>
00201 };
00202 <span class="keyword">static</span> <span class="keywordtype">char</span> financial_current_mode = <a class="code" href="Odeve__if_8cpp.html#a103a86">MODE_FINANCIAL_CONSIDER</a>;
00203 
00204 <span class="keyword">static</span> <a class="code" href="classGraphYear.html">GraphYear</a> mode_financial_graph_profitloss;
00205 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_financial_graph_title=<span class="stringliteral">""</span>;
00206 <span class="keyword">static</span> <span class="keywordtype">char</span> *mode_financial_legend_label[] = {
00207     <span class="stringliteral">"Revenue                "</span>,<span class="stringliteral">"Expenditure             "</span>,<span class="stringliteral">""</span>,<span class="stringliteral">"Ratio of expenditure to revenue"</span>,
00208 };
00209 
00210 <span class="comment">// End Financial Mode Setting</span>
00211 
00212 <span class="comment">//-------- define static functions ------//</span>
00213 
00214 <span class="comment">// Notes:       the deinit_x functions should deallocate memory used by the</span>
00215 <span class="comment">//                              GraphDoubleBar, ValueSlider, RadioButton, etc. objects</span>
00216 <span class="comment">//                              the functions are called when a mode-switching is triggered</span>
00217 <span class="comment">//      Norris 0716</span>
00218 
00219 <span class="keyword">static</span> <span class="keywordtype">void</span> report_development(<span class="keywordtype">int</span>);
00220 <span class="keyword">static</span> <span class="keywordtype">void</span> report_financial(<span class="keywordtype">int</span>);
00221 <span class="keyword">static</span> <span class="keywordtype">int</span> detect_development();
00222 <span class="keyword">static</span> <span class="keywordtype">int</span> detect_financial();
00223 <span class="keyword">static</span> <span class="keywordtype">void</span> deinit_development();
00224 <span class="keyword">static</span> <span class="keywordtype">void</span> deinit_financial();
00225 
<a name="l00226"></a><a class="code" href="Odeve__if_8cpp.html#a33">00226</a> <span class="keyword">typedef</span> void (*<a class="code" href="Odeve__if_8cpp.html#a33">ReportFP</a>)(<span class="keywordtype">int</span> refreshFlag);
<a name="l00227"></a><a class="code" href="Odeve__if_8cpp.html#a34">00227</a> <span class="keyword">typedef</span> int (*<a class="code" href="Odeve__if_8cpp.html#a34">DetectFP</a>)();
<a name="l00228"></a><a class="code" href="Odeve__if_8cpp.html#a35">00228</a> <span class="keyword">typedef</span> void (*<a class="code" href="Odeve__if_8cpp.html#a35">DeinitFP</a>)();
00229 
00230 <span class="keyword">static</span> <a class="code" href="Odeve__if_8cpp.html#a33">ReportFP</a> report_func_ptr[] = {
00231     &amp;report_development,
00232     &amp;report_financial
00233 };
00234 
00235 <span class="keyword">static</span> <a class="code" href="Odeve__if_8cpp.html#a34">DetectFP</a> detect_func_ptr[] = {
00236     &amp;detect_development,
00237     &amp;detect_financial
00238 };
00239 
00240 <span class="keyword">static</span> <a class="code" href="Odeve__if_8cpp.html#a35">DeinitFP</a> deinit_func_ptr[] = {
00241     &amp;deinit_development,
00242     &amp;deinit_financial,
00243 };
00244 
00245 <span class="comment">//------- Begin of function Development::Development -----------//</span>
<a name="l00247"></a><a class="code" href="classDevelopment.html#a0">00247</a> <span class="comment">Development::Development() {</span>
00248     init();
00249 }
00250 
00251 <span class="comment">//--------- End of function Development::Development -----------//</span>
00252 
00253 <span class="comment">//------- Begin of function Development::~Development -----------//</span>
<a name="l00255"></a><a class="code" href="classDevelopment.html#a1">00255</a> <span class="comment">Development::~Development() {</span>
00256     deinit();
00257 }
00258 
00259 <span class="comment">//--------- End of function Development::~Development -----------//</span>
00260 
00261 <span class="comment">//------- Begin of function Development::deinit ---------------//</span>
<a name="l00263"></a><a class="code" href="classDevelopment.html#a3">00263</a> <span class="comment">void Development::deinit() {</span>
00264     <span class="comment">//--------- deallocate memory -------------//</span>
00265     <span class="comment">// ##### begin Gilbert 28/04/2001 ######//</span>
00266     bottom_button_group.<a class="code" href="classButtonGroup.html#a2">deinit_buttons</a>();
00267     <span class="comment">// ##### end Gilbert 28/04/2001 ######//</span>
00268     <span class="keywordflow">if</span> (*bottom_button_up_bitmap) {
00269         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; i++) {
00270             <a class="code" href="ALL_8H.html#a8">mem_del</a>(bottom_button_up_bitmap[i]);
00271             <a class="code" href="ALL_8H.html#a8">mem_del</a>(bottom_button_down_bitmap[i]);
00272             bottom_button_up_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00273             bottom_button_down_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00274         }
00275     }
00276 
00277     (*deinit_func_ptr[current_mode])();
00278 
00279     report_init_flag = 0;
00280 }
00281 
00282 <span class="comment">//--------- End of function Development::deinit ---------------//</span>
00283 
00284 <span class="comment">//------- Begin of function Development::init -----------------//</span>
<a name="l00286"></a><a class="code" href="classDevelopment.html#a2">00286</a> <span class="comment">void Development::init() {</span>
00287     memset(<span class="keyword">this</span>,0,<span class="keyword">sizeof</span>(<a class="code" href="classDevelopment.html">Development</a>));
00288 
00289     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; i++) {
00290         bottom_button_up_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00291         bottom_button_down_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00292     }
00293     current_mode = <a class="code" href="Odeve__if_8cpp.html#a93a39">MODE_DEVELOPMENT</a>;
00294 }
00295 
00296 <span class="comment">//--------- End of function Development::init -----------------//</span>
00297 
00298 <span class="comment">//------- Begin of function Development::report ---------------//</span>
<a name="l00300"></a><a class="code" href="classDevelopment.html#a4">00300</a> <span class="comment">void Development::report(int refreshFlag) {</span>
00301     vga.use_back();
00302 
00303 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00304 <span class="preprocessor"></span>    <span class="comment">// fix in version 2</span>
00305     sys.is_institution_report = 1;
00306 <span class="preprocessor">#endif</span>
00307 <span class="preprocessor"></span>
00308     <span class="keywordflow">if</span> (refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a>) {
00309         <span class="keywordflow">if</span>( report_init_flag )                        <span class="comment">// deinit it first if it has already been initialized</span>
00310             deinit();
00311 
00312         <span class="comment">//------------- paint the background ----------------//</span>
00313         user_interface.bg_img(<a class="code" href="Odeve__if_8cpp.html#a94a41">BG_PIC_ID</a>, &amp;vga_back);
00314 
00315         <span class="comment">//----- initialize the bottom sub-menus buttons -----//</span>
00316         <span class="keywordflow">if</span> (!report_init_flag) {
00317             <span class="keywordtype">short</span> x = <a class="code" href="Odeve__if_8cpp.html#a96a46">BOTTOM_BUTTON_X1</a>;
00318             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; i++, x+=<a class="code" href="Odeve__if_8cpp.html#a97a50">BOTTOM_BUTTON_WIDTH</a>+<a class="code" href="Odeve__if_8cpp.html#a97a52">BOTTOM_BUTTON_DISTANCE</a>) {
00319 
00320                 user_interface.create_button_bitmap(x, <a class="code" href="Odeve__if_8cpp.html#a96a47">BOTTOM_BUTTON_Y1</a>,
00321                                                     x+<a class="code" href="Odeve__if_8cpp.html#a97a50">BOTTOM_BUTTON_WIDTH</a>, <a class="code" href="Odeve__if_8cpp.html#a96a47">BOTTOM_BUTTON_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a97a51">BOTTOM_BUTTON_HEIGHT</a>,
00322                                                     bottom_button_label[i], &amp;bottom_button_up_bitmap[i],
00323                                                     &amp;bottom_button_down_bitmap[i], &amp;vga_back);
00324 
00325                 bottom_button_group[i].create_bitmapW(x, <a class="code" href="Odeve__if_8cpp.html#a96a47">BOTTOM_BUTTON_Y1</a>,
00326                                                       x+<a class="code" href="Odeve__if_8cpp.html#a97a50">BOTTOM_BUTTON_WIDTH</a>, <a class="code" href="Odeve__if_8cpp.html#a96a47">BOTTOM_BUTTON_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a97a51">BOTTOM_BUTTON_HEIGHT</a>,
00327                                                       ((i == current_mode) ? bottom_button_down_bitmap[i] : bottom_button_up_bitmap[i])+4);
00328             }
00329             report_init_flag = 1;
00330         }
00331 
00332         <span class="comment">//----------- paint the bottom button group ---------//</span>
00333         bottom_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(current_mode);
00334     }
00335 
00336     <span class="comment">//---- repaint/refresh the display of the current mode ----//</span>
00337     (*report_func_ptr[current_mode])(refreshFlag);
00338 
00339     <span class="comment">// Comments:        blt buffer only if repaint, because the</span>
00340     <span class="comment">//                                  report_x functions would handle blt_buf</span>
00341     <span class="comment">//                                  when refresh</span>
00342     <span class="comment">//                                  equivalently, in the report_x functions,</span>
00343     <span class="comment">//                                  only blt buffer when refresh</span>
00344 
00345     <span class="keywordflow">if</span> (refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a>) {
00346         <span class="comment">//------- blt the back buffer to front buffer -------//</span>
00347         vga.blt_buf(<a class="code" href="Oworldmt_8h.html#a12">ZOOM_X1</a>, <a class="code" href="Oworldmt_8h.html#a13">ZOOM_Y1</a>, <a class="code" href="Oworldmt_8h.html#a14">ZOOM_X2</a>, <a class="code" href="Oworldmt_8h.html#a15">ZOOM_Y2</a>);
00348     }
00349 
00350     <span class="comment">//##trevor 2807</span>
00351     vga.use_front();
00352     <span class="comment">//##trevor 2807</span>
00353 }
00354 
00355 <span class="comment">//---------- End of function Development::report ------------//</span>
00356 
00357 <span class="comment">//-------- Begin of function Development::detect ------------//</span>
<a name="l00361"></a><a class="code" href="classDevelopment.html#a5">00361</a> <span class="comment">int Development::detect() {</span>
00362     vga.use_back();
00363 
00364     <span class="keywordtype">int</span> rc = detect2();
00365 
00366     vga.use_front();
00367 
00368     <span class="keywordflow">return</span> rc;
00369 }
00370 
00371 <span class="comment">//---------- End of function Development::detect ------------//</span>
00372 
00373 <span class="comment">//-------- Begin of function Development::detect2 ------------//</span>
<a name="l00377"></a><a class="code" href="classDevelopment.html#a6">00377</a> <span class="comment">int Development::detect2() {</span>
00378     <span class="keywordflow">if</span> (!report_init_flag)
00379         <span class="keywordflow">return</span> 0;
00380 
00381     <span class="keywordtype">int</span> bottomButtonGroupDetect;
00382     <span class="keywordflow">if</span> ((bottomButtonGroupDetect = bottom_button_group.<a class="code" href="classButtonGroup.html#a4">detect</a>()) &gt;= 0) {
00383         <span class="comment">//---- deinit the modes to free memory ----//</span>
00384         (*deinit_func_ptr[current_mode])();
00385 
00386         <span class="comment">//-------- change display mode ------------//</span>
00387         bottom_button_group[current_mode].body_ptr = (<span class="keywordtype">void</span> *) (bottom_button_up_bitmap[current_mode] + 4);
00388         current_mode = bottomButtonGroupDetect;
00389         bottom_button_group[current_mode].body_ptr = (<span class="keywordtype">void</span> *) (bottom_button_down_bitmap[current_mode] + 4);
00390 
00391         <span class="comment">//-------- post display redraw flag -------//</span>
00392         sys.redraw_all_flag = 1;
00393 
00394         <span class="keywordflow">return</span> 1;
00395     }
00396 
00397     <span class="keywordflow">if</span> ((*detect_func_ptr[current_mode])())
00398         <span class="keywordflow">return</span> 1;
00399 
00400     <span class="keywordflow">return</span> 0;
00401 }
00402 
00403 <span class="comment">//---------- End of function AdmOffice::detect ------------//</span>
00404 
00405 <span class="comment">//-------- Begin of function report_development -------------//</span>
00407 <span class="comment">static void report_development(int refreshFlag) {</span>
00408     <span class="comment">// begin Kevin 0723</span>
00409     <span class="keyword">static</span> <span class="keywordtype">int</span> numSeriesData=3;
00410     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray1[] = {18000, 23000, 65000};
00411     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray2[] = {76000, 19000, 20000};
00412     <span class="keyword">static</span> <span class="keywordtype">int</span> dataArray3[] = {19000, 20000, 39000};
00413     <span class="keyword">static</span> <span class="keywordtype">double</span> v11=11,v12=12,v13=13,v14=14;
00414     <span class="keyword">static</span> <span class="keywordtype">double</span> v21=21,v22=22,v23=23,v24=24;
00415     <span class="keyword">static</span> <span class="keywordtype">double</span> v31=31,v32=32,v33=33,v34=34;
00416     <span class="keyword">static</span> <span class="keywordtype">double</span> gift=99,morale=98;
00417     <span class="keyword">static</span> <span class="keywordtype">int</span> sliderVar1=30,sliderVar2=20,sliderVar3=50;
00418     <span class="keyword">static</span> <span class="keywordtype">int</span> xStart = 1991, xEnd = 1998;          <span class="comment">//*** temporary ***//</span>
00419     <span class="keyword">static</span> <span class="keywordtype">double</span> total;
00420     <span class="keyword">static</span> <span class="keywordtype">int</span> ys_data_num=HISTORY_YEAR_COUNT;
00421     <span class="keyword">static</span> <span class="keywordtype">float</span> *ys_dataArray;
00422     <span class="keyword">static</span> <span class="keywordtype">int</span> ms_data_num=HISTORY_YEAR_COUNT;
00423     <span class="keyword">static</span> <span class="keywordtype">float</span> *ms_dataArray;
00424 
00425     <span class="comment">// ##### Begin Marco 3###### //</span>
00426 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00427 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">double</span> initialGift=99,initialMorale=98;  <span class="comment">//marco</span>
00428 <span class="preprocessor">#endif</span>
00429 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ###### //</span>
00430 
00431     <span class="comment">//  Communicate with Sim Engine's Output</span>
00432     v12=development_office.last_year.cur_operations;
00433     v22=development_office.last_year.endowment;
00434     v32=development_office.last_year.facilities;
00435     v14=development_office.this_year.cur_operations;
00436     v24=development_office.this_year.endowment;
00437     v34=development_office.this_year.facilities;
00438     total=v12+v22+v32;
00439     v11=100.0*v12/total;v21=100.0*v22/total;v31=100.0*v32/total;
00440     total=v14+v24+v34;
00441     v13=100.0*v14/total;v23=100.0*v24/total;v33=100.0*v34/total;
00442 
00443     sliderVar1=(int)((development_office.allocation_policy.cur_operations+0.005f)*100);
00444     sliderVar2=(int)((development_office.allocation_policy.endowment+0.005f)*100);
00445     sliderVar3=(int)((development_office.allocation_policy.facilities+0.005f)*100);
00446     xStart = info.game_year-numSeriesData+1;
00447     xEnd = info.game_year;
00448     total=(sliderVar1+sliderVar2+sliderVar3);
00449     <span class="keywordflow">if</span>(total&lt;1E-9) {
00450         sliderVar1=33;sliderVar2=33;sliderVar3=34;
00451         development_office.allocation_policy.cur_operations=0.33f;
00452         development_office.allocation_policy.endowment=0.33f;
00453         development_office.allocation_policy.facilities=0.34f;
00454     }
00455 
00456     dataArray1[0]=(int)v12;dataArray1[1]=(int)v22;dataArray1[2]=(int)v32;
00457     dataArray2[0]=(int)v14;dataArray2[1]=(int)v24;dataArray2[2]=(int)v34;
00458     dataArray3[0]=sliderVar1;dataArray3[1]=sliderVar2;dataArray3[2]=sliderVar3;
00459     gift=development_office.percent_alumni_gave_gift;
00460     morale=development_office.alumni_morale;
00461     ys_dataArray=development_office.percent_alumni_gave_gift_history;
00462     ms_dataArray=development_office.alumni_morale_history;
00463 
00464     <span class="comment">// ##### begin MArco ##### //</span>
00465 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00466 <span class="preprocessor"></span>    initialGift=development_office.initial_percent_alumni_gave_gift;
00467     initialMorale=development_office.initial_alumni_morale;
00468 <span class="preprocessor">#endif</span>
00469 <span class="preprocessor"></span>    <span class="comment">// #### End Marco ##### //</span>
00470 
00471     <span class="keywordtype">int</span> field_space=5*font_chartsm.max_font_width;
00472 
00473     <span class="keywordflow">if</span> (refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a>) {
00474         <span class="comment">// top title</span>
00475         user_interface.brighten(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+150,<a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>-23,<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+575,<a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>-3);
00476         user_interface.rect(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+150,<a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>-23,<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+575,<a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>-3,1);
00477         font_charts.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+255,<a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>-18,<span class="stringliteral">"Development and Alumni Affairs"</span>);
00478 
00479         <span class="comment">//              //--------- draw the brightened boxes ------------//</span>
00480         user_interface.brighten(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>,  <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>);
00481         user_interface.rect(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>,
00482                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+1);
00483         user_interface.rect(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>,
00484                             <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>,<a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>);
00485         user_interface.rect(
00486             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>,
00487             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>,
00488             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>-6,
00489             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+1);
00490 
00491         <span class="comment">//              user_interface.rect(</span>
00492         <span class="comment">//                              REPORT_X1+MODE_DEVELOPMENT_TAB0-20,</span>
00493         <span class="comment">//                              REPORT_Y1+20,</span>
00494         <span class="comment">//                              REPORT_X1+MODE_DEVELOPMENT_TAB1-MODE_DEVELOPMENT_TAB0+20,</span>
00495         <span class="comment">//                              REPORT_Y1+MODE_DEVELOPMENT_GRAPH_HEIGHT+40);</span>
00496 
00497         user_interface.rect(
00498             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>-9,
00499             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>,
00500             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>+11,
00501             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+1
00502             );
00503 
00504         user_interface.rect(
00505             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>+8,
00506             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>,
00507             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>+5,
00508             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+1
00509             );
00510 
00511         <span class="comment">/*</span>
00512 <span class="comment">          font_chartsm.right_put(REPORT_X1+MODE_DEVELOPMENT_TAB1+65,</span>
00513 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-65,</span>
00514 <span class="comment">          REPORT_X1+MODE_DEVELOPMENT_TAB1+75,</span>
00515 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-53,</span>
00516 <span class="comment">          ",");</span>
00517 <span class="comment">          font_chartsm.right_put(REPORT_X1+MODE_DEVELOPMENT_TAB1+65,</span>
00518 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-45,</span>
00519 <span class="comment">          REPORT_X1+MODE_DEVELOPMENT_TAB1+75,</span>
00520 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-33,</span>
00521 <span class="comment">          ",");</span>
00522 <span class="comment">          font_chartsm.right_put(REPORT_X1+MODE_DEVELOPMENT_TAB1+65,</span>
00523 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-25,</span>
00524 <span class="comment">          REPORT_X1+MODE_DEVELOPMENT_TAB1+75,</span>
00525 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-13,</span>
00526 <span class="comment">          ",");</span>
00527 <span class="comment"></span>
00528 <span class="comment">          font_chartsm.right_put(REPORT_X1+MODE_DEVELOPMENT_TAB2+65,</span>
00529 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-65,</span>
00530 <span class="comment">          REPORT_X1+MODE_DEVELOPMENT_TAB2+75,</span>
00531 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-53,</span>
00532 <span class="comment">          ",");</span>
00533 <span class="comment">          font_chartsm.right_put(REPORT_X1+MODE_DEVELOPMENT_TAB2+65,</span>
00534 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-45,</span>
00535 <span class="comment">          REPORT_X1+MODE_DEVELOPMENT_TAB2+75,</span>
00536 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-33,</span>
00537 <span class="comment">          ",");</span>
00538 <span class="comment">          font_chartsm.right_put(REPORT_X1+MODE_DEVELOPMENT_TAB2+65,</span>
00539 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-25,</span>
00540 <span class="comment">          REPORT_X1+MODE_DEVELOPMENT_TAB2+75,</span>
00541 <span class="comment">          REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-13,</span>
00542 <span class="comment">          ",");</span>
00543 <span class="comment">        */</span>
00544         <span class="keywordflow">if</span> (mode_init_flag != <a class="code" href="Odeve__if_8cpp.html#a93a39">MODE_DEVELOPMENT</a>) {
00545             <span class="comment">//---------  initialization  -----------//</span>
00546             mode_init_flag= <a class="code" href="Odeve__if_8cpp.html#a93a39">MODE_DEVELOPMENT</a>;
00547 
00548             mode_development_last_year_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00549             mode_development_this_year_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00550             mode_development_gift_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00551             mode_development_morale_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
00552             mode_development_last_year_bitmap=
00553                 vga_back.save_area(
00554                     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>,
00555                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00556                     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>,
00557                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-13,
00558                     mode_development_last_year_bitmap);
00559             mode_development_this_year_bitmap=
00560                 vga_back.save_area(
00561                     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>,
00562                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00563                     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>,
00564                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-13,
00565                     mode_development_this_year_bitmap);
00566 
00567             mode_development_gift_bitmap=
00568                 vga_back.save_area(
00569                     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>,
00570                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+15,
00571                     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+50,
00572                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+15+font_chartsm.max_font_height,
00573                     mode_development_gift_bitmap);
00574 
00575             mode_development_morale_bitmap=
00576                 vga_back.save_area(
00577                     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>+100,
00578                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+50,
00579                     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>+350,
00580                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+50+font_chartsm.max_font_height,
00581                     mode_development_morale_bitmap);
00582 
00583             <span class="comment">//-------- graph title --------------//</span>
00584             mode_development_piechart1.<a class="code" href="classPieChart.html#a0">init</a>(
00585                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+10,
00586                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30,
00587                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>+8,
00588                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30+<a class="code" href="Odeve__if_8cpp.html#a99a62">MODE_DEVELOPMENT_GRAPH_HEIGHT</a>,
00589                 3, dataArray1, &amp;xStart, &amp;xEnd,
00590                 <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 3);
00591             mode_development_piechart2.<a class="code" href="classPieChart.html#a0">init</a>(
00592                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>,
00593                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30,
00594                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>,
00595                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30+<a class="code" href="Odeve__if_8cpp.html#a99a62">MODE_DEVELOPMENT_GRAPH_HEIGHT</a>,
00596                 numSeriesData, dataArray2, &amp;xStart, &amp;xEnd,
00597                 <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 3);
00598             mode_development_piechart3.<a class="code" href="classPieChart.html#a0">init</a>(
00599                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>-3,
00600                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30,
00601                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-5,
00602                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30+<a class="code" href="Odeve__if_8cpp.html#a99a62">MODE_DEVELOPMENT_GRAPH_HEIGHT</a>,
00603                 numSeriesData, dataArray3, &amp;xStart, &amp;xEnd,
00604                 <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, 1, 1, 0, 3);
00605 
00606             mode_development_slider1.<a class="code" href="classValueSlider.html#a2">init</a>(
00607                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+10,
00608                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00609                 <a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-20,
00610                 15,
00611                 0,100,&amp;sliderVar1,0,
00612                 (mode_development_piechart1.<a class="code" href="classPieChart.html#m17">series_color</a>)[0],
00613                 3);
00614             mode_development_slider2.<a class="code" href="classValueSlider.html#a2">init</a>(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+10,
00615                                           <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-45,
00616                                           <a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-20,
00617                                           15,
00618                                           0,100,&amp;sliderVar2,0,
00619                                           (mode_development_piechart1.<a class="code" href="classPieChart.html#m17">series_color</a>)[1],
00620                                           3);
00621             mode_development_slider3.<a class="code" href="classValueSlider.html#a2">init</a>(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+10,
00622                                           <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-25,
00623                                           <a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-20,
00624                                           15,
00625                                           0,100,&amp;sliderVar3,0,
00626                                           (mode_development_piechart1.<a class="code" href="classPieChart.html#m17">series_color</a>)[2],
00627                                           3);
00628 
00629             mode_development_graphicon1.<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(
00630                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+30,
00631                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+5,
00632                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-30,
00633                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+35,
00634                 1 ,&amp;ys_data_num ,ys_dataArray, 1, 0, 1);
00635             mode_development_graphicon2.<a class="code" href="classGraphPerformanceIndicatorYear.html#a2">init</a>(
00636                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+30,
00637                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+40,
00638                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-30,
00639                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+70,
00640                 1 ,&amp;ms_data_num ,ms_dataArray, 1, 0, 1);
00641             mode_development_graphicon1.<a class="code" href="classGraphPerformanceIndicatorYear.html#a8">paint</a>();
00642             mode_development_graphicon2.<a class="code" href="classGraphPerformanceIndicatorYear.html#a8">paint</a>();
00643 
00644             mode_development_piechart1.<a class="code" href="classPieChart.html#a12">paint</a>();
00645             mode_development_piechart2.<a class="code" href="classPieChart.html#a12">paint</a>();
00646             mode_development_piechart3.<a class="code" href="classPieChart.html#a12">paint</a>();
00647 
00648             mode_development_slider1.<a class="code" href="classValueSlider.html#a7">refresh</a>();
00649             mode_development_slider2.<a class="code" href="classValueSlider.html#a7">refresh</a>();
00650             mode_development_slider3.<a class="code" href="classValueSlider.html#a7">refresh</a>();
00651         }
00652         <span class="keywordflow">else</span> {
00653             <span class="comment">//-------- repaint -----------//</span>
00654             mode_development_piechart1.<a class="code" href="classPieChart.html#a12">paint</a>();
00655             mode_development_piechart2.<a class="code" href="classPieChart.html#a12">paint</a>();
00656             mode_development_piechart3.<a class="code" href="classPieChart.html#a12">paint</a>();
00657             mode_development_slider1.<a class="code" href="classValueSlider.html#a6">paint</a>();
00658             mode_development_slider2.<a class="code" href="classValueSlider.html#a6">paint</a>();
00659             mode_development_slider3.<a class="code" href="classValueSlider.html#a6">paint</a>();
00660             mode_development_graphicon1.<a class="code" href="classGraphPerformanceIndicatorYear.html#a8">paint</a>();
00661             mode_development_graphicon2.<a class="code" href="classGraphPerformanceIndicatorYear.html#a8">paint</a>();
00662         }
00663 
00664         <span class="comment">//-------- statics text --------------//</span>
00665         font_chartsm.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+45,
00666                          <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+10, mode_development_str2[0]);
00667         font_chartsm.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+10,
00668                          <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+10, mode_development_str2[1]);
00669         font_chartsm.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+35,
00670                          <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+10, mode_development_str2[2]);
00671         font_chartsm.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>,
00672                          <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+15,
00673                          mode_development_str2[3]);
00674         font_chartsm.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>,
00675                          <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+50,
00676                          mode_development_str2[4]);
00677 
00678         <span class="comment">//-----------Print uses of gifts------//</span>
00679         <span class="comment">//              font_chartsm.put(REPORT_X1+MODE_DEVELOPMENT_TAB0+15,</span>
00680         <span class="comment">//                                                              REPORT_Y1+100, "Uses of gifts");</span>
00681 
00682         <span class="comment">//-------- draw the legend --------------//</span>
00683         font_chartsm.put(
00684             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>+10,
00685             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00686             mode_development_legend_label[0]);
00687         font_chartsm.put(
00688             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>+10,
00689             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-45,
00690             mode_development_legend_label[1]);
00691         font_chartsm.put(
00692             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>+10,
00693             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-25,
00694             mode_development_legend_label[2]);
00695         user_interface.bar(
00696             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>-20,
00697             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00698             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>-9,
00699             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-53,
00700             ((mode_development_piechart1.<a class="code" href="classPieChart.html#m17">series_color</a>)[0]));
00701         user_interface.bar(
00702             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>-20,
00703             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-45,
00704             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>-9,
00705             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-32,
00706             ((mode_development_piechart1.<a class="code" href="classPieChart.html#m17">series_color</a>)[1]));
00707         user_interface.bar(
00708             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>-20,
00709             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-25,
00710             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>-9,
00711             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-12,
00712             ((mode_development_piechart1.<a class="code" href="classPieChart.html#m17">series_color</a>)[2]));
00713     }
00714     <span class="keywordflow">else</span> {                                          <span class="comment">// refreshFlag == INFO_REFRESH</span>
00715 
00716         <span class="comment">//      debugging</span>
00717         <span class="comment">//      top_athletes++;</span>
00718 
00719         <span class="comment">// -------- refresh the stats ----------- //</span>
00720         mode_development_piechart1.<a class="code" href="classPieChart.html#a13">refresh</a>();
00721         mode_development_piechart2.<a class="code" href="classPieChart.html#a13">refresh</a>();
00722         mode_development_piechart3.<a class="code" href="classPieChart.html#a13">refresh</a>();
00723         vga.blt_buf(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+10,
00724                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30,
00725                     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>+8,
00726                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30+<a class="code" href="Odeve__if_8cpp.html#a99a62">MODE_DEVELOPMENT_GRAPH_HEIGHT</a>);
00727         vga.blt_buf(
00728             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>,
00729             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30,
00730             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>,
00731             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30+<a class="code" href="Odeve__if_8cpp.html#a99a62">MODE_DEVELOPMENT_GRAPH_HEIGHT</a>);
00732         vga.blt_buf(
00733             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>-3,
00734             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30,
00735             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-5,
00736             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30+<a class="code" href="Odeve__if_8cpp.html#a99a62">MODE_DEVELOPMENT_GRAPH_HEIGHT</a>);
00737 
00738         mode_development_slider1.<a class="code" href="classValueSlider.html#a7">refresh</a>();
00739         mode_development_slider2.<a class="code" href="classValueSlider.html#a7">refresh</a>();
00740         mode_development_slider3.<a class="code" href="classValueSlider.html#a7">refresh</a>();
00741         mode_development_graphicon1.<a class="code" href="classGraphPerformanceIndicatorYear.html#a9">refresh</a>();
00742         mode_development_graphicon2.<a class="code" href="classGraphPerformanceIndicatorYear.html#a9">refresh</a>();
00743 
00744         vga.blt_buf(
00745             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+30,
00746             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+5,
00747             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-30,
00748             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+35);
00749         vga.blt_buf(
00750             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+30,
00751             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+40,
00752             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-30,
00753             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+70);
00754     }
00755     vga_back.rest_area(mode_development_last_year_bitmap,0,0);
00756     vga_back.rest_area(mode_development_this_year_bitmap,0,0);
00757     vga_back.rest_area(mode_development_gift_bitmap,0,0);
00758     vga_back.rest_area(mode_development_morale_bitmap,0,0);
00759 
00760     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+field_space,
00761                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00762                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB1+85,</span>
00763                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-53,</span>
00764                            m.format((<span class="keywordtype">int</span>)v11,3));
00765     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+field_space,
00766                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-45,
00767                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB1+85,</span>
00768                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-33,</span>
00769                            m.format((<span class="keywordtype">int</span>)v21,3));
00770     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+field_space,
00771                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-25,
00772                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB1+85,</span>
00773                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-13,</span>
00774                            m.format((<span class="keywordtype">int</span>)v31,3));
00775 
00776     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+75+field_space,
00777                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00778                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB1+MODE_DEVELOPMENT_GRAPH_WIDTH,</span>
00779                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-53,</span>
00780                            m.format(v12,2));
00781     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+75+field_space,
00782                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-45,
00783                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB1+MODE_DEVELOPMENT_GRAPH_WIDTH,</span>
00784                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-33,</span>
00785                            m.format(v22,2));
00786     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+75+field_space,
00787                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-25,
00788                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB1+MODE_DEVELOPMENT_GRAPH_WIDTH,</span>
00789                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-13,</span>
00790                            m.format(v32,2));
00791 
00792     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+field_space,
00793                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00794                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB2+85,</span>
00795                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-53,</span>
00796                            m.format((<span class="keywordtype">int</span>)v13,3));
00797     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+field_space,
00798                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-45,
00799                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB2+85,</span>
00800                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-33,</span>
00801                            m.format((<span class="keywordtype">int</span>)v23,3));
00802     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+field_space,
00803                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-25,
00804                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB2+85,</span>
00805                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-13,</span>
00806                            m.format((<span class="keywordtype">int</span>)v33,3));
00807 
00808     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+75+field_space,
00809                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00810                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB2+MODE_DEVELOPMENT_GRAPH_WIDTH,</span>
00811                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-53,</span>
00812                            m.format(v14,2));
00813     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+75+field_space,
00814                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-45,
00815                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB2+MODE_DEVELOPMENT_GRAPH_WIDTH,</span>
00816                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-33,</span>
00817                            m.format(v24,2));
00818     font_chartsm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+75+field_space,
00819                            <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-25,
00820                            <span class="comment">//                                   REPORT_X1+MODE_DEVELOPMENT_TAB2+MODE_DEVELOPMENT_GRAPH_WIDTH,</span>
00821                            <span class="comment">//                                   REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT-13,</span>
00822                            m.format(v34,2));
00823 
00824     font_chartsm.center_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>,
00825                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+15,
00826                             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+50,
00827                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+15+font_chartsm.max_font_height,
00828                             m.format((<span class="keywordtype">int</span>)gift,3));
00829 
00830     <span class="comment">// ##### Begin Marco ##### //</span>
00831 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00832 <span class="preprocessor"></span>    font_chartsm.center_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>,
00833                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+50,
00834                             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+50,
00835                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+50+font_chartsm.max_font_height,
00836                             m.format((<span class="keywordtype">int</span>)morale,3));
00837 
00838     font_chart_purple_sm.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+50,
00839                              <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+15,
00840                              <span class="comment">//m.format((int)initial_variable.development_gift,18));</span>
00841                              m.format((<span class="keywordtype">int</span>)initialGift,18));
00842     font_chart_purple_sm.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+50,
00843                              <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+50,
00844                              <span class="comment">//m.format((int)initial_variable.development_morale,18));</span>
00845                              m.format((<span class="keywordtype">int</span>)initialMorale,18));
00846 <span class="preprocessor">#else</span>
00847 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
00848     font_chartsm.center_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>+100,
00849                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+50,
00850                             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>+150,
00851                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+50+font_chartsm.max_font_height,
00852                             m.format((<span class="keywordtype">int</span>)morale,3));
00853 <span class="preprocessor">#endif</span>
00854 <span class="preprocessor"></span>
00855     <span class="comment">//          vga_back.indicator(REPORT_X1+MODE_DEVELOPMENT_TAB0+150,</span>
00856     <span class="comment">//                                  REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT+45,</span>
00857     <span class="comment">//                                  REPORT_X1+MODE_DEVELOPMENT_TAB0+250,</span>
00858     <span class="comment">//                                  REPORT_Y1+MODE_DEVELOPMENT_BOX1_HEIGHT+45+font_chartsm.max_font_height,</span>
00859     <span class="comment">//                                  (float)morale,</span>
00860     <span class="comment">//                                  100.0,</span>
00861     <span class="comment">//                                  VGA_YELLOW,</span>
00862     <span class="comment">//                                  V_BLACK);</span>
00863 
00864     vga.blt_buf(
00865         <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+30,
00866         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+5,
00867         <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-30,
00868         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+35);
00869 
00870     vga.blt_buf(
00871         <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+30,
00872         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+40,
00873         <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-30,
00874         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+70);
00875 
00876     vga.blt_buf(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>,
00877                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00878                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a57">MODE_DEVELOPMENT_TAB1</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>,
00879                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-13);
00880 
00881     vga.blt_buf(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>,
00882                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
00883                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>,
00884                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-13);
00885 
00886     vga.blt_buf(
00887         <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>,
00888         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+15,
00889         <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a58">MODE_DEVELOPMENT_TAB2</a>+50,
00890         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+15+font_chartsm.max_font_height);
00891 
00892     vga.blt_buf(
00893         <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>+100,
00894         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+50,
00895         <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a56">MODE_DEVELOPMENT_TAB0</a>+350,
00896         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>+50+font_chartsm.max_font_height);
00897 
00898     <span class="comment">// end Kevin 0723</span>
00899 }
00900 
00901 <span class="comment">//-------- Begin of function report_FINANCIAL ---------//</span>
00903 <span class="comment">static void report_financial(int refreshFlag) {</span>
00904     <span class="comment">// Notes:   temporary variables for debugging</span>
00905     <span class="comment">//                          to be interfaced with game engine</span>
00906 
00907     <span class="keyword">static</span> <span class="keywordtype">int</span> v11=1000,v12=1999,v13=8888;
00908     <span class="keyword">static</span> <span class="keywordtype">double</span> v21=663.23,v22=123.23,v23=17.23,v24=723.23,v25=13.23;
00909     <span class="keyword">static</span> <span class="keywordtype">double</span> v31=813.83,v32=888.23,v33=13.83,v34=188.23,v35=183.23;
00910     <span class="keyword">static</span> <span class="keywordtype">double</span> v41=88.28,v42=777.23,v43=166.27,v44=777.23,v45=173.23;
00911     <span class="keyword">static</span> <span class="keywordtype">int</span> sliderVar1=0;
00912     <span class="comment">//  static float spinnerVar1=0.0;</span>
00913     <span class="keyword">static</span> <span class="keywordtype">int</span> numSeriesData = 8;                   <span class="comment">//*** temporary ***//</span>
00914     <span class="keyword">static</span> <span class="keywordtype">float</span> *dataArray;                        <span class="comment">//*** temporary ***//</span>
00915     <span class="keyword">static</span> <span class="keywordtype">int</span> xStart = 1991, xEnd = 1998;          <span class="comment">//*** temporary ***//</span>
00916 
00917     <span class="comment">// ##### Begin MArco ##### //</span>
00918 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00919 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">double</span> initialv21=663.23;
00920     <span class="keyword">static</span> <span class="keywordtype">double</span> initialv31=813.83;
00921 <span class="preprocessor">#endif</span>
00922 <span class="preprocessor"></span>    <span class="comment">// ##### End MArco ##### //</span>
00923 
00924   <span class="comment">//    Communicate with Sim Engine's Output</span>
00925   <span class="comment">//## chea 031299 7.2.1 try to disp the graph</span>
00926   <span class="comment">//    dataArray=(float*)development_office.history_value;</span>
00927     dataArray=(<span class="keywordtype">float</span>*)development_office.history_value;
00928 
00929     xStart = info.game_year-numSeriesData+1;
00930     xEnd = info.game_year;
00931 
00932     v12=info.financial_year();
00933     v11=v12-1;
00934     v13=v12+1;
00935 
00936   <span class="comment">//## chea 191099 try to display the total gifts</span>
00937   <span class="comment">//    v21=finance.revenue_array[AC_GIFTS].total;</span>
00938     v21=development_office.last_year.total;
00939 
00940     <span class="comment">//## chea 191099 try to display the total gifts</span>
00941     <span class="comment">//  v22=finance.projected_revenue_array[AC_GIFTS].change_last_year.total;</span>
00942     v22=development_office.gift_change_last_year;
00943 
00944   <span class="comment">//## chea 191099 try to display the total gifts</span>
00945   <span class="comment">//    v23=finance.projected_revenue_array[AC_GIFTS].this_year.total;</span>
00946 
00947   <span class="comment">//## chea 091299 7.2.3 should add change here</span>
00948     v23=development_office.this_year.total;
00949     <span class="comment">//  v23=development_office.this_year_total_up2date;</span>
00950 
00951   <span class="comment">//## chea 191099 try to display the total gifts</span>
00952   <span class="comment">//    v24=finance.projected_revenue_array[AC_GIFTS].change_next_year.total;</span>
00953     v24=development_office.gift_change_next_year;
00954 
00955     <span class="comment">//## chea 191099 try to display the total gifts</span>
00956     <span class="comment">//  v25=finance.projected_revenue_array[AC_GIFTS].next_year.total;</span>
00957     v25=development_office.gift_total_next_year;
00958 
00959     v31=finance.expense_array[<a class="code" href="Ofinance_8h.html#a104a51">AC_INST_ADVANCEMENT</a>].total;
00960     v32=finance.projected_expense_array[<a class="code" href="Ofinance_8h.html#a104a51">AC_INST_ADVANCEMENT</a>].change_last_year.total;
00961     v33=finance.projected_expense_array[<a class="code" href="Ofinance_8h.html#a104a51">AC_INST_ADVANCEMENT</a>].this_year.total;
00962 
00963     v34=finance.projected_expense_array[<a class="code" href="Ofinance_8h.html#a104a51">AC_INST_ADVANCEMENT</a>].change_next_year.total;
00964     v35=finance.projected_expense_array[<a class="code" href="Ofinance_8h.html#a104a51">AC_INST_ADVANCEMENT</a>].next_year.total;
00966 
00967   <span class="comment">// ##### Begin MArco ##### //</span>
00968 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
00969 <span class="preprocessor"></span>    initialv21=development_office.initial_gift_total;
00970     initialv31=finance.initial_expense_array[<a class="code" href="Ofinance_8h.html#a104a51">AC_INST_ADVANCEMENT</a>].total;
00971 <span class="preprocessor">#endif</span>
00972 <span class="preprocessor"></span>    <span class="comment">// ##### End MArco ##### //</span>
00973 
00974   <span class="comment">//## chea 191099 try to display the total gifts</span>
00975     <span class="keywordtype">double</span> change_total_last_year;
00976     <span class="keywordtype">double</span> change_total_next_year;
00977 
00978     change_total_last_year = finance.calc_change((v23-v33) , (v21-v31));
00979     change_total_next_year = finance.calc_change((v25-v35) , (v23-v33));
00980 
00981     <span class="keywordtype">int</span> field_space=5*font_chartsm.max_font_width;
00982 
00983     <span class="keywordflow">if</span> (refreshFlag == <a class="code" href="Gamedef_8h.html#a71a16">INFO_REPAINT</a>) {
00984         <span class="comment">// top title</span>
00985         user_interface.brighten(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+150,<a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>-23,<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+575,<a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>-3);
00986         user_interface.rect(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+150,<a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>-23,<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+575,<a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>-3,1);
00987         font_charts.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+255,<a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>-18,<span class="stringliteral">"Development and Alumni Affairs"</span>);
00988 
00989         <span class="keywordflow">if</span> (mode_init_flag != <a class="code" href="Odeve__if_8cpp.html#a93a40">MODE_FINANCIAL</a>) {
00990             <span class="comment">//                  spinnerVar1=0.0;</span>
00991             <span class="comment">//                  spinnerVar1=(float)finance.get_policy_var(false, AC_INST_ADVANCEMENT)-&gt;target_value;</span>
00992             mode_init_flag = <a class="code" href="Odeve__if_8cpp.html#a93a40">MODE_FINANCIAL</a>;
00993             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++) {
00994                 financial_button_up_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00995                 financial_button_down_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
00996             }
00997 
00998             <span class="comment">//--------- draw the brightened boxes ------------//</span>
00999             user_interface.brighten(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>);
01000             user_interface.rect(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>+1);
01001             user_interface.rect(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>-<a class="code" href="Odeve__if_8cpp.html#a100a66">MODE_FINANCIAL_BOX2_HEIGHT</a>-9, <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>-3, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>);
01002             user_interface.rect(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>-5, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>-<a class="code" href="Odeve__if_8cpp.html#a100a66">MODE_FINANCIAL_BOX2_HEIGHT</a>-9, <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>);
01003 
01004             <span class="keywordtype">short</span> y = <a class="code" href="Odeve__if_8cpp.html#a101a78">FINANCIAL_BUTTON_Y1</a>;
01005             <span class="keywordflow">for</span> (i = 0; i &lt; 3; i++, y+=<a class="code" href="Odeve__if_8cpp.html#a102a82">FINANCIAL_BUTTON_HEIGHT</a>+<a class="code" href="Odeve__if_8cpp.html#a102a83">FINANCIAL_BUTTON_DISTANCE</a>) {
01006 
01007                 user_interface.create_button_bitmap(<a class="code" href="Odeve__if_8cpp.html#a101a77">FINANCIAL_BUTTON_X1</a>,y,
01008                                                     <a class="code" href="Odeve__if_8cpp.html#a101a77">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a102a81">FINANCIAL_BUTTON_WIDTH</a>,y+<a class="code" href="Odeve__if_8cpp.html#a102a82">FINANCIAL_BUTTON_HEIGHT</a>,
01009                                                     financial_button_label[i], &amp;financial_button_up_bitmap[i],
01010                                                     &amp;financial_button_down_bitmap[i], &amp;vga_back);
01011 
01012                 financial_button_group[i].create_bitmapW(<a class="code" href="Odeve__if_8cpp.html#a101a77">FINANCIAL_BUTTON_X1</a>,y,
01013                                                          <a class="code" href="Odeve__if_8cpp.html#a101a77">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a102a81">FINANCIAL_BUTTON_WIDTH</a>,y+<a class="code" href="Odeve__if_8cpp.html#a102a82">FINANCIAL_BUTTON_HEIGHT</a>,
01014                                                          (financial_button_up_bitmap[i])+4,0);
01015             }
01016 
01017             financial_spinner_budget.<a class="code" href="classSpinner.html#a2">init</a>(
01018                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a75">MODE_FINANCIAL_TAB5</a>-10,
01019                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>+70,
01020                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a75">MODE_FINANCIAL_TAB5</a>+110,
01021                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>+100,
01022                 <span class="comment">//### begin zhoubin 02/25/99</span>
01023                 &amp;development_office.spinner_var1,
01024                 <span class="comment">//### end zhoubin 02/25/99</span>
01025                 <span class="comment">//                              -100.0f,100.0f,0.1f,0,NULL,23);</span>
01026                 -5.0f,5.0f,0.1f,0,<a class="code" href="OHELP_8H.html#a0">NULL</a>,25);               <span class="comment">//## chea 170999</span>
01027 
01028             <span class="comment">//-------- graph title --------------//</span>
01029             <span class="comment">//## chea 031299 7.2.1 try to disp the graph</span>
01030             <span class="comment">//                  mode_financial_graph_profitloss.init(</span>
01031             <span class="comment">//                          REPORT_X1, REPORT_Y2-MODE_FINANCIAL_BOX2_HEIGHT-9,</span>
01032             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB4-3, REPORT_Y2,</span>
01033             <span class="comment">//                          2, &amp;numSeriesData, dataArray, 1,</span>
01034             <span class="comment">//                          NULL, NULL, mode_financial_legend_label, 1, 1, 1, 2);</span>
01035             mode_financial_graph_profitloss.<a class="code" href="classGraphYear.html#a2">init</a>(
01036                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>-<a class="code" href="Odeve__if_8cpp.html#a100a66">MODE_FINANCIAL_BOX2_HEIGHT</a>-9,
01037                 <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>-3, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>,
01038                 2, &amp;numSeriesData, dataArray, 1,
01039                 <a class="code" href="OHELP_8H.html#a0">NULL</a>, <a class="code" href="OHELP_8H.html#a0">NULL</a>, mode_financial_legend_label, 1, 1, 1, 2);
01040 
01041             financial_spinner_budget.<a class="code" href="classSpinner.html#a4">paint</a>();
01042         }
01043         <span class="keywordflow">else</span> {
01044             <span class="comment">//--------- draw the brightened boxes ------------//</span>
01045             user_interface.brighten(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>);
01046             user_interface.rect(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>+1);
01047             user_interface.rect(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>-<a class="code" href="Odeve__if_8cpp.html#a100a66">MODE_FINANCIAL_BOX2_HEIGHT</a>-9, <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>-3, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>);
01048             user_interface.rect(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>-5, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>-<a class="code" href="Odeve__if_8cpp.html#a100a66">MODE_FINANCIAL_BOX2_HEIGHT</a>-9, <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>);
01049 
01050             <span class="comment">//-------- paint the buttons -----------//</span>
01051             financial_spinner_budget.<a class="code" href="classSpinner.html#a4">paint</a>();
01052         }
01053 
01054         mode_financial_graph_profitloss.<a class="code" href="classGraphYear.html#a8">paint</a>();
01055 
01056     <span class="comment">//-------- display static strings -----------//</span>
01057         font_chartsm.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a71">MODE_FINANCIAL_TAB1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+40, mode_financial_str[0]);
01058         font_chartsm.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a71">MODE_FINANCIAL_TAB1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+60, mode_financial_str[1]);
01059         user_interface.bar(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+10, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+82, <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>-10, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+84, <a class="code" href="COLOR_8H.html#a23">V_BROWN</a>);
01060         font_chartsm.put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a71">MODE_FINANCIAL_TAB1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95, mode_financial_str[2]);
01061         font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a73">MODE_FINANCIAL_TAB3</a>+field_space,
01062                                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+15,
01063                                 <span class="comment">//                                      REPORT_X1+MODE_FINANCIAL_TAB3+field_space,</span>
01064                                 <span class="comment">//                                      REPORT_Y1+15+font_chartsm.max_font_height,</span>
01065                                 mode_financial_str[4]);
01066         font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a75">MODE_FINANCIAL_TAB5</a>+field_space,
01067                                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+15,
01068                                 <span class="comment">//                                      REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
01069                                 <span class="comment">//                                      REPORT_Y1+15+font_chartsm.max_font_height,</span>
01070                                 mode_financial_str[4]);
01071         font_chartsm.put_paragraph(
01072             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>+22,
01073             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01074             <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>,
01075             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+65+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01076             mode_financial_str[5]);
01077         mode_financial_stats_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
01078         mode_financial_stats_bitmap=vga_back.save_area(
01079             <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>,
01080             <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01081             mode_financial_stats_bitmap);
01082     }
01083     <span class="keywordflow">else</span> {                                          <span class="comment">// refreshFlag == INFO_REFRESH</span>
01084         <span class="comment">//-------- refresh dynamic data --------------//</span>
01085         <span class="comment">// refresh() == 1. rest()</span>
01086         <span class="comment">//                                              2. draw()</span>
01087         <span class="comment">//                                              3. blit buffer()</span>
01088 
01089         financial_spinner_budget.<a class="code" href="classSpinner.html#a5">refresh</a>();
01090         mode_financial_graph_profitloss.<a class="code" href="classGraphYear.html#a9">refresh</a>();
01091         vga.blt_buf(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>-<a class="code" href="Odeve__if_8cpp.html#a100a66">MODE_FINANCIAL_BOX2_HEIGHT</a>,
01092                     <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>-10, <a class="code" href="Odeve__if_8cpp.html#a95a45">REPORT_Y2</a>);
01093     }
01094     <span class="keywordtype">int</span> pressed=finance.get_policy_var(<span class="keyword">false</span>, <a class="code" href="Ofinance_8h.html#a104a51">AC_INST_ADVANCEMENT</a>)-&gt;applied_flag;
01095     <span class="keywordflow">if</span>(pressed==<a class="code" href="Ofinanc2_8h.html#a38a5">P_NONE</a>)
01096         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++)
01097             financial_button_group[i].<a class="code" href="classButtonGroup.html#a3">paint</a>();
01098     <span class="keywordflow">else</span>
01099         financial_button_group.<a class="code" href="classButtonGroup.html#a3">paint</a>(pressed-1);
01100 
01101     <span class="keywordtype">short</span> y = <a class="code" href="Odeve__if_8cpp.html#a101a78">FINANCIAL_BUTTON_Y1</a>;
01102     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++, y+=<a class="code" href="Odeve__if_8cpp.html#a102a82">FINANCIAL_BUTTON_HEIGHT</a>+<a class="code" href="Odeve__if_8cpp.html#a102a83">FINANCIAL_BUTTON_DISTANCE</a>) {
01103         vga.blt_buf(<a class="code" href="Odeve__if_8cpp.html#a101a77">FINANCIAL_BUTTON_X1</a>,y,
01104                     <a class="code" href="Odeve__if_8cpp.html#a101a77">FINANCIAL_BUTTON_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a102a81">FINANCIAL_BUTTON_WIDTH</a>,y+<a class="code" href="Odeve__if_8cpp.html#a102a82">FINANCIAL_BUTTON_HEIGHT</a>);
01105     }
01106     vga_back.rest_area(mode_financial_stats_bitmap,0,0);
01107     <a class="code" href="classString.html">String</a> *s1,*s2;
01108 
01109     <span class="comment">//show years</span>
01110 
01111     s1=<span class="keyword">new</span> <a class="code" href="classString.html">String</a>(m.format(v11,16));
01112     s2=<span class="keyword">new</span> <a class="code" href="classString.html">String</a>(m.format(v11+1,16));
01113     <span class="comment">//  (*s1)+="-";   //## chea 061199 2.5.1</span>
01114     <span class="comment">//  (*s1)+=(*s2); //## chea 061199 2.5.1</span>
01115     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>+field_space,
01116                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+15,
01117                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
01118                             <span class="comment">//                          REPORT_Y1+15+font_chartsm.max_font_height,</span>
01119                             s1-&gt;<a class="code" href="classString.html#m0">str_buf</a>);
01120     (*s1)=m.format(v12,16);
01121     (*s2)=m.format(v12+1,16);
01122     <span class="comment">//  (*s1)+="-";   //## chea 061199 2.5.1</span>
01123     <span class="comment">//  (*s1)+=(*s2); //## chea 061199 2.5.1</span>
01124     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>+field_space,
01125                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+15,
01126                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
01127                             <span class="comment">//                          REPORT_Y1+15+font_chartsm.max_font_height,</span>
01128                             s1-&gt;<a class="code" href="classString.html#m0">str_buf</a>);
01129     (*s1)=m.format(v13,16);
01130     (*s2)=m.format(v13+1,16);
01131     <span class="comment">//  (*s1)+="-";   //## chea 061199 2.5.1</span>
01132     <span class="comment">//  (*s1)+=(*s2); //## chea 061199 2.5.1</span>
01133     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a76">MODE_FINANCIAL_TAB6</a>+field_space,
01134                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+15,
01135                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
01136                             <span class="comment">//                          REPORT_Y1+15+font_chartsm.max_font_height,</span>
01137                             s1-&gt;<a class="code" href="classString.html#m0">str_buf</a>);
01138     <span class="keyword">delete</span> s1,s2;
01139 
01140     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>+field_space,
01141                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+40,
01142                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
01143                             <span class="comment">//                          REPORT_Y1+40+font_chartsm.max_font_height,</span>
01144                             m.format(v21, 2));
01145     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>+field_space,
01146                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+60,
01147                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
01148                             <span class="comment">//                          REPORT_Y1+60+font_chartsm.max_font_height,</span>
01149                             m.format(v31, 2));
01150     <span class="keywordflow">if</span>((v21-v31)&gt;=0)
01151         font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>+field_space,
01152                                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01153                                 <span class="comment">//                              REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
01154                                 <span class="comment">//                              REPORT_Y1+95+font_chartsm.max_font_height,</span>
01155                                 m.format(v21-v31, 2));
01156     <span class="keywordflow">else</span>
01157         font_chart_red_sm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>+field_space,
01158                                      <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01159                                      <span class="comment">//                         REPORT_X1+MODE_FINANCIAL_TAB2+field_space,</span>
01160                                      <span class="comment">//                         REPORT_Y1+95+font_chartsm.max_font_height,</span>
01161                                      m.format(v21-v31, 2));
01162 
01163     <span class="comment">// ##### Begin Marco ##### //</span>
01164 <span class="preprocessor">#if(GAME_VERSION&gt;=200)</span>
01165 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(info.financial_year() &gt; 1) {
01166         font_chart_purple_sm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>,
01167                                         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+15,
01168                                         <span class="stringliteral">"Yr. 0 (Initial)"</span>);
01169         font_chart_purple_sm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>,
01170                                         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+40,
01171                                         <span class="comment">//m.format(initial_variable.development_finance_v21, 2));</span>
01172                                         m.format(initialv21, 2));
01173         font_chart_purple_sm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>,
01174                                         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+60,
01175                                         <span class="comment">//m.format(initial_variable.development_finance_v31, 2));</span>
01176                                         m.format(initialv31, 2));
01177         font_chart_purple_sm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>,
01178                                         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01179                                         <span class="comment">//m.format(initial_variable.development_finance_v21-initial_variable.development_finance_v31, 2));</span>
01180                                         m.format(initialv21-initialv31, 2));
01181     }
01182 <span class="preprocessor">#endif</span>
01183 <span class="preprocessor"></span>    <span class="comment">// ##### End Marco ##### //</span>
01184 
01185     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a73">MODE_FINANCIAL_TAB3</a>+field_space,
01186                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+40,
01187                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB3+field_space,</span>
01188                             <span class="comment">//                                  REPORT_Y1+40+font_chartsm.max_font_height,</span>
01189                             m.format(v22, 24) );
01190     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a73">MODE_FINANCIAL_TAB3</a>+field_space,
01191                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+60,
01192                             m.format(v32, 24) );
01193 
01194     <span class="keywordflow">if</span>((change_total_last_year)&gt;=0) {
01195         font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a73">MODE_FINANCIAL_TAB3</a>+field_space,
01196                                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01197                                 m.format(change_total_last_year, 24));
01198     }
01199     <span class="keywordflow">else</span> {
01200         font_chart_red_sm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a73">MODE_FINANCIAL_TAB3</a>+field_space,
01201                                      <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01202                                      m.format(change_total_last_year, 24));
01203     }
01204 
01205     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>+field_space,
01206                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+40,
01207                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
01208                             <span class="comment">//                          REPORT_Y1+40+font_chartsm.max_font_height,</span>
01209                             m.format(v23, 2));
01210 
01211     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>+field_space,
01212                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+60,
01213                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
01214                             <span class="comment">//                          REPORT_Y1+60+font_chartsm.max_font_height,</span>
01215                             m.format(v33, 2));
01216     <span class="keywordflow">if</span>((v23-v33)&gt;=0)
01217         font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>+field_space,
01218                                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01219                                 <span class="comment">//                              REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
01220                                 <span class="comment">//                              REPORT_Y1+95+font_chartsm.max_font_height,</span>
01221                                 m.format(v23-v33, 2));
01222     <span class="keywordflow">else</span>
01223         font_chart_red_sm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>+field_space,
01224                                      <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01225                                      <span class="comment">//                         REPORT_X1+MODE_FINANCIAL_TAB4+field_space,</span>
01226                                      <span class="comment">//                         REPORT_Y1+95+font_chartsm.max_font_height,</span>
01227                                      m.format(v23-v33, 2));
01228 
01229     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a75">MODE_FINANCIAL_TAB5</a>+field_space,
01230                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+40,
01231                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
01232                             <span class="comment">//                          REPORT_Y1+40+font_chartsm.max_font_height,</span>
01233                             m.format(v24, 24));
01234     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a75">MODE_FINANCIAL_TAB5</a>+field_space,
01235                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+60,
01236                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
01237                             <span class="comment">//                          REPORT_Y1+60+font_chartsm.max_font_height,</span>
01238                             m.format(v34, 24));
01239 
01240     <span class="comment">//## chea 191099 try to display the total gifts</span>
01241     <span class="comment">//  if((v24-v34)&gt;=0)</span>
01242     <span class="keywordflow">if</span>((change_total_next_year)&gt;=0)
01243         font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a75">MODE_FINANCIAL_TAB5</a>+field_space,
01244                                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01245                                 <span class="comment">//                              REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
01246                                 <span class="comment">//                              REPORT_Y1+95+font_chartsm.max_font_height,</span>
01247 
01248                                 <span class="comment">//## chea 191099 try to display the total gifts</span>
01249                                 <span class="comment">//                              m.format(v24-v34, 3));</span>
01250                                 m.format(change_total_next_year, 24));
01251 
01252     <span class="keywordflow">else</span>
01253         font_chart_red_sm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a75">MODE_FINANCIAL_TAB5</a>+field_space,
01254                                      <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01255                                      <span class="comment">//                         REPORT_X1+MODE_FINANCIAL_TAB5+field_space,</span>
01256                                      <span class="comment">//                         REPORT_Y1+95+font_chartsm.max_font_height,</span>
01257 
01258                                      <span class="comment">//## chea 191099 try to display the total gifts</span>
01259                                      <span class="comment">//                         m.format(v24-v34, 3));</span>
01260                                      m.format(change_total_next_year, 24));
01261 
01262     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a76">MODE_FINANCIAL_TAB6</a>+field_space,
01263                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+40,
01264                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
01265                             <span class="comment">//                          REPORT_Y1+40+font_chartsm.max_font_height,</span>
01266                             m.format(v25, 2));
01267     font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a76">MODE_FINANCIAL_TAB6</a>+field_space,
01268                             <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+60,
01269                             <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
01270                             <span class="comment">//                          REPORT_Y1+60+font_chartsm.max_font_height,</span>
01271                             m.format(v35, 2));
01272 
01273     <span class="keywordflow">if</span>((v25-v35)&gt;=0)
01274         font_chartsm.right_put( <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a76">MODE_FINANCIAL_TAB6</a>+field_space,
01275                                 <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01276                                 <span class="comment">//                              REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
01277                                 <span class="comment">//                              REPORT_Y1+95+font_chartsm.max_font_height,</span>
01278                                 m.format(v25-v35, 2));
01279     <span class="keywordflow">else</span>
01280         font_chart_red_sm.right_put(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a76">MODE_FINANCIAL_TAB6</a>+field_space,
01281                                     <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+95,
01282                                     <span class="comment">//                          REPORT_X1+MODE_FINANCIAL_TAB6+field_space,</span>
01283                                     <span class="comment">//                          REPORT_Y1+95+font_chart_red_sm.max_font_height,</span>
01284                                     m.format(v25-v35, 2));
01285 
01286     vga.blt_buf(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a72">MODE_FINANCIAL_TAB2</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>,
01287                 <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>, <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>);
01288 
01289     <span class="keywordflow">for</span>(i=0;i&lt;3;i++) {
01290         financial_button_group[i].pop();
01291         financial_button_group[i].body_ptr=
01292             (<span class="keywordtype">void</span>*)(financial_button_up_bitmap[i]+4);
01293     }
01294 }
01295 
01296 <span class="comment">//---------- End of function report_FINANCIAL ---------//</span>
01297 
01298 <span class="comment">//-------- Begin of function detect_development ---------//</span>
01300 <span class="comment">static int detect_development() {</span>
01301     <span class="keywordflow">if</span> (mode_init_flag != <a class="code" href="Odeve__if_8cpp.html#a93a39">MODE_DEVELOPMENT</a>)
01302         <span class="keywordflow">return</span> 0;
01303     help.set_help(<a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+10,
01304                   <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-65,
01305                   <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a59">MODE_DEVELOPMENT_TAB3</a>+<a class="code" href="Odeve__if_8cpp.html#a99a61">MODE_DEVELOPMENT_GRAPH_WIDTH</a>-10,
01306                   <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+<a class="code" href="Odeve__if_8cpp.html#a98a53">MODE_DEVELOPMENT_BOX1_HEIGHT</a>-5,
01307                   <span class="stringliteral">"H6.1.1."</span>);
01308 
01309     <span class="keywordtype">float</span> sliderVar1,sliderVar2,sliderVar3,total;
01310     <span class="keywordflow">if</span>(mode_development_slider1.<a class="code" href="classValueSlider.html#a8">detect</a>()) {
01311         sliderVar1=development_office.allocation_policy.cur_operations=(float)(*(mode_development_slider1.<a class="code" href="classValueSlider.html#m7">var_ptr</a>)/(float)100.0);
01312         sliderVar2=(float)(*(mode_development_slider2.<a class="code" href="classValueSlider.html#m7">var_ptr</a>)/(float)100.0);
01313         sliderVar3=(float)(*(mode_development_slider3.<a class="code" href="classValueSlider.html#m7">var_ptr</a>)/(float)100.0);
01314         total=sliderVar2+sliderVar3;
01315         <span class="keywordflow">if</span>(total&gt;1E-9) {
01316             development_office.allocation_policy.endowment=
01317                 (1.0f-sliderVar1)*(sliderVar2/total);
01318             development_office.allocation_policy.facilities=
01319                 (1.0f-sliderVar1)*(sliderVar3/total);
01320         }
01321         <span class="keywordflow">else</span> {
01322             development_office.allocation_policy.endowment=
01323                 (0.5f-sliderVar1*0.5f);
01324             development_office.allocation_policy.facilities=
01325                 (0.5f-sliderVar1*0.5f);
01326         }
01327         <span class="keywordflow">return</span> 1;
01328     }
01329     <span class="keywordflow">if</span>(mode_development_slider2.<a class="code" href="classValueSlider.html#a8">detect</a>()) {
01330         sliderVar1=(float)(*(mode_development_slider1.<a class="code" href="classValueSlider.html#m7">var_ptr</a>)/(float)100.0);
01331         sliderVar2=development_office.allocation_policy.endowment=(float)(*(mode_development_slider2.<a class="code" href="classValueSlider.html#m7">var_ptr</a>)/(float)100.0);
01332         sliderVar3=(float)(*(mode_development_slider3.<a class="code" href="classValueSlider.html#m7">var_ptr</a>)/(float)100.0);
01333         total=sliderVar1+sliderVar3;
01334         <span class="keywordflow">if</span>(total&gt;1E-9) {
01335             development_office.allocation_policy.cur_operations=
01336                 (1.0f-sliderVar2)*(sliderVar1/total);
01337             development_office.allocation_policy.facilities=
01338                 (1.0f-sliderVar2)*(sliderVar3/total);
01339         }
01340         <span class="keywordflow">else</span> {
01341             development_office.allocation_policy.cur_operations=
01342                 (0.5f-sliderVar2*0.5f);
01343             development_office.allocation_policy.facilities=
01344                 (0.5f-sliderVar2*0.5f);
01345         }
01346         <span class="keywordflow">return</span> 1;
01347     }
01348     <span class="keywordflow">if</span>(mode_development_slider3.<a class="code" href="classValueSlider.html#a8">detect</a>()) {
01349         sliderVar1=(float)(*(mode_development_slider1.<a class="code" href="classValueSlider.html#m7">var_ptr</a>)/(float)100.0);
01350         sliderVar2=(float)(*(mode_development_slider2.<a class="code" href="classValueSlider.html#m7">var_ptr</a>)/(float)100.0);
01351         sliderVar3=development_office.allocation_policy.facilities=(float)(*(mode_development_slider3.<a class="code" href="classValueSlider.html#m7">var_ptr</a>)/(float)100.0);
01352         total=sliderVar1+sliderVar2;
01353         <span class="keywordflow">if</span>(total&gt;1E-9) {
01354             development_office.allocation_policy.cur_operations=
01355                 (1.0f-sliderVar3)*(sliderVar1/total);
01356             development_office.allocation_policy.endowment=
01357                 (1.0f-sliderVar3)*(sliderVar2/total);
01358         }
01359         <span class="keywordflow">else</span> {
01360             development_office.allocation_policy.cur_operations=
01361                 (0.5f-sliderVar3*0.5f);
01362             development_office.allocation_policy.endowment=
01363                 (0.5f-sliderVar3*0.5f);
01364         }
01365         <span class="keywordflow">return</span> 1;
01366     }
01367     <span class="keywordflow">return</span> 0;
01368 }
01369 
01370 <span class="comment">//---------- End of function detect_development ---------//</span>
01371 
01372 <span class="comment">//-------- Begin of function detect_financial ---------//</span>
01374 <span class="comment">static int detect_financial() {</span>
01375     vga.use_front();
01376     help.set_help(
01377         <a class="code" href="Odeve__if_8cpp.html#a95a42">REPORT_X1</a>+<a class="code" href="Odeve__if_8cpp.html#a100a74">MODE_FINANCIAL_TAB4</a>+22,
01378         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+30+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01379         <a class="code" href="Odeve__if_8cpp.html#a95a44">REPORT_X2</a>,
01380         <a class="code" href="Odeve__if_8cpp.html#a95a43">REPORT_Y1</a>+65+<a class="code" href="Odeve__if_8cpp.html#a100a65">MODE_FINANCIAL_BOX1_HEIGHT</a>,
01381         <span class="stringliteral">"A.5.5.1."</span>
01382         );
01383 
01384     <span class="keywordflow">if</span> (mode_init_flag != <a class="code" href="Odeve__if_8cpp.html#a93a40">MODE_FINANCIAL</a>)
01385         <span class="keywordflow">return</span> 0;
01386 
01387     <span class="keywordflow">if</span> (financial_spinner_budget.<a class="code" href="classSpinner.html#a6">detect</a>())
01388         <span class="keywordflow">return</span> 1;
01389 
01390     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++)
01391         <span class="keywordflow">if</span>(financial_button_group[i].<a class="code" href="classButtonGroup.html#a4">detect</a>()) {
01392             financial_button_group[i].body_ptr =
01393                 (<span class="keywordtype">void</span> *) (financial_button_down_bitmap[i] + 4);
01394             <span class="comment">//  Communicate with Sim Engine</span>
01395             finance.change_budget(i,<span class="keyword">false</span>, <a class="code" href="Ofinance_8h.html#a104a51">AC_INST_ADVANCEMENT</a>,(*financial_spinner_budget.<a class="code" href="classSpinner.html#m7">var_ptr</a>));
01396             <span class="comment">//##        begin zhoubin 000329</span>
01397             *financial_spinner_budget.<a class="code" href="classSpinner.html#m7">var_ptr</a>=0;
01398             <span class="comment">//##        end zhoubin 000329</span>
01399         }
01400 
01401     <span class="keywordflow">return</span> 0;
01402 }
01403 
01404 <span class="comment">//---------- End of function detect_FINANCIAL ---------//</span>
01405 
01406 <span class="comment">//-------- Begin of function deinit_development ---------//</span>
01408 <span class="comment">static void deinit_development() {</span>
01409     <span class="keywordflow">if</span> (mode_init_flag == <a class="code" href="Odeve__if_8cpp.html#a93a39">MODE_DEVELOPMENT</a>) {
01410 
01411         mode_development_piechart1.<a class="code" href="classPieChart.html#a11">deinit</a>();
01412         mode_development_piechart2.<a class="code" href="classPieChart.html#a11">deinit</a>();
01413         mode_development_piechart3.<a class="code" href="classPieChart.html#a11">deinit</a>();
01414         mode_development_slider1.<a class="code" href="classValueSlider.html#a5">deinit</a>();
01415         mode_development_slider2.<a class="code" href="classValueSlider.html#a5">deinit</a>();
01416         mode_development_slider3.<a class="code" href="classValueSlider.html#a5">deinit</a>();
01417 
01418         mode_development_graphicon1.<a class="code" href="classGraphPerformanceIndicatorYear.html#a7">deinit</a>();
01419         mode_development_graphicon2.<a class="code" href="classGraphPerformanceIndicatorYear.html#a7">deinit</a>();
01420 
01421         <span class="keywordflow">if</span>(mode_development_last_year_bitmap) {
01422             <a class="code" href="ALL_8H.html#a8">mem_del</a>(mode_development_last_year_bitmap);
01423             mode_development_last_year_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
01424         }
01425         <span class="keywordflow">if</span>(mode_development_this_year_bitmap) {
01426             <a class="code" href="ALL_8H.html#a8">mem_del</a>(mode_development_this_year_bitmap);
01427             mode_development_this_year_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
01428         }
01429         <span class="keywordflow">if</span>(mode_development_gift_bitmap) {
01430             <a class="code" href="ALL_8H.html#a8">mem_del</a>(mode_development_gift_bitmap);
01431             mode_development_gift_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
01432         }
01433         <span class="keywordflow">if</span>(mode_development_morale_bitmap) {
01434             <a class="code" href="ALL_8H.html#a8">mem_del</a>(mode_development_morale_bitmap);
01435             mode_development_morale_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
01436         }
01437 
01438         <span class="comment">// reset flag</span>
01439         mode_init_flag = -1;
01440     }
01441 }
01442 
01443 <span class="comment">//---------- End of function deinit_development ---------//</span>
01444 
01445 <span class="comment">//-------- Begin of function deinit_financial ------//</span>
01447 <span class="comment">static void deinit_financial() {</span>
01448     <span class="keywordflow">if</span> (mode_init_flag == <a class="code" href="Odeve__if_8cpp.html#a93a40">MODE_FINANCIAL</a>) {
01449         <span class="comment">// deallocate memory used by the radio buttons and the value sliders</span>
01450         <span class="keywordflow">if</span>(mode_financial_stats_bitmap) {
01451             <a class="code" href="ALL_8H.html#a8">mem_del</a>(mode_financial_stats_bitmap);
01452             mode_financial_stats_bitmap=<a class="code" href="OHELP_8H.html#a0">NULL</a>;
01453         }
01454 
01455         <span class="comment">// ##### begin Gilbert 28/04/2001 ######//</span>
01456         financial_button_group.<a class="code" href="classButtonGroup.html#a2">deinit_buttons</a>();
01457         <span class="comment">// ##### end Gilbert 28/04/2001 ######//</span>
01458         <span class="keywordflow">if</span> (*financial_button_up_bitmap) {
01459             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++) {
01460                 <a class="code" href="ALL_8H.html#a8">mem_del</a>(financial_button_up_bitmap[i]);
01461                 <a class="code" href="ALL_8H.html#a8">mem_del</a>(financial_button_down_bitmap[i]);
01462                 financial_button_up_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
01463                 financial_button_down_bitmap[i] = <a class="code" href="OHELP_8H.html#a0">NULL</a>;
01464             }
01465         }
01466 
01467         <span class="comment">//              mode_financial_slider_budget.deinit();</span>
01468         financial_spinner_budget.<a class="code" href="classSpinner.html#a3">deinit</a>();
01469         mode_financial_graph_profitloss.<a class="code" href="classGraphYear.html#a7">deinit</a>();
01470 
01471         <span class="comment">// reset flag</span>
01472         mode_init_flag = -1;
01473     }
01474 }
01475 
01476 <span class="comment">//---------- End of function deinit_financial ------//</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Aug 23 01:37:25 2002 for VirtualU by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
